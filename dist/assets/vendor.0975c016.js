var t=Object.assign;function e(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const n=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),r=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function i(t){if(T(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=i(A(r)?a(r):r);if(o)for(const t in o)e[t]=o[t]}return e}if(x(t))return t}const o=/;(?![^(]*\))/g,s=/:(.+)/;function a(t){const e={};return t.split(o).forEach((t=>{if(t){const n=t.split(s);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function u(t){let e="";if(A(t))e=t;else if(T(t))for(let n=0;n<t.length;n++){const r=u(t[n]);r&&(e+=r+" ")}else if(x(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function c(t,e){if(t===e)return!0;let n=k(t),r=k(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=T(t),r=T(e),n||r)return!(!n||!r)&&function(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=c(t[r],e[r]);return n}(t,e);if(n=x(t),r=x(e),n||r){if(!n||!r)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!c(t[n],e[n]))return!1}}return String(t)===String(e)}function l(t,e){return t.findIndex((t=>c(t,e)))}const h=t=>null==t?"":x(t)?JSON.stringify(t,f,2):String(t),f=(t,e)=>S(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:C(e)?{[`Set(${e.size})`]:[...e.values()]}:!x(e)||T(e)||L(e)?e:String(e),p={},d=[],v=()=>{},g=()=>!1,m=/^on[^a-z]/,y=t=>m.test(t),_=t=>t.startsWith("onUpdate:"),b=Object.assign,w=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},E=Object.prototype.hasOwnProperty,I=(t,e)=>E.call(t,e),T=Array.isArray,S=t=>"[object Map]"===D(t),C=t=>"[object Set]"===D(t),k=t=>t instanceof Date,N=t=>"function"==typeof t,A=t=>"string"==typeof t,O=t=>"symbol"==typeof t,x=t=>null!==t&&"object"==typeof t,P=t=>x(t)&&N(t.then)&&N(t.catch),R=Object.prototype.toString,D=t=>R.call(t),L=t=>"[object Object]"===D(t),M=t=>A(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,F=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),j=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},U=/-(\w)/g,V=j((t=>t.replace(U,((t,e)=>e?e.toUpperCase():"")))),q=/\B([A-Z])/g,B=j((t=>t.replace(q,"-$1").toLowerCase())),W=j((t=>t.charAt(0).toUpperCase()+t.slice(1))),H=j((t=>t?`on${W(t)}`:"")),z=(t,e)=>t!==e&&(t==t||e==e),G=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},K=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Q=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Y=new WeakMap,$=[];let X;const J=Symbol(""),Z=Symbol("");function tt(t,e=p){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const n=function(t,e){const n=function(){if(!n.active)return e.scheduler?void 0:t();if(!$.includes(n)){rt(n);try{return ot.push(it),it=!0,$.push(n),X=n,t()}finally{$.pop(),at(),X=$[$.length-1]}}};return n.id=nt++,n.allowRecurse=!!e.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=t,n.deps=[],n.options=e,n}(t,e);return e.lazy||n(),n}function et(t){t.active&&(rt(t),t.options.onStop&&t.options.onStop(),t.active=!1)}let nt=0;function rt(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let it=!0;const ot=[];function st(){ot.push(it),it=!1}function at(){const t=ot.pop();it=void 0===t||t}function ut(t,e,n){if(!it||void 0===X)return;let r=Y.get(t);r||Y.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=new Set),i.has(X)||(i.add(X),X.deps.push(i))}function ct(t,e,n,r,i,o){const s=Y.get(t);if(!s)return;const a=new Set,u=t=>{t&&t.forEach((t=>{(t!==X||t.allowRecurse)&&a.add(t)}))};if("clear"===e)s.forEach(u);else if("length"===n&&T(t))s.forEach(((t,e)=>{("length"===e||e>=r)&&u(t)}));else switch(void 0!==n&&u(s.get(n)),e){case"add":T(t)?M(n)&&u(s.get("length")):(u(s.get(J)),S(t)&&u(s.get(Z)));break;case"delete":T(t)||(u(s.get(J)),S(t)&&u(s.get(Z)));break;case"set":S(t)&&u(s.get(J))}a.forEach((t=>{t.options.scheduler?t.options.scheduler(t):t()}))}const lt=e("__proto__,__v_isRef,__isVue"),ht=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(O)),ft=mt(),pt=mt(!1,!0),dt=mt(!0),vt=mt(!0,!0),gt={};function mt(t=!1,e=!1){return function(n,r,i){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_raw"===r&&i===(t?Ht:Wt).get(n))return n;const o=T(n);if(!t&&o&&I(gt,r))return Reflect.get(gt,r,i);const s=Reflect.get(n,r,i);if(O(r)?ht.has(r):lt(r))return s;if(t||ut(n,0,r),e)return s;if(te(s)){return!o||!M(r)?s.value:s}return x(s)?t?Kt(s):Gt(s):s}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];gt[t]=function(...t){const n=Jt(this);for(let e=0,i=this.length;e<i;e++)ut(n,0,e+"");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(Jt)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];gt[t]=function(...t){st();const n=e.apply(this,t);return at(),n}}));function yt(t=!1){return function(e,n,r,i){const o=e[n];if(!t&&(r=Jt(r),!T(e)&&te(o)&&!te(r)))return o.value=r,!0;const s=T(e)&&M(n)?Number(n)<e.length:I(e,n),a=Reflect.set(e,n,r,i);return e===Jt(i)&&(s?z(r,o)&&ct(e,"set",n,r):ct(e,"add",n,r)),a}}const _t={get:ft,set:yt(),deleteProperty:function(t,e){const n=I(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&ct(t,"delete",e,void 0),r},has:function(t,e){const n=Reflect.has(t,e);return O(e)&&ht.has(e)||ut(t,0,e),n},ownKeys:function(t){return ut(t,0,T(t)?"length":J),Reflect.ownKeys(t)}},bt={get:dt,set:(t,e)=>!0,deleteProperty:(t,e)=>!0},wt=b({},_t,{get:pt,set:yt(!0)});b({},bt,{get:vt});const Et=t=>x(t)?Gt(t):t,It=t=>x(t)?Kt(t):t,Tt=t=>t,St=t=>Reflect.getPrototypeOf(t);function Ct(t,e,n=!1,r=!1){const i=Jt(t=t.__v_raw),o=Jt(e);e!==o&&!n&&ut(i,0,e),!n&&ut(i,0,o);const{has:s}=St(i),a=n?It:r?Tt:Et;return s.call(i,e)?a(t.get(e)):s.call(i,o)?a(t.get(o)):void 0}function kt(t,e=!1){const n=this.__v_raw,r=Jt(n),i=Jt(t);return t!==i&&!e&&ut(r,0,t),!e&&ut(r,0,i),t===i?n.has(t):n.has(t)||n.has(i)}function Nt(t,e=!1){return t=t.__v_raw,!e&&ut(Jt(t),0,J),Reflect.get(t,"size",t)}function At(t){t=Jt(t);const e=Jt(this),n=St(e).has.call(e,t);return e.add(t),n||ct(e,"add",t,t),this}function Ot(t,e){e=Jt(e);const n=Jt(this),{has:r,get:i}=St(n);let o=r.call(n,t);o||(t=Jt(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?z(e,s)&&ct(n,"set",t,e):ct(n,"add",t,e),this}function xt(t){const e=Jt(this),{has:n,get:r}=St(e);let i=n.call(e,t);i||(t=Jt(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&ct(e,"delete",t,void 0),o}function Pt(){const t=Jt(this),e=0!==t.size,n=t.clear();return e&&ct(t,"clear",void 0,void 0),n}function Rt(t,e){return function(n,r){const i=this,o=i.__v_raw,s=Jt(o),a=t?It:e?Tt:Et;return!t&&ut(s,0,J),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function Dt(t,e,n){return function(...r){const i=this.__v_raw,o=Jt(i),s=S(o),a="entries"===t||t===Symbol.iterator&&s,u="keys"===t&&s,c=i[t](...r),l=e?It:n?Tt:Et;return!e&&ut(o,0,u?Z:J),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[l(t[0]),l(t[1])]:l(t),done:e}},[Symbol.iterator](){return this}}}}function Lt(t){return function(...e){return"delete"!==t&&this}}const Mt={get(t){return Ct(this,t)},get size(){return Nt(this)},has:kt,add:At,set:Ot,delete:xt,clear:Pt,forEach:Rt(!1,!1)},Ft={get(t){return Ct(this,t,!1,!0)},get size(){return Nt(this)},has:kt,add:At,set:Ot,delete:xt,clear:Pt,forEach:Rt(!1,!0)},jt={get(t){return Ct(this,t,!0)},get size(){return Nt(this,!0)},has(t){return kt.call(this,t,!0)},add:Lt("add"),set:Lt("set"),delete:Lt("delete"),clear:Lt("clear"),forEach:Rt(!0,!1)};function Ut(t,e){const n=e?Ft:t?jt:Mt;return(e,r,i)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get(I(n,r)&&r in e?n:e,r,i)}["keys","values","entries",Symbol.iterator].forEach((t=>{Mt[t]=Dt(t,!1,!1),jt[t]=Dt(t,!0,!1),Ft[t]=Dt(t,!1,!0)}));const Vt={get:Ut(!1,!1)},qt={get:Ut(!1,!0)},Bt={get:Ut(!0,!1)},Wt=new WeakMap,Ht=new WeakMap;function zt(t){return t.__v_skip||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>D(t).slice(8,-1))(t))}function Gt(t){return t&&t.__v_isReadonly?t:Qt(t,!1,_t,Vt)}function Kt(t){return Qt(t,!0,bt,Bt)}function Qt(t,e,n,r){if(!x(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const i=e?Ht:Wt,o=i.get(t);if(o)return o;const s=zt(t);if(0===s)return t;const a=new Proxy(t,2===s?r:n);return i.set(t,a),a}function Yt(t){return $t(t)?Yt(t.__v_raw):!(!t||!t.__v_isReactive)}function $t(t){return!(!t||!t.__v_isReadonly)}function Xt(t){return Yt(t)||$t(t)}function Jt(t){return t&&Jt(t.__v_raw)||t}const Zt=t=>x(t)?Gt(t):t;function te(t){return Boolean(t&&!0===t.__v_isRef)}function ee(t){return re(t)}class ne{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:Zt(t)}get value(){return ut(Jt(this),0,"value"),this._value}set value(t){z(Jt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Zt(t),ct(Jt(this),"set","value",t))}}function re(t,e=!1){return te(t)?t:new ne(t,e)}function ie(t){return te(t)?t.value:t}const oe={get:(t,e,n)=>ie(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return te(i)&&!te(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function se(t){return Yt(t)?t:new Proxy(t,oe)}class ae{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}class ue{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=tt(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ct(Jt(this),"set","value"))}}),this.__v_isReadonly=n}get value(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),ut(Jt(this),0,"value"),this._value}set value(t){this._setter(t)}}function ce(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){he(o,e,n)}return i}function le(t,e,n,r){if(N(t)){const i=ce(t,e,n,r);return i&&P(i)&&i.catch((t=>{he(t,e,n)})),i}const i=[];for(let o=0;o<t.length;o++)i.push(le(t[o],e,n,r));return i}function he(t,e,n,r=!0){e&&e.vnode;if(e){let r=e.parent;const i=e.proxy,o=n;for(;r;){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,o))return;r=r.parent}const s=e.appContext.config.errorHandler;if(s)return void ce(s,null,10,[t,i,o])}!function(t,e,n,r=!0){console.error(t)}(t,0,0,r)}let fe=!1,pe=!1;const de=[];let ve=0;const ge=[];let me=null,ye=0;const _e=[];let be=null,we=0;const Ee=Promise.resolve();let Ie=null,Te=null;function Se(t){const e=Ie||Ee;return t?e.then(this?t.bind(this):t):e}function Ce(t){de.length&&de.includes(t,fe&&t.allowRecurse?ve+1:ve)||t===Te||(de.push(t),ke())}function ke(){fe||pe||(pe=!0,Ie=Ee.then(Pe))}function Ne(t,e,n,r){T(t)?n.push(...t):e&&e.includes(t,t.allowRecurse?r+1:r)||n.push(t),ke()}function Ae(t,e=null){if(ge.length){for(Te=e,me=[...new Set(ge)],ge.length=0,ye=0;ye<me.length;ye++)me[ye]();me=null,ye=0,Te=null,Ae(t,e)}}function Oe(t){if(_e.length){const t=[...new Set(_e)];if(_e.length=0,be)return void be.push(...t);for(be=t,be.sort(((t,e)=>xe(t)-xe(e))),we=0;we<be.length;we++)be[we]();be=null,we=0}}const xe=t=>null==t.id?1/0:t.id;function Pe(t){pe=!1,fe=!0,Ae(t),de.sort(((t,e)=>xe(t)-xe(e)));try{for(ve=0;ve<de.length;ve++){const t=de[ve];t&&ce(t,null,14)}}finally{ve=0,de.length=0,Oe(),fe=!1,Ie=null,(de.length||_e.length)&&Pe(t)}}function Re(t,e,...n){const r=t.vnode.props||p;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const t=`${"modelValue"===s?"model":s}Modifiers`,{number:e,trim:o}=r[t]||p;o?i=n.map((t=>t.trim())):e&&(i=n.map(Q))}let a=H(V(e)),u=r[a];!u&&o&&(a=H(B(e)),u=r[a]),u&&le(u,t,6,i);const c=r[a+"Once"];if(c){if(t.emitted){if(t.emitted[a])return}else(t.emitted={})[a]=!0;le(c,t,6,i)}}function De(t,e,n=!1){if(!e.deopt&&void 0!==t.__emits)return t.__emits;const r=t.emits;let i={},o=!1;if(!N(t)){const r=t=>{o=!0,b(i,De(t,e,!0))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return r||o?(T(r)?r.forEach((t=>i[t]=null)):b(i,r),t.__emits=i):t.__emits=null}function Le(t,e){return!(!t||!y(e))&&(e=e.slice(2).replace(/Once$/,""),I(t,e[0].toLowerCase()+e.slice(1))||I(t,B(e))||I(t,e))}let Me=null;function Fe(t){Me=t}function je(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:f,setupState:p,ctx:d}=t;let v;Me=t;try{let t;if(4&n.shapeFlag){const e=i||r;v=lr(l.call(e,e,h,o,p,f,d)),t=u}else{const n=e;0,v=lr(n.length>1?n(o,{attrs:u,slots:a,emit:c}):n(o,null)),t=e.props?u:Ve(u)}let g=v;if(!1!==e.inheritAttrs&&t){const e=Object.keys(t),{shapeFlag:n}=g;e.length&&(1&n||6&n)&&(s&&e.some(_)&&(t=qe(t,s)),g=ar(g,t))}n.dirs&&(g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&(g.transition=n.transition),v=g}catch(g){he(g,t,1),v=sr(Qn)}return Me=null,v}function Ue(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(!er(r))return;if(r.type!==Qn||"v-if"===r.children){if(e)return;e=r}}return e}const Ve=t=>{let e;for(const n in t)("class"===n||"style"===n||y(n))&&((e||(e={}))[n]=t[n]);return e},qe=(t,e)=>{const n={};for(const r in t)_(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function Be(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!Le(n,o))return!0}return!1}function We(t){if(N(t)&&(t=t()),T(t)){t=Ue(t)}return lr(t)}let He=0;const ze=t=>He+=t;function Ge(t,e=Me){if(!e)return t;const n=(...n)=>{He||Jn(!0);const r=Me;Fe(e);const i=t(...n);return Fe(r),He||Zn(),i};return n._c=!0,n}let Ke=null;const Qe=[];function Ye(t){Qe.push(Ke=t)}function $e(){Qe.pop(),Ke=Qe[Qe.length-1]||null}function Xe(t){return e=>Ge((function(){Ye(t);const n=e.apply(this,arguments);return $e(),n}))}function Je(t,e,n,r=!1){const i={},o={};K(o,rr,1),Ze(t,e,i,o),n?t.props=r?i:Qt(i,!1,wt,qt):t.type.props?t.props=i:t.props=o,t.attrs=o}function Ze(t,e,n,r){const[i,o]=t.propsOptions;if(e)for(const s in e){const o=e[s];if(F(s))continue;let a;i&&I(i,a=V(s))?n[a]=o:Le(t.emitsOptions,s)||(r[s]=o)}if(o){const e=Jt(n);for(let r=0;r<o.length;r++){const s=o[r];n[s]=tn(i,e,s,e[s],t)}}}function tn(t,e,n,r,i){const o=t[n];if(null!=o){const t=I(o,"default");if(t&&void 0===r){const t=o.default;o.type!==Function&&N(t)?(Pr(i),r=t(e),Pr(null)):r=t}o[0]&&(I(e,n)||t?!o[1]||""!==r&&r!==B(n)||(r=!0):r=!1)}return r}function en(t,e,n=!1){if(!e.deopt&&t.__props)return t.__props;const r=t.props,i={},o=[];let s=!1;if(!N(t)){const r=t=>{s=!0;const[n,r]=en(t,e,!0);b(i,n),r&&o.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!r&&!s)return t.__props=d;if(T(r))for(let a=0;a<r.length;a++){const t=V(r[a]);nn(t)&&(i[t]=p)}else if(r)for(const a in r){const t=V(a);if(nn(t)){const e=r[a],n=i[t]=T(e)||N(e)?{type:e}:e;if(n){const e=sn(Boolean,n.type),r=sn(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||I(n,"default"))&&o.push(t)}}}return t.__props=[i,o]}function nn(t){return"$"!==t[0]}function rn(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function on(t,e){return rn(t)===rn(e)}function sn(t,e){if(T(e)){for(let n=0,r=e.length;n<r;n++)if(on(e[n],t))return n}else if(N(e))return on(e,t)?0:-1;return-1}function an(t,e,n=Or,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;st(),Pr(n);const i=le(e,n,t,r);return Pr(null),at(),i});return r?i.unshift(o):i.push(o),o}}const un=t=>(e,n=Or)=>!Dr&&an(t,e,n),cn=un("bm"),ln=un("m"),hn=un("bu"),fn=un("u"),pn=un("bum"),dn=un("um"),vn=un("rtg"),gn=un("rtc"),mn={};function yn(t,e,n){return _n(t,e,n)}function _n(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=p,a=Or){let u,c,l=!1;if(te(t)?(u=()=>t.value,l=!!t._shallow):Yt(t)?(u=()=>t,r=!0):u=T(t)?()=>t.map((t=>te(t)?t.value:Yt(t)?wn(t):N(t)?ce(t,a,2,[a&&a.proxy]):void 0)):N(t)?e?()=>ce(t,a,2,[a&&a.proxy]):()=>{if(!a||!a.isUnmounted)return c&&c(),ce(t,a,3,[h])}:v,e&&r){const t=u;u=()=>wn(t())}const h=t=>{c=m.options.onStop=()=>{ce(t,a,4)}};let f=T(t)?[]:mn;const d=()=>{if(m.active)if(e){const t=m();(r||l||z(t,f))&&(c&&c(),le(e,a,3,[t,f===mn?void 0:f,h]),f=t)}else m()};let g;d.allowRecurse=!!e,g="sync"===i?d:"post"===i?()=>Fn(d,a&&a.suspense):()=>{!a||a.isMounted?function(t){Ne(t,me,ge,ye)}(d):d()};const m=tt(u,{lazy:!0,onTrack:o,onTrigger:s,scheduler:g});return Fr(m,a),e?n?d():f=m():"post"===i?Fn(m,a&&a.suspense):m(),()=>{et(m),a&&w(a.effects,m)}}function bn(t,e,n){const r=this.proxy;return _n(A(t)?()=>r[t]:t.bind(r),e.bind(r),n,this)}function wn(t,e=new Set){if(!x(t)||e.has(t))return t;if(e.add(t),te(t))wn(t.value,e);else if(T(t))for(let n=0;n<t.length;n++)wn(t[n],e);else if(C(t)||S(t))t.forEach((t=>{wn(t,e)}));else for(const n in t)wn(t[n],e);return t}const En=t=>t.type.__isKeepAlive;function In(t,e,n=Or){const r=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}t()});if(an(e,r,n),n){let t=n.parent;for(;t&&t.parent;)En(t.parent.vnode)&&Tn(r,e,n,t),t=t.parent}}function Tn(t,e,n,r){const i=an(e,t,r,!0);dn((()=>{w(r[e],i)}),n)}const Sn=t=>"_"===t[0]||"$stable"===t,Cn=t=>T(t)?t.map(lr):[lr(t)],kn=(t,e,n)=>Ge((t=>Cn(e(t))),n),Nn=(t,e)=>{const n=t._ctx;for(const r in t){if(Sn(r))continue;const i=t[r];if(N(i))e[r]=kn(0,i,n);else if(null!=i){const t=Cn(i);e[r]=()=>t}}},An=(t,e)=>{const n=Cn(e);t.slots.default=()=>n};function On(t,e){if(null===Me)return t;const n=Me.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[t,o,s,a=p]=e[i];N(t)&&(t={mounted:t,updated:t}),r.push({dir:t,instance:n,value:o,oldValue:void 0,arg:s,modifiers:a})}return t}function xn(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);const u=a.dir[r];u&&le(u,n,8,[t.el,a,t,e])}}function Pn(){return{app:null,config:{isNativeTag:g,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:g,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Rn=0;function Dn(t,e){return function(n,r=null){null==r||x(r)||(r=null);const i=Pn(),o=new Set;let s=!1;const a=i.app={_uid:Rn++,_component:n,_props:r,_container:null,_context:i,version:Br,get config(){return i.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&N(t.install)?(o.add(t),t.install(a,...e)):N(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(i.mixins.includes(t)||(i.mixins.push(t),(t.props||t.emits)&&(i.deopt=!0)),a),component:(t,e)=>e?(i.components[t]=e,a):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,a):i.directives[t],mount(o,u){if(!s){const c=sr(n,r);return c.appContext=i,u&&e?e(c,o):t(c,o),s=!0,a._container=o,o.__vue_app__=a,c.component.proxy}},unmount(){s&&(t(null,a._container),delete a._container.__vue_app__)},provide:(t,e)=>(i.provides[t]=e,a)};return a}}function Ln(t){return N(t)?{setup:t,name:t.name}:t}const Mn={scheduler:Ce,allowRecurse:!0},Fn=function(t,e){e&&e.pendingBranch?T(t)?e.effects.push(...t):e.effects.push(t):Ne(t,be,_e,we)},jn=(t,e,n,r)=>{if(T(t))return void t.forEach(((t,i)=>jn(t,e&&(T(e)?e[i]:e),n,r)));let i;i=!r||r.type.__asyncLoader?null:4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el;const{i:o,r:s}=t,a=e&&e.r,u=o.refs===p?o.refs={}:o.refs,c=o.setupState;if(null!=a&&a!==s&&(A(a)?(u[a]=null,I(c,a)&&(c[a]=null)):te(a)&&(a.value=null)),A(s)){const t=()=>{u[s]=i,I(c,s)&&(c[s]=i)};i?(t.id=-1,Fn(t,n)):t()}else if(te(s)){const t=()=>{s.value=i};i?(t.id=-1,Fn(t,n)):t()}else N(s)&&ce(s,o,12,[i,u])};function Un(t){return function(t,e){const{insert:n,remove:r,patchProp:i,forcePatchProp:o,createElement:s,createText:a,createComment:u,setText:c,setElementText:l,parentNode:h,nextSibling:f,setScopeId:g=v,cloneNode:m,insertStaticContent:y}=t,_=(t,e,n,r=null,i=null,o=null,s=!1,a=!1)=>{t&&!nr(t,e)&&(r=rt(t),$(t,i,o,!0),t=null),-2===e.patchFlag&&(a=!1,e.dynamicChildren=null);const{type:u,ref:c,shapeFlag:l}=e;switch(u){case Kn:w(t,e,n,r);break;case Qn:E(t,e,n,r);break;case Yn:null==t&&T(e,n,r,s);break;case Gn:L(t,e,n,r,i,o,s,a);break;default:1&l?k(t,e,n,r,i,o,s,a):6&l?M(t,e,n,r,i,o,s,a):(64&l||128&l)&&u.process(t,e,n,r,i,o,s,a,ot)}null!=c&&i&&jn(c,t&&t.ref,o,e)},w=(t,e,r,i)=>{if(null==t)n(e.el=a(e.children),r,i);else{const n=e.el=t.el;e.children!==t.children&&c(n,e.children)}},E=(t,e,r,i)=>{null==t?n(e.el=u(e.children||""),r,i):e.el=t.el},T=(t,e,n,r)=>{[t.el,t.anchor]=y(t.children,e,n,r)},S=({el:t,anchor:e},r,i)=>{let o;for(;t&&t!==e;)o=f(t),n(t,r,i),t=o;n(e,r,i)},C=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=f(t),r(t),t=n;r(e)},k=(t,e,n,r,i,o,s,a)=>{s=s||"svg"===e.type,null==t?N(e,n,r,i,o,s,a):x(t,e,i,o,s,a)},N=(t,e,r,o,a,u,c)=>{let h,f;const{type:p,props:d,shapeFlag:v,transition:g,scopeId:y,patchFlag:_,dirs:b}=t;if(t.el&&void 0!==m&&-1===_)h=t.el=m(t.el);else{if(h=t.el=s(t.type,u,d&&d.is),8&v?l(h,t.children):16&v&&O(t.children,h,null,o,a,u&&"foreignObject"!==p,c||!!t.dynamicChildren),b&&xn(t,null,o,"created"),d){for(const e in d)F(e)||i(h,e,null,d[e],u,t.children,o,a,nt);(f=d.onVnodeBeforeMount)&&Vn(f,o,t)}A(h,y,t,o)}b&&xn(t,null,o,"beforeMount");const w=(!a||a&&!a.pendingBranch)&&g&&!g.persisted;w&&g.beforeEnter(h),n(h,e,r),((f=d&&d.onVnodeMounted)||w||b)&&Fn((()=>{f&&Vn(f,o,t),w&&g.enter(h),b&&xn(t,null,o,"mounted")}),a)},A=(t,e,n,r)=>{if(e&&g(t,e),r){const i=r.type.__scopeId;i&&i!==e&&g(t,i+"-s"),n===r.subTree&&A(t,r.vnode.scopeId,r.vnode,r.parent)}},O=(t,e,n,r,i,o,s,a=0)=>{for(let u=a;u<t.length;u++){const a=t[u]=s?hr(t[u]):lr(t[u]);_(null,a,e,n,r,i,o,s)}},x=(t,e,n,r,s,a)=>{const u=e.el=t.el;let{patchFlag:c,dynamicChildren:h,dirs:f}=e;c|=16&t.patchFlag;const d=t.props||p,v=e.props||p;let g;if((g=v.onVnodeBeforeUpdate)&&Vn(g,n,e,t),f&&xn(e,t,n,"beforeUpdate"),c>0){if(16&c)D(u,e,d,v,n,r,s);else if(2&c&&d.class!==v.class&&i(u,"class",null,v.class,s),4&c&&i(u,"style",d.style,v.style,s),8&c){const a=e.dynamicProps;for(let e=0;e<a.length;e++){const c=a[e],l=d[c],h=v[c];(h!==l||o&&o(u,c))&&i(u,c,l,h,s,t.children,n,r,nt)}}1&c&&t.children!==e.children&&l(u,e.children)}else a||null!=h||D(u,e,d,v,n,r,s);const m=s&&"foreignObject"!==e.type;h?R(t.dynamicChildren,h,u,n,r,m):a||H(t,e,u,null,n,r,m),((g=v.onVnodeUpdated)||f)&&Fn((()=>{g&&Vn(g,n,e,t),f&&xn(e,t,n,"updated")}),r)},R=(t,e,n,r,i,o)=>{for(let s=0;s<e.length;s++){const a=t[s],u=e[s],c=a.type===Gn||!nr(a,u)||6&a.shapeFlag||64&a.shapeFlag?h(a.el):n;_(a,u,c,null,r,i,o,!0)}},D=(t,e,n,r,s,a,u)=>{if(n!==r){for(const c in r){if(F(c))continue;const l=r[c],h=n[c];(l!==h||o&&o(t,c))&&i(t,c,h,l,u,e.children,s,a,nt)}if(n!==p)for(const o in n)F(o)||o in r||i(t,o,n[o],null,u,e.children,s,a,nt)}},L=(t,e,r,i,o,s,u,c)=>{const l=e.el=t?t.el:a(""),h=e.anchor=t?t.anchor:a("");let{patchFlag:f,dynamicChildren:p}=e;f>0&&(c=!0),null==t?(n(l,r,i),n(h,r,i),O(e.children,r,h,o,s,u,c)):f>0&&64&f&&p&&t.dynamicChildren?(R(t.dynamicChildren,p,r,o,s,u),(null!=e.key||o&&e===o.subTree)&&qn(t,e,!0)):H(t,e,r,h,o,s,u,c)},M=(t,e,n,r,i,o,s,a)=>{null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,a):j(e,n,r,i,o,s,a):U(t,e,a)},j=(t,e,n,r,i,o,s)=>{const a=t.component=function(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Nr,o={uid:Ar++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:en(r,i),emitsOptions:De(r,i),emit:null,emitted:null,ctx:p,data:p,props:p,attrs:p,slots:p,refs:p,setupState:p,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Re.bind(null,o),o}(t,r,i);if(En(t)&&(a.ctx.renderer=ot),function(t,e=!1){Dr=e;const{props:n,children:r}=t.vnode,i=Rr(t);Je(t,n,i,e),((t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=e,K(e,"_",n)):Nn(e,t.slots={})}else t.slots={},e&&An(t,e);K(t.slots,rr,1)})(t,r);const o=i?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Cr);const{setup:r}=n;if(r){const n=t.setupContext=r.length>1?function(t){const e=e=>{t.exposed=se(e)};return{attrs:t.attrs,slots:t.slots,emit:t.emit,expose:e}}(t):null;Or=t,st();const i=ce(r,t,0,[t.props,n]);if(at(),Or=null,P(i)){if(e)return i.then((e=>{Lr(t,e)}));t.asyncDep=i}else Lr(t,i)}else Mr(t)}(t,e):void 0;Dr=!1}(a),a.asyncDep){if(i&&i.registerDep(a,q),!t.el){const t=a.subTree=sr(Qn);E(null,t,e,n)}}else q(a,t,e,n,i,o,s)},U=(t,e,n)=>{const r=e.component=t.component;if(function(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||Be(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?Be(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!Le(c,n))return!0}}return!1}(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void W(r,e,n);r.next=e,function(t){const e=de.indexOf(t);e>-1&&de.splice(e,1)}(r.update),r.update()}else e.component=t.component,e.el=t.el,r.vnode=e},q=(t,e,n,r,i,o,s)=>{t.update=tt((function(){if(t.isMounted){let e,{next:n,bu:r,u:a,parent:u,vnode:c}=t,l=n;n?(n.el=c.el,W(t,n,s)):n=c,r&&G(r),(e=n.props&&n.props.onVnodeBeforeUpdate)&&Vn(e,u,n,c);const f=je(t),p=t.subTree;t.subTree=f,_(p,f,h(p.el),rt(p),t,i,o),n.el=f.el,null===l&&function({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}(t,f.el),a&&Fn(a,i),(e=n.props&&n.props.onVnodeUpdated)&&Fn((()=>{Vn(e,u,n,c)}),i)}else{let s;const{el:a,props:u}=e,{bm:c,m:l,parent:h}=t;c&&G(c),(s=u&&u.onVnodeBeforeMount)&&Vn(s,h,e);const f=t.subTree=je(t);if(a&&lt?lt(e.el,f,t,i):(_(null,f,n,r,t,i,o),e.el=f.el),l&&Fn(l,i),s=u&&u.onVnodeMounted){const t=e;Fn((()=>{Vn(s,h,t)}),i)}const{a:p}=t;p&&256&e.shapeFlag&&Fn(p,i),t.isMounted=!0,e=n=r=null}}),Mn)},W=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=Jt(i),[u]=t.propsOptions;if(!(r||s>0)||16&s){let r;Ze(t,e,i,o);for(const o in a)e&&(I(e,o)||(r=B(o))!==o&&I(e,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(i[o]=tn(u,e||p,o,void 0,t)):delete i[o]);if(o!==a)for(const t in o)e&&I(e,t)||delete o[t]}else if(8&s){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){const s=n[r],c=e[s];if(u)if(I(o,s))o[s]=c;else{const e=V(s);i[e]=tn(u,a,e,c,t)}else o[s]=c}}ct(t,"set","$attrs")}(t,e.props,r,n),((t,e)=>{const{vnode:n,slots:r}=t;let i=!0,o=p;if(32&n.shapeFlag){const t=e._;t?1===t?i=!1:b(r,e):(i=!e.$stable,Nn(e,r)),o=e}else e&&(An(t,e),o={default:1});if(i)for(const s in r)Sn(s)||s in o||delete r[s]})(t,e.children),Ae(void 0,t.update)},H=(t,e,n,r,i,o,s,a=!1)=>{const u=t&&t.children,c=t?t.shapeFlag:0,h=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void Q(u,h,n,r,i,o,s,a);if(256&f)return void z(u,h,n,r,i,o,s,a)}8&p?(16&c&&nt(u,i,o),h!==u&&l(n,h)):16&c?16&p?Q(u,h,n,r,i,o,s,a):nt(u,i,o,!0):(8&c&&l(n,""),16&p&&O(h,n,r,i,o,s,a))},z=(t,e,n,r,i,o,s,a)=>{e=e||d;const u=(t=t||d).length,c=e.length,l=Math.min(u,c);let h;for(h=0;h<l;h++){const r=e[h]=a?hr(e[h]):lr(e[h]);_(t[h],r,n,null,i,o,s,a)}u>c?nt(t,i,o,!0,!1,l):O(e,n,r,i,o,s,a,l)},Q=(t,e,n,r,i,o,s,a)=>{let u=0;const c=e.length;let l=t.length-1,h=c-1;for(;u<=l&&u<=h;){const r=t[u],c=e[u]=a?hr(e[u]):lr(e[u]);if(!nr(r,c))break;_(r,c,n,null,i,o,s,a),u++}for(;u<=l&&u<=h;){const r=t[l],u=e[h]=a?hr(e[h]):lr(e[h]);if(!nr(r,u))break;_(r,u,n,null,i,o,s,a),l--,h--}if(u>l){if(u<=h){const t=h+1,l=t<c?e[t].el:r;for(;u<=h;)_(null,e[u]=a?hr(e[u]):lr(e[u]),n,l,i,o,s),u++}}else if(u>h)for(;u<=l;)$(t[u],i,o,!0),u++;else{const f=u,p=u,v=new Map;for(u=p;u<=h;u++){const t=e[u]=a?hr(e[u]):lr(e[u]);null!=t.key&&v.set(t.key,u)}let g,m=0;const y=h-p+1;let b=!1,w=0;const E=new Array(y);for(u=0;u<y;u++)E[u]=0;for(u=f;u<=l;u++){const r=t[u];if(m>=y){$(r,i,o,!0);continue}let c;if(null!=r.key)c=v.get(r.key);else for(g=p;g<=h;g++)if(0===E[g-p]&&nr(r,e[g])){c=g;break}void 0===c?$(r,i,o,!0):(E[c-p]=u+1,c>=w?w=c:b=!0,_(r,e[c],n,null,i,o,s,a),m++)}const I=b?function(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=(o+s)/2|0,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=e[s];return n}(E):d;for(g=I.length-1,u=y-1;u>=0;u--){const t=p+u,a=e[t],l=t+1<c?e[t+1].el:r;0===E[u]?_(null,a,n,l,i,o,s):b&&(g<0||u!==I[g]?Y(a,n,l,2):g--)}}},Y=(t,e,r,i,o=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void Y(t.component.subTree,e,r,i);if(128&l)return void t.suspense.move(e,r,i);if(64&l)return void a.move(t,e,r,ot);if(a===Gn){n(s,e,r);for(let t=0;t<c.length;t++)Y(c[t],e,r,i);return void n(t.anchor,e,r)}if(a===Yn)return void S(t,e,r);if(2!==i&&1&l&&u)if(0===i)u.beforeEnter(s),n(s,e,r),Fn((()=>u.enter(s)),o);else{const{leave:t,delayLeave:i,afterLeave:o}=u,a=()=>n(s,e,r),c=()=>{t(s,(()=>{a(),o&&o()}))};i?i(s,a,c):c()}else n(s,e,r)},$=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:h,dirs:f}=t;if(null!=a&&jn(a,null,n,null),256&l)return void e.ctx.deactivate(t);const p=1&l&&f;let d;if((d=s&&s.onVnodeBeforeUnmount)&&Vn(d,e,t),6&l)Z(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);p&&xn(t,null,e,"beforeUnmount"),c&&(o!==Gn||h>0&&64&h)?nt(c,e,n,!1,!0):(o===Gn&&(128&h||256&h)||!i&&16&l)&&nt(u,e,n),64&l&&(r||!Bn(t.props))&&t.type.remove(t,ot),r&&X(t)}((d=s&&s.onVnodeUnmounted)||p)&&Fn((()=>{d&&Vn(d,e,t),p&&xn(t,null,e,"unmounted")}),n)},X=t=>{const{type:e,el:n,anchor:i,transition:o}=t;if(e===Gn)return void J(n,i);if(e===Yn)return void C(t);const s=()=>{r(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&t.shapeFlag&&o&&!o.persisted){const{leave:e,delayLeave:r}=o,i=()=>e(n,s);r?r(t.el,s,i):i()}else s()},J=(t,e)=>{let n;for(;t!==e;)n=f(t),r(t),t=n;r(e)},Z=(t,e,n)=>{const{bum:r,effects:i,update:o,subTree:s,um:a}=t;if(r&&G(r),i)for(let u=0;u<i.length;u++)et(i[u]);o&&(et(o),$(s,t,e,n)),a&&Fn(a,e),Fn((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},nt=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)$(t[s],e,n,r,i)},rt=t=>6&t.shapeFlag?rt(t.component.subTree):128&t.shapeFlag?t.suspense.next():f(t.anchor||t.el),it=(t,e)=>{null==t?e._vnode&&$(e._vnode,null,null,!0):_(e._vnode||null,t,e),Oe(),e._vnode=t},ot={p:_,um:$,m:Y,r:X,mt:j,mc:O,pc:H,pbc:R,n:rt,o:t};let ut,lt;e&&([ut,lt]=e(ot));return{render:it,hydrate:ut,createApp:Dn(it,ut)}}(t)}function Vn(t,e,n,r=null){le(t,e,7,[n,r])}function qn(t,e,n=!1){const r=t.children,i=e.children;if(T(r)&&T(i))for(let o=0;o<r.length;o++){const t=r[o];let e=i[o];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=i[o]=hr(i[o]),e.el=t.el),n||qn(t,e))}}const Bn=t=>t&&(t.disabled||""===t.disabled);function Wn(t){return function(t,e,n=!0){const r=Me||Or;if(r){const n=r.type;if("components"===t){if("_self"===e)return n;const t=jr(n);if(t&&(t===e||t===V(e)||t===W(V(e))))return n}return zn(r[t]||n[t],e)||zn(r.appContext[t],e)}}("components",t)||t}const Hn=Symbol();function zn(t,e){return t&&(t[e]||t[V(e)]||t[W(V(e))])}const Gn=Symbol(void 0),Kn=Symbol(void 0),Qn=Symbol(void 0),Yn=Symbol(void 0),$n=[];let Xn=null;function Jn(t=!1){$n.push(Xn=t?null:[])}function Zn(){$n.pop(),Xn=$n[$n.length-1]||null}function tr(t,e,n,r,i){const o=sr(t,e,n,r,i,!0);return o.dynamicChildren=Xn||d,Zn(),Xn&&Xn.push(o),o}function er(t){return!!t&&!0===t.__v_isVNode}function nr(t,e){return t.type===e.type&&t.key===e.key}const rr="__vInternal",ir=({key:t})=>null!=t?t:null,or=({ref:t})=>null!=t?A(t)||te(t)||N(t)?{i:Me,r:t}:t:null,sr=function(t,e=null,n=null,r=0,o=null,s=!1){t&&t!==Hn||(t=Qn);if(er(t)){const r=ar(t,e,!0);return n&&fr(r,n),r}a=t,N(a)&&"__vccOpts"in a&&(t=t.__vccOpts);var a;if(e){(Xt(e)||rr in e)&&(e=b({},e));let{class:t,style:n}=e;t&&!A(t)&&(e.class=u(t)),x(n)&&(Xt(n)&&!T(n)&&(n=b({},n)),e.style=i(n))}const c=A(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:x(t)?4:N(t)?2:0,l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ir(e),ref:e&&or(e),scopeId:Ke,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};if(fr(l,n),128&c){const{content:t,fallback:e}=function(t){const{shapeFlag:e,children:n}=t;let r,i;return 32&e?(r=We(n.default),i=We(n.fallback)):(r=We(n),i=lr(null)),{content:r,fallback:i}}(l);l.ssContent=t,l.ssFallback=e}!s&&Xn&&(r>0||6&c)&&32!==r&&Xn.push(l);return l};function ar(t,e,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=t,c=e?function(...t){const e=b({},t[0]);for(let n=1;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=u([e.class,r.class]));else if("style"===t)e.style=i([e.style,r.style]);else if(y(t)){const n=e[t],i=r[t];n!==i&&(e[t]=n?[].concat(n,r[t]):i)}else""!==t&&(e[t]=r[t])}return e}(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&ir(c),ref:e&&e.ref?n&&o?T(o)?o.concat(or(e)):[o,or(e)]:or(e):o,scopeId:t.scopeId,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Gn?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ar(t.ssContent),ssFallback:t.ssFallback&&ar(t.ssFallback),el:t.el,anchor:t.anchor}}function ur(t=" ",e=0){return sr(Kn,null,t,e)}function cr(t="",e=!1){return e?(Jn(),tr(Qn,null,t)):sr(Qn,null,t)}function lr(t){return null==t||"boolean"==typeof t?sr(Qn):T(t)?sr(Gn,null,t):"object"==typeof t?null===t.el?t:ar(t):sr(Kn,null,String(t))}function hr(t){return null===t.el?t:ar(t)}function fr(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if(T(e))n=16;else if("object"==typeof e){if(1&r||64&r){const n=e.default;return void(n&&(n._c&&ze(1),fr(t,n()),n._c&&ze(-1)))}{n=32;const r=e._;r||rr in e?3===r&&Me&&(1024&Me.vnode.patchFlag?(e._=2,t.patchFlag|=1024):e._=1):e._ctx=Me}}else N(e)?(e={default:e,_ctx:Me},n=32):(e=String(e),64&r?(n=16,e=[ur(e)]):n=8);t.children=e,t.shapeFlag|=n}function pr(t,e){if(Or){let n=Or.provides;const r=Or.parent&&Or.parent.provides;r===n&&(n=Or.provides=Object.create(r)),n[t]=e}else;}function dr(t,e,n=!1){const r=Or||Me;if(r){const i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&N(e)?e():e}}let vr=!1;function gr(t,e,n=[],r=[],i=[],o=!1){const{mixins:s,extends:a,data:u,computed:c,methods:l,watch:h,provide:f,inject:d,components:g,directives:m,beforeMount:y,mounted:_,beforeUpdate:w,updated:E,activated:I,deactivated:S,beforeDestroy:C,beforeUnmount:k,destroyed:A,unmounted:O,render:P,renderTracked:R,renderTriggered:D,errorCaptured:L,expose:M}=e,F=t.proxy,j=t.ctx,U=t.appContext.mixins;if(o&&P&&t.render===v&&(t.render=P),o||(vr=!0,mr("beforeCreate","bc",e,t,U),vr=!1,br(t,U,n,r,i)),a&&gr(t,a,n,r,i,!0),s&&br(t,s,n,r,i),d)if(T(d))for(let p=0;p<d.length;p++){const t=d[p];j[t]=dr(t)}else for(const p in d){const t=d[p];x(t)?j[p]=dr(t.from||p,t.default,!0):j[p]=dr(t)}if(l)for(const p in l){const t=l[p];N(t)&&(j[p]=t.bind(F))}if(o?u&&n.push(u):(n.length&&n.forEach((e=>wr(t,e,F))),u&&wr(t,u,F)),c)for(const p in c){const t=c[p],e=Ur({get:N(t)?t.bind(F,F):N(t.get)?t.get.bind(F,F):v,set:!N(t)&&N(t.set)?t.set.bind(F):v});Object.defineProperty(j,p,{enumerable:!0,configurable:!0,get:()=>e.value,set:t=>e.value=t})}var V;if(h&&r.push(h),!o&&r.length&&r.forEach((t=>{for(const e in t)Er(t[e],j,F,e)})),f&&i.push(f),!o&&i.length&&i.forEach((t=>{const e=N(t)?t.call(F):t;Reflect.ownKeys(e).forEach((t=>{pr(t,e[t])}))})),o&&(g&&b(t.components||(t.components=b({},t.type.components)),g),m&&b(t.directives||(t.directives=b({},t.type.directives)),m)),o||mr("created","c",e,t,U),y&&cn(y.bind(F)),_&&ln(_.bind(F)),w&&hn(w.bind(F)),E&&fn(E.bind(F)),I&&In(I.bind(F),"a",V),S&&function(t,e){In(t,"da",e)}(S.bind(F)),L&&((t,e=Or)=>{an("ec",t,e)})(L.bind(F)),R&&gn(R.bind(F)),D&&vn(D.bind(F)),k&&pn(k.bind(F)),O&&dn(O.bind(F)),T(M)&&!o)if(M.length){const e=t.exposed||(t.exposed=se({}));M.forEach((t=>{e[t]=function(t,e){return te(t[e])?t[e]:new ae(t,e)}(F,t)}))}else t.exposed||(t.exposed=p)}function mr(t,e,n,r,i){_r(t,e,i,r);const{extends:o,mixins:s}=n;o&&yr(t,e,o,r),s&&_r(t,e,s,r);const a=n[t];a&&le(a.bind(r.proxy),r,e)}function yr(t,e,n,r){n.extends&&yr(t,e,n.extends,r);const i=n[t];i&&le(i.bind(r.proxy),r,e)}function _r(t,e,n,r){for(let i=0;i<n.length;i++){const o=n[i].mixins;o&&_r(t,e,o,r);const s=n[i][t];s&&le(s.bind(r.proxy),r,e)}}function br(t,e,n,r,i){for(let o=0;o<e.length;o++)gr(t,e[o],n,r,i,!0)}function wr(t,e,n){const r=e.call(n,n);x(r)&&(t.data===p?t.data=Gt(r):b(t.data,r))}function Er(t,e,n,r){const i=r.includes(".")?function(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}(n,r):()=>n[r];if(A(t)){const n=e[t];N(n)&&yn(i,n)}else if(N(t))yn(i,t.bind(n));else if(x(t))if(T(t))t.forEach((t=>Er(t,e,n,r)));else{const r=N(t.handler)?t.handler.bind(n):e[t.handler];N(r)&&yn(i,r,t)}}function Ir(t,e,n){const r=n.appContext.config.optionMergeStrategies,{mixins:i,extends:o}=e;o&&Ir(t,o,n),i&&i.forEach((e=>Ir(t,e,n)));for(const s in e)r&&I(r,s)?t[s]=r[s](t[s],e[s],n.proxy,s):t[s]=e[s]}const Tr=t=>t?Rr(t)?t.exposed?t.exposed:t.proxy:Tr(t.parent):null,Sr=b(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Tr(t.parent),$root:t=>Tr(t.root),$emit:t=>t.emit,$options:t=>function(t){const e=t.type,{__merged:n,mixins:r,extends:i}=e;if(n)return n;const o=t.appContext.mixins;if(!o.length&&!r&&!i)return e;const s={};return o.forEach((e=>Ir(s,e,t))),Ir(s,e,t),e.__merged=s}(t),$forceUpdate:t=>()=>Ce(t.update),$nextTick:t=>Se.bind(t.proxy),$watch:t=>bn.bind(t)}),Cr={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:u}=t;if("__v_skip"===e)return!0;let c;if("$"!==e[0]){const a=s[e];if(void 0!==a)switch(a){case 0:return r[e];case 1:return i[e];case 3:return n[e];case 2:return o[e]}else{if(r!==p&&I(r,e))return s[e]=0,r[e];if(i!==p&&I(i,e))return s[e]=1,i[e];if((c=t.propsOptions[0])&&I(c,e))return s[e]=2,o[e];if(n!==p&&I(n,e))return s[e]=3,n[e];vr||(s[e]=4)}}const l=Sr[e];let h,f;return l?("$attrs"===e&&ut(t,0,e),l(t)):(h=a.__cssModules)&&(h=h[e])?h:n!==p&&I(n,e)?(s[e]=3,n[e]):(f=u.config.globalProperties,I(f,e)?f[e]:void 0)},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;if(i!==p&&I(i,e))i[e]=n;else if(r!==p&&I(r,e))r[e]=n;else if(I(t.props,e))return!1;return("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return void 0!==n[s]||t!==p&&I(t,s)||e!==p&&I(e,s)||(a=o[0])&&I(a,s)||I(r,s)||I(Sr,s)||I(i.config.globalProperties,s)}},kr=b({},Cr,{get(t,e){if(e!==Symbol.unscopables)return Cr.get(t,e,t)},has:(t,e)=>"_"!==e[0]&&!n(e)}),Nr=Pn();let Ar=0;let Or=null;const xr=()=>Or||Me,Pr=t=>{Or=t};function Rr(t){return 4&t.vnode.shapeFlag}let Dr=!1;function Lr(t,e,n){N(e)?t.render=e:x(e)&&(t.setupState=se(e)),Mr(t)}function Mr(t,e){const n=t.type;t.render||(t.render=n.render||v,t.render._rc&&(t.withProxy=new Proxy(t.ctx,kr))),Or=t,st(),gr(t,n),at(),Or=null}function Fr(t,e=Or){e&&(e.effects||(e.effects=[])).push(t)}function jr(t){return N(t)&&t.displayName||t.name}function Ur(t){const e=function(t){let e,n;return N(t)?(e=t,n=v):(e=t.get,n=t.set),new ue(e,n,N(t)||!t.set)}(t);return Fr(e.effect),e}function Vr(t,e,n){const r=arguments.length;return 2===r?x(e)&&!T(e)?er(e)?sr(t,null,[e]):sr(t,e):sr(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&er(n)&&(n=[n]),sr(t,e,n))}function qr(t,e){let n;if(T(t)||A(t)){n=new Array(t.length);for(let r=0,i=t.length;r<i;r++)n[r]=e(t[r],r)}else if("number"==typeof t){n=new Array(t);for(let r=0;r<t;r++)n[r]=e(r+1,r)}else if(x(t))if(t[Symbol.iterator])n=Array.from(t,e);else{const r=Object.keys(t);n=new Array(r.length);for(let i=0,o=r.length;i<o;i++){const o=r[i];n[i]=e(t[o],o,i)}}else n=[];return n}const Br="3.0.6",Wr="http://www.w3.org/2000/svg",Hr="undefined"!=typeof document?document:null;let zr,Gr;const Kr={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n)=>e?Hr.createElementNS(Wr,t):Hr.createElement(t,n?{is:n}:void 0),createText:t=>Hr.createTextNode(t),createComment:t=>Hr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Hr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode:t=>t.cloneNode(!0),insertStaticContent(t,e,n,r){const i=r?Gr||(Gr=Hr.createElementNS(Wr,"svg")):zr||(zr=Hr.createElement("div"));i.innerHTML=t;const o=i.firstChild;let s=o,a=s;for(;s;)a=s,Kr.insert(s,e,n),s=i.firstChild;return[o,a]}};const Qr=/\s*!important$/;function Yr(t,e,n){if(T(n))n.forEach((n=>Yr(t,e,n)));else if(e.startsWith("--"))t.setProperty(e,n);else{const r=function(t,e){const n=Xr[e];if(n)return n;let r=V(e);if("filter"!==r&&r in t)return Xr[e]=r;r=W(r);for(let i=0;i<$r.length;i++){const n=$r[i]+r;if(n in t)return Xr[e]=n}return e}(t,e);Qr.test(n)?t.setProperty(B(r),n.replace(Qr,""),"important"):t[r]=n}}const $r=["Webkit","Moz","ms"],Xr={};const Jr="http://www.w3.org/1999/xlink";let Zr=Date.now;"undefined"!=typeof document&&Zr()>document.createEvent("Event").timeStamp&&(Zr=()=>performance.now());let ti=0;const ei=Promise.resolve(),ni=()=>{ti=0};function ri(t,e,n,r){t.addEventListener(e,n,r)}function ii(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=function(t){let e;if(oi.test(t)){let n;for(e={};n=t.match(oi);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[B(t.slice(2)),e]}(e);if(r){ri(t,n,o[e]=function(t,e){const n=t=>{(t.timeStamp||Zr())>=n.attached-1&&le(function(t,e){if(T(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=(()=>ti||(ei.then(ni),ti=Zr()))(),n}(r,i),a)}else s&&(!function(t,e,n,r){t.removeEventListener(e,n,r)}(t,n,s,a),o[e]=void 0)}}const oi=/(?:Once|Passive|Capture)$/;const si=/^on[a-z]/;const ai=t=>{const e=t.props["onUpdate:modelValue"];return T(e)?t=>G(e,t):e},ui={created(t,{value:e,modifiers:{number:n}},r){const i=C(e);ri(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>n?Q(li(t)):li(t)));t._assign(t.multiple?i?new Set(e):e:e[0])})),t._assign=ai(r)},mounted(t,{value:e}){ci(t,e)},beforeUpdate(t,e,n){t._assign=ai(n)},updated(t,{value:e}){ci(t,e)}};function ci(t,e){const n=t.multiple;if(!n||T(e)||C(e)){for(let r=0,i=t.options.length;r<i;r++){const i=t.options[r],o=li(i);if(n)T(e)?i.selected=l(e,o)>-1:i.selected=e.has(o);else if(c(li(i),e))return void(t.selectedIndex=r)}n||(t.selectedIndex=-1)}}function li(t){return"_value"in t?t._value:t.value}const hi=b({patchProp:(t,e,n,i,o=!1,s,a,u,c)=>{switch(e){case"class":!function(t,e,n){if(null==e&&(e=""),n)t.setAttribute("class",e);else{const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),t.className=e}}(t,i,o);break;case"style":!function(t,e,n){const r=t.style;if(n)if(A(n))e!==n&&(r.cssText=n);else{for(const t in n)Yr(r,t,n[t]);if(e&&!A(e))for(const t in e)null==n[t]&&Yr(r,t,"")}else t.removeAttribute("style")}(t,n,i);break;default:y(e)?_(e)||ii(t,e,0,i,a):function(t,e,n,r){if(r)return"innerHTML"===e||!!(e in t&&si.test(e)&&N(n));if("spellcheck"===e||"draggable"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if(si.test(e)&&A(n))return!1;return e in t}(t,e,i,o)?function(t,e,n,r,i,o,s){if("innerHTML"===e||"textContent"===e)return r&&s(r,i,o),void(t[e]=null==n?"":n);if("value"!==e||"PROGRESS"===t.tagName){if(""===n||null==n){const r=typeof t[e];if(""===n&&"boolean"===r)return void(t[e]=!0);if(null==n&&"string"===r)return t[e]="",void t.removeAttribute(e);if("number"===r)return t[e]=0,void t.removeAttribute(e)}try{t[e]=n}catch(qw){}}else{t._value=n;const e=null==n?"":n;t.value!==e&&(t.value=e)}}(t,e,i,s,a,u,c):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),function(t,e,n,i){if(i&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(Jr,e.slice(6,e.length)):t.setAttributeNS(Jr,e,n);else{const i=r(e);null==n||i&&!1===n?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}(t,e,i,o))}},forcePatchProp:(t,e)=>"value"===e},Kr);let fi;const pi=(...t)=>{const e=(fi||(fi=Un(hi))).createApp(...t),{mount:n}=e;return e.mount=t=>{const r=function(t){if(A(t)){return document.querySelector(t)}return t}
/*!
  * vue-router v4.0.4
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */(t);if(!r)return;const i=e._component;N(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";const o=n(r);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};const di="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,vi=t=>di?Symbol(t):"_vr_"+t,gi=vi("rvlm"),mi=vi("rvd"),yi=vi("r"),_i=vi("rl"),bi=vi("rvl"),wi="undefined"!=typeof window;const Ei=Object.assign;function Ii(t,e){const n={};for(const r in e){const i=e[r];n[r]=Array.isArray(i)?i.map(t):t(i)}return n}let Ti=()=>{};const Si=/\/$/;function Ci(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("?"),u=e.indexOf("#",a>-1?a:0);return a>-1&&(r=e.slice(0,a),o=e.slice(a+1,u>-1?u:e.length),i=t(o)),u>-1&&(r=r||e.slice(0,u),s=e.slice(u,e.length)),r=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function ki(t,e){return!e||t.toLowerCase().indexOf(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ni(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ai(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(!Oi(t[n],e[n]))return!1;return!0}function Oi(t,e){return Array.isArray(t)?xi(t,e):Array.isArray(e)?xi(e,t):t===e}function xi(t,e){return Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var Pi,Ri,Di,Li;function Mi(t){if(!t)if(wi){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(Si,"")}(Ri=Pi||(Pi={})).pop="pop",Ri.push="push",(Li=Di||(Di={})).back="back",Li.forward="forward",Li.unknown="";const Fi=/^[^#]+#/;function ji(t,e){return t.replace(Fi,"#")+e}const Ui=()=>({left:window.pageXOffset,top:window.pageYOffset});function Vi(t){let e;if("el"in t){let n=t.el;const r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function qi(t,e){return(history.state?history.state.position-e:-1)+t}const Bi=new Map;function Wi(t,e){const{pathname:n,search:r,hash:i}=e;if(t.indexOf("#")>-1){let t=i.slice(1);return"/"!==t[0]&&(t="/"+t),ki(t,"")}return ki(n,t)+r+i}function Hi(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Ui():null}}function zi(t){const{history:e,location:n}=window;let r={value:Wi(t,n)},i={value:e.state};function o(r,o,s){const a=t.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+r:location.protocol+"//"+location.host+t+r;try{e[s?"replaceState":"pushState"](o,"",u),i.value=o}catch(c){console.error(c),n[s?"replace":"assign"](u)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(t,n){const s=Ei({},i.value,e.state,{forward:t,scroll:Ui()});o(s.current,s,!0),o(t,Ei({},Hi(r.value,t,null),{position:s.position+1},n),!1),r.value=t},replace:function(t,n){o(t,Ei({},e.state,Hi(i.value.back,t,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=t}}}function Gi(t){const e=zi(t=Mi(t)),n=function(t,e,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=Wi(t,location),u=n.value,c=e.value;let l=0;if(o){if(n.value=a,e.value=o,s&&s===u)return void(s=null);l=c?o.position-c.position:0}else r(a);i.forEach((t=>{t(n.value,u,{delta:l,type:Pi.pop,direction:l?l>0?Di.forward:Di.back:Di.unknown})}))};function u(){const{history:t}=window;t.state&&t.replaceState(Ei({},t.state,{scroll:Ui()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:function(){s=n.value},listen:function(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}}}(t,e.state,e.location,e.replace);const r=Ei({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:ji.bind(null,t)},e,n);return Object.defineProperty(r,"location",{get:()=>e.location.value}),Object.defineProperty(r,"state",{get:()=>e.state.value}),r}function Ki(t){return"string"==typeof t||"symbol"==typeof t}const Qi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Yi=vi("nf");var $i,Xi;function Ji(t,e){return Ei(new Error,{type:t,[Yi]:!0},e)}function Zi(t,e){return t instanceof Error&&Yi in t&&(null==e||!!(t.type&e))}(Xi=$i||($i={}))[Xi.aborted=4]="aborted",Xi[Xi.cancelled=8]="cancelled",Xi[Xi.duplicated=16]="duplicated";const to={sensitive:!1,strict:!1,start:!0,end:!0},eo=/[.+*?^${}()[\]/\\]/g;function no(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function ro(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const t=no(r[n],i[n]);if(t)return t;n++}return i.length-r.length}const io={type:0,value:""},oo=/[a-zA-Z0-9_]/;function so(t,e,n){const r=function(t,e){const n=Ei({},to,e);let r=[],i=n.start?"^":"";const o=[];for(const u of t){const t=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let e=0;e<u.length;e++){const r=u[e];let s=40+(n.sensitive?.25:0);if(0===r.type)e||(i+="/"),i+=r.value.replace(eo,"\\$&"),s+=40;else if(1===r.type){const{value:t,repeatable:n,optional:c,regexp:l}=r;o.push({name:t,repeatable:n,optional:c});const h=l||"[^/]+?";if("[^/]+?"!==h){s+=10;try{new RegExp(`(${h})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${t}" (${h}): `+a.message)}}let f=n?`((?:${h})(?:/(?:${h}))*)`:`(${h})`;e||(f=c&&u.length<2?`(?:/${f})`:"/"+f),c&&(f+="?"),i+=f,s+=20,c&&(s+=-8),n&&(s+=-20),".*"===h&&(s+=-50)}t.push(s)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");return{re:s,score:r,keys:o,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",i=o[r-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,u=o in e?e[o]:"";if(Array.isArray(u)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(u)?u.join("/"):u;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(t){if(!t)return[[]];if("/"===t)return[[io]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,u=0,c="",l="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;u<t.length;)if(a=t[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:"("===a?n=2:oo.test(a)?f():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,l="";break;default:e("Unknown state")}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),i}(t.path),n),i=Ei(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function ao(t,e){const n=[],r=new Map;function i(t,n,r){let a=!r,u=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:uo(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}(t);u.aliasOf=r&&r.record;const c=ho(e,t),l=[u];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)l.push(Ei({},u,{components:r?r.record.components:u.components,path:t,aliasOf:r?r.record:u}))}let h,f;for(const e of l){let{path:l}=e;if(n&&"/"!==l[0]){let t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(l&&r+l)}if(h=so(e,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),a&&t.name&&!co(h)&&o(t.name)),"children"in u){let t=u.children;for(let e=0;e<t.length;e++)i(t[e],h,r&&r.children[e])}r=r||h,s(h)}return f?()=>{o(f)}:Ti}function o(t){if(Ki(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{let e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function s(t){let e=0;for(;e<n.length&&ro(t,n[e])>=0;)e++;n.splice(e,0,t),t.record.name&&!co(t)&&r.set(t.record.name,t)}return e=ho({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>i(t))),{addRoute:i,resolve:function(t,e){let i,o,s,a={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw Ji(1,{location:t});s=i.record.name,a=Ei(function(t,e){let n={};for(let r of e)r in t&&(n[r]=t[r]);return n}(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params),o=i.stringify(a)}else if("path"in t)o=t.path,i=n.find((t=>t.re.test(o))),i&&(a=i.parse(o),s=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw Ji(1,{location:t,currentLocation:e});s=i.record.name,a=Ei({},e.params,t.params),o=i.stringify(a)}const u=[];let c=i;for(;c;)u.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:u,meta:lo(u)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(t){return r.get(t)}}}function uo(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(let r in t.components)e[r]="boolean"==typeof n?n:n[r];return e}function co(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function lo(t){return t.reduce(((t,e)=>Ei(t,e.meta)),{})}function ho(t,e){let n={};for(let r in t)n[r]=r in e?e[r]:t[r];return n}const fo=/#/g,po=/&/g,vo=/\//g,go=/=/g,mo=/\?/g,yo=/\+/g,_o=/%5B/g,bo=/%5D/g,wo=/%5E/g,Eo=/%60/g,Io=/%7B/g,To=/%7C/g,So=/%7D/g,Co=/%20/g;function ko(t){return encodeURI(""+t).replace(To,"|").replace(_o,"[").replace(bo,"]")}function No(t){return ko(t).replace(yo,"%2B").replace(Co,"+").replace(fo,"%23").replace(po,"%26").replace(Eo,"`").replace(Io,"{").replace(So,"}").replace(wo,"^")}function Ao(t){return function(t){return ko(t).replace(fo,"%23").replace(mo,"%3F")}(t).replace(vo,"%2F")}function Oo(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function xo(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const t=n[r].replace(yo," ");let i=t.indexOf("="),o=Oo(i<0?t:t.slice(0,i)),s=i<0?null:Oo(t.slice(i+1));if(o in e){let t=e[o];Array.isArray(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function Po(t){let e="";for(let n in t){e.length&&(e+="&");const r=t[n];if(n=No(n).replace(go,"%3D"),null==r){void 0!==r&&(e+=n);continue}let i=Array.isArray(r)?r.map((t=>t&&No(t))):[r&&No(r)];for(let t=0;t<i.length;t++)e+=(t?"&":"")+n,null!=i[t]&&(e+="="+i[t])}return e}function Ro(t){const e={};for(let n in t){let r=t[n];void 0!==r&&(e[n]=Array.isArray(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}function Do(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t,reset:function(){t=[]}}}function Lo(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const u=t=>{var u;!1===t?a(Ji(4,{from:n,to:e})):t instanceof Error?a(t):"string"==typeof(u=t)||u&&"object"==typeof u?a(Ji(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"==typeof t&&o.push(t),s())},c=t.call(r&&r.instances[i],e,n,u);let l=Promise.resolve(c);t.length<3&&(l=l.then(u)),l.catch((t=>a(t)))}))}function Mo(t,e,n,r){const i=[];for(const s of t)for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[e];o&&i.push(Lo(o,n,r,s,t))}else{let o=a();o=o.catch(console.error),i.push((()=>o.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const o=(a=i).__esModule||di&&"Module"===a[Symbol.toStringTag]?i.default:i;var a;s.components[t]=o;const u=(o.__vccOpts||o)[e];return u&&Lo(u,n,r,s,t)()}))))}}var o;return i}function Fo(t){const e=dr(yi),n=dr(_i),r=Ur((()=>e.resolve(ie(t.to)))),i=Ur((()=>{let{matched:t}=r.value,{length:e}=t;const i=t[e-1];let o=n.matched;if(!i||!o.length)return-1;let s=o.findIndex(Ni.bind(null,i));if(s>-1)return s;let a=Uo(t[e-2]);return e>1&&Uo(i)===a&&o[o.length-1].path!==a?o.findIndex(Ni.bind(null,t[e-2])):s})),o=Ur((()=>i.value>-1&&function(t,e){for(let n in e){let r=e[n],i=t[n];if("string"==typeof r){if(r!==i)return!1}else if(!Array.isArray(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}(n.params,r.value.params))),s=Ur((()=>i.value>-1&&i.value===n.matched.length-1&&Ai(n.params,r.value.params)));return{route:r,href:Ur((()=>r.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){return function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)?e[ie(t.replace)?"replace":"push"](ie(t.to)):Promise.resolve()}}}const jo=Ln({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(t,{slots:e,attrs:n}){const r=Gt(Fo(t)),{options:i}=dr(yi),o=Ur((()=>({[Vo(t.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[Vo(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive})));return()=>{const i=e.default&&e.default(r);return t.custom?i:Vr("a",Ei({"aria-current":r.isExactActive?t.ariaCurrentValue:null,onClick:r.navigate,href:r.href},n,{class:o.value}),i)}}});function Uo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Vo=(t,e,n)=>null!=t?t:null!=e?e:n;function qo(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const Bo=Ln({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:n}){const r=dr(bi),i=Ur((()=>t.route||r.value)),o=dr(mi,0),s=Ur((()=>i.value.matched[o]));pr(mi,o+1),pr(gi,s),pr(bi,i);const a=ee();return yn((()=>[a.value,s.value,t.name]),(([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards=i.leaveGuards,e.updateGuards=i.updateGuards)),!t||!e||i&&Ni(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=i.value,o=s.value,u=o&&o.components[t.name],c=t.name;if(!u)return qo(n.default,{Component:u,route:r});const l=o.props[t.name],h=l?!0===l?r.params:"function"==typeof l?l(r):l:null,f=Vr(u,Ei({},h,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(o.instances[c]=null)},ref:a}));return qo(n.default,{Component:f,route:r})||f}}});function Wo(t){const e=ao(t.routes,t);let n=t.parseQuery||xo,r=t.stringifyQuery||Po,i=t.history;const o=Do(),s=Do(),a=Do(),u=re(Qi,!0);let c=Qi;wi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=Ii.bind(null,(t=>""+t)),h=Ii.bind(null,Ao),f=Ii.bind(null,Oo);function p(t,o){if(o=Ei({},o||u.value),"string"==typeof t){let r=Ci(n,t,o.path),s=e.resolve({path:r.path},o),a=i.createHref(r.fullPath);return Ei(r,s,{params:f(s.params),hash:Oo(r.hash),redirectedFrom:void 0,href:a})}let s;"path"in t?s=Ei({},t,{path:Ci(n,t.path,o.path).path}):(s=Ei({},t,{params:h(t.params)}),o.params=h(o.params));let a=e.resolve(s,o);const c=t.hash||"";a.params=l(f(a.params));const p=function(t,e){let n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(r,Ei({},t,{hash:(d=c,ko(d).replace(Io,"{").replace(So,"}").replace(wo,"^")),path:a.path}));var d;let v=i.createHref(p);return Ei({fullPath:p,hash:c,query:r===Po?Ro(t.query):t.query},a,{redirectedFrom:void 0,href:v})}function d(t){return"string"==typeof t?Ci(n,t,u.value.path):Ei({},t)}function v(t,e){if(c!==t)return Ji(8,{from:e,to:t})}function g(t){return y(t)}function m(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"==typeof n?n(t):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=d(r):{path:r}),Ei({query:t.query,hash:t.hash,params:t.params},r)}}function y(t,e){const n=c=p(t),i=u.value,o=t.state,s=t.force,a=!0===t.replace,l=m(n);if(l)return y(Ei(d(l),{state:o,force:s,replace:a}),e||n);const h=n;let f;return h.redirectedFrom=e,!s&&function(t,e,n){let r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Ni(e.matched[r],n.matched[i])&&Ai(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(r,i,n)&&(f=Ji(16,{to:h,from:i}),O(i,i,!0,!1)),(f?Promise.resolve(f):b(h,i)).catch((t=>Zi(t)?t:N(t))).then((t=>{if(t){if(Zi(t,2))return y(Ei(d(t.to),{state:o,force:s,replace:a}),e||h)}else t=E(h,i,!0,a,o);return w(h,i,t),t}))}function _(t,e){const n=v(t,e);return n?Promise.reject(n):Promise.resolve()}function b(t,e){let n;const[r,i,a]=function(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.indexOf(o)<0?n.push(o):r.push(o));const a=t.matched[s];a&&e.matched.indexOf(a)<0&&i.push(a)}return[n,r,i]}
/*!
 * vuex v4.0.0
 * (c) 2021 Evan You
 * @license MIT
 */(t,e);n=Mo(r.reverse(),"beforeRouteLeave",t,e);for(const o of r)o.leaveGuards.forEach((r=>{n.push(Lo(r,t,e))}));const u=_.bind(null,t,e);return n.push(u),Ho(n).then((()=>{n=[];for(const r of o.list())n.push(Lo(r,t,e));return n.push(u),Ho(n)})).then((()=>{n=Mo(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push(Lo(r,t,e))}));return n.push(u),Ho(n)})).then((()=>{n=[];for(const r of t.matched)if(r.beforeEnter&&e.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const i of r.beforeEnter)n.push(Lo(i,t,e));else n.push(Lo(r.beforeEnter,t,e));return n.push(u),Ho(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Mo(a,"beforeRouteEnter",t,e),n.push(u),Ho(n)))).then((()=>{n=[];for(const r of s.list())n.push(Lo(r,t,e));return n.push(u),Ho(n)})).catch((t=>Zi(t,8)?t:Promise.reject(t)))}function w(t,e,n){for(const r of a.list())r(t,e,n)}function E(t,e,n,r,o){const s=v(t,e);if(s)return s;const a=e===Qi,c=wi?history.state:{};n&&(r||a?i.replace(t.fullPath,Ei({scroll:a&&c&&c.scroll},o)):i.push(t.fullPath,o)),u.value=t,O(t,e,n,a),A()}let I;function T(){I=i.listen(((t,e,n)=>{let r=p(t);const o=m(r);if(o)return void y(Ei(o,{replace:!0}),r).catch(Ti);c=r;const s=u.value;var a,l;wi&&(a=qi(s.fullPath,n.delta),l=Ui(),Bi.set(a,l)),b(r,s).catch((t=>Zi(t,12)?t:Zi(t,2)?(y(t.to,r).catch(Ti),Promise.reject()):(n.delta&&i.go(-n.delta,!1),N(t)))).then((t=>{(t=t||E(r,s,!1))&&n.delta&&i.go(-n.delta,!1),w(r,s,t)})).catch(Ti)}))}let S,C=Do(),k=Do();function N(t){return A(t),k.list().forEach((e=>e(t))),Promise.reject(t)}function A(t){S||(S=!0,T(),C.list().forEach((([e,n])=>t?n(t):e())),C.reset())}function O(e,n,r,i){const{scrollBehavior:o}=t;if(!wi||!o)return Promise.resolve();let s=!r&&function(t){const e=Bi.get(t);return Bi.delete(t),e}(qi(e.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return Se().then((()=>o(e,n,s))).then((t=>t&&Vi(t))).catch(N)}const x=t=>i.go(t);let P;const R=new Set;return{currentRoute:u,addRoute:function(t,n){let r,i;return Ki(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)},removeRoute:function(t){let n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:p,options:t,push:g,replace:function(t){return g(Ei(d(t),{replace:!0}))},go:x,back:()=>x(-1),forward:()=>x(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:k.add,isReady:function(){return S&&u.value!==Qi?Promise.resolve():new Promise(((t,e)=>{C.add([t,e])}))},install(t){t.component("RouterLink",jo),t.component("RouterView",Bo),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{get:()=>ie(u)}),wi&&!P&&u.value===Qi&&(P=!0,g(i.location).catch((t=>{})));const e={};for(let r in Qi)e[r]=Ur((()=>u.value[r]));t.provide(yi,this),t.provide(_i,Gt(e)),t.provide(bi,u);let n=t.unmount;R.add(t),t.unmount=function(){R.delete(t),R.size<1&&(I(),u.value=Qi,P=!1,S=!1),n.call(this,arguments)}}}}function Ho(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}var zo=("undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function Go(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}var Ko=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},Qo={namespaced:{configurable:!0}};Qo.namespaced.get=function(){return!!this._rawModule.namespaced},Ko.prototype.addChild=function(t,e){this._children[t]=e},Ko.prototype.removeChild=function(t){delete this._children[t]},Ko.prototype.getChild=function(t){return this._children[t]},Ko.prototype.hasChild=function(t){return t in this._children},Ko.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Ko.prototype.forEachChild=function(t){Go(this._children,t)},Ko.prototype.forEachGetter=function(t){this._rawModule.getters&&Go(this._rawModule.getters,t)},Ko.prototype.forEachAction=function(t){this._rawModule.actions&&Go(this._rawModule.actions,t)},Ko.prototype.forEachMutation=function(t){this._rawModule.mutations&&Go(this._rawModule.mutations,t)},Object.defineProperties(Ko.prototype,Qo);var Yo=function(t){this.register([],t,!1)};function $o(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;$o(t.concat(r),e.getChild(r),n.modules[r])}}function Xo(t){return new Jo(t)}Yo.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},Yo.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},Yo.prototype.update=function(t){$o([],this.root,t)},Yo.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new Ko(e,n);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&Go(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},Yo.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},Yo.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var Jo=function(t){var e=this;void 0===t&&(t={});var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Yo(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null);var i=this,o=this.dispatch,s=this.commit;this.dispatch=function(t,e){return o.call(i,t,e)},this.commit=function(t,e,n){return s.call(i,t,e,n)},this.strict=r;var a=this._modules.root.state;rs(this,a,[],this._modules.root),ns(this,a),n.forEach((function(t){return t(e)})),(void 0===t.devtools||t.devtools)&&function(t){zo&&(t._devtoolHook=zo,zo.emit("vuex:init",t),zo.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){zo.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){zo.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},Zo={state:{configurable:!0}};function ts(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function es(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;rs(t,n,[],t._modules.root,!0),ns(t,n,e)}function ns(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};Go(i,(function(e,n){o[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return o[n]()},enumerable:!0})})),t._state=Gt({data:e}),t.strict&&function(t){yn((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),r&&n&&t._withCommit((function(){r.data=null}))}function rs(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=is(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){a[u]=r.state}))}var c=r.context=function(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=os(n,r,i),s=o.payload,a=o.options,u=o.type;return a&&a.root||(u=e+u),t.dispatch(u,s)},commit:r?t.commit:function(n,r,i){var o=os(n,r,i),s=o.payload,a=o.options,u=o.type;a&&a.root||(u=e+u),t.commit(u,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return is(t.state,n)}}}),i}(t,s,n);r.forEachMutation((function(e,n){!function(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,r.state,e)}))}(t,s+n,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,i=e.handler||e;!function(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push((function(e){var i,o=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return(i=o)&&"function"==typeof i.then||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}(t,r,i,c)})),r.forEachGetter((function(e,n){!function(t,e,n,r){if(t._wrappedGetters[e])return;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(t,s+n,e,c)})),r.forEachChild((function(r,o){rs(t,e,n.concat(o),r,i)}))}function is(t,e){return e.reduce((function(t,e){return t[e]}),t)}function os(t,e,n){var r;return null!==(r=t)&&"object"==typeof r&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */Jo.prototype.install=function(t,e){t.provide(e||"store",this),t.config.globalProperties.$store=this},Zo.state.get=function(){return this._state.data},Zo.state.set=function(t){},Jo.prototype.commit=function(t,e,n){var r=this,i=os(t,e,n),o=i.type,s=i.payload,a={type:o,payload:s},u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},Jo.prototype.dispatch=function(t,e){var n=this,r=os(t,e),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(qw){}var u=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){u.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(qw){}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(qw){}e(t)}))}))}},Jo.prototype.subscribe=function(t,e){return ts(t,this._subscribers,e)},Jo.prototype.subscribeAction=function(t,e){return ts("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},Jo.prototype.watch=function(t,e,n){var r=this;return yn((function(){return t(r.state,r.getters)}),e,Object.assign({},n))},Jo.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},Jo.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),rs(this,this.state,t,this._modules.get(t),n.preserveState),ns(this,this.state)},Jo.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){delete is(e.state,t.slice(0,-1))[t[t.length-1]]})),es(this)},Jo.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},Jo.prototype.hotUpdate=function(t){this._modules.update(t),es(this,!0)},Jo.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(Jo.prototype,Zo);var ss=function(t,e){return(ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function as(t,e){function n(){this.constructor=t}ss(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var us=function(){return(us=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function cs(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(qw){o(qw)}}function a(t){try{u(r.throw(t))}catch(qw){o(qw)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function ls(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(qw){o=[6,qw],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function hs(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fs(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function ps(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(fs(arguments[e]));return t}function ds(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vs=!1,gs="${JSCORE_VERSION}",ms=function(t,e){if(!t)throw ys(e)},ys=function(t){return new Error("Firebase Database ("+gs+") INTERNAL ASSERT FAILED: "+t)},_s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},bs={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ws=function(t){try{return bs.decodeString(t,!0)}catch(qw){console.error("base64Decode failed: ",qw)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Es(t){return Is(void 0,t)}function Is(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=Is(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ts=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Cs(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ss())}function ks(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(qw){return!1}}function Ns(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function As(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Os(){return!0===vs}function xs(){return"indexedDB"in self&&null!=indexedDB}function Ps(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function Rs(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ds=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Ls.prototype.create),o}return as(e,t),e}(Error),Ls=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Ms(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Ds(i,a,r);return u},t}();function Ms(t,e){return t.replace(Fs,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Fs=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(t){return JSON.parse(t)}function Us(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vs=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=js(ws(o[0])||""),n=js(ws(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(qw){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bs(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Ws(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hs(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zs=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function Gs(t,e){var n=new Ks(t,e);return n.subscribe.bind(n)}var Ks=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Qs),void 0===r.error&&(r.error=Qs),void 0===r.complete&&(r.complete=Qs);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(qw){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(qw){"undefined"!=typeof console&&console.error&&console.error(qw)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Qs(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function $s(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function Xs(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error($s(t,e,r)+"must be a valid function.")}function Js(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error($s(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zs=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function ta(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}var ea=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),na=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new Ts;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(qw){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=us({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(qw){if(r)return null;throw qw}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(qw){}try{for(var r=hs(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=fs(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(qw){}}}catch(l){e={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return cs(this,void 0,void 0,(function(){var t;return ls(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ps(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ra,ia=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new na(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function oa(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sa,aa,ua=[];(aa=sa||(sa={}))[aa.DEBUG=0]="DEBUG",aa[aa.VERBOSE=1]="VERBOSE",aa[aa.INFO=2]="INFO",aa[aa.WARN=3]="WARN",aa[aa.ERROR=4]="ERROR",aa[aa.SILENT=5]="SILENT";var ca,la={debug:sa.DEBUG,verbose:sa.VERBOSE,info:sa.INFO,warn:sa.WARN,error:sa.ERROR,silent:sa.SILENT},ha=sa.INFO,fa=((ra={})[sa.DEBUG]="log",ra[sa.VERBOSE]="log",ra[sa.INFO]="info",ra[sa.WARN]="warn",ra[sa.ERROR]="error",ra),pa=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=fa[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,oa(["["+i+"]  "+t.name+":"],n))}},da=function(){function t(t){this.name=t,this._logLevel=ha,this._logHandler=pa,this._userLogHandler=null,ua.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in sa))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?la[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oa([this,sa.DEBUG],t)),this._logHandler.apply(this,oa([this,sa.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oa([this,sa.VERBOSE],t)),this._logHandler.apply(this,oa([this,sa.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oa([this,sa.INFO],t)),this._logHandler.apply(this,oa([this,sa.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oa([this,sa.WARN],t)),this._logHandler.apply(this,oa([this,sa.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,oa([this,sa.ERROR],t)),this._logHandler.apply(this,oa([this,sa.ERROR],t))},t}();function va(t){ua.forEach((function(e){e.setLogLevel(t)}))}var ga,ma=((ca={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ca["bad-app-name"]="Illegal App name: '{$appName}",ca["duplicate-app"]="Firebase App named '{$appName}' already exists",ca["app-deleted"]="Firebase App named '{$appName}' already deleted",ca["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ca["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ca),ya=new Ls("app","Firebase",ma),_a="@firebase/app",ba=((ga={})[_a]="fire-core",ga["@firebase/analytics"]="fire-analytics",ga["@firebase/auth"]="fire-auth",ga["@firebase/database"]="fire-rtdb",ga["@firebase/functions"]="fire-fn",ga["@firebase/installations"]="fire-iid",ga["@firebase/messaging"]="fire-fcm",ga["@firebase/performance"]="fire-perf",ga["@firebase/remote-config"]="fire-rc",ga["@firebase/storage"]="fire-gcs",ga["@firebase/firestore"]="fire-fst",ga["fire-js"]="fire-js",ga["firebase-wrapper"]="fire-js-all",ga),wa=new da("@firebase/app"),Ea=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Es(t),this.container=new ia(e.name),this._addComponent(new ea("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(qw){wa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,qw)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ya.create("app-deleted",{appName:this.name_})},t}();Ea.prototype.name&&Ea.prototype.options||Ea.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ia(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw ya.create("bad-app-name",{appName:String(s)});if(qs(e,s))throw ya.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=ba[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void wa.warn(u.join(" "))}o(new ea(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:va,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw ya.create("invalid-log-argument");!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=la[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:sa[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=ua;r<i.length;r++)n(i[r])}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!qs(e,t=t||"[DEFAULT]"))throw ya.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return wa.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw ya.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Is(a,o.serviceProps),r[s]=a,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++){var l=c[u];e[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ta=function t(){var e=Ia(Ea);return e.INTERNAL=us(us({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Is(e,t)},createSubscribe:Gs,ErrorFactory:Ls,deepExtend:Is}),e}(),Sa=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){wa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ca=self.firebase.SDK_VERSION;Ca&&Ca.indexOf("LITE")>=0&&wa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ka=Ta.initializeApp;Ta.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ks()&&wa.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ka.apply(void 0,t)};var Na,Aa,Oa=Ta;(Na=Oa).INTERNAL.registerComponent(new ea("platform-logger",(function(t){return new Sa(t)}),"PRIVATE")),Na.registerVersion(_a,"0.6.15",Aa),Na.registerVersion("fire-js","");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Oa.registerVersion("firebase","8.2.9","app");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var xa=function(t,e){return(xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Pa(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ra,Da="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},La=La||{},Ma=Da||self;function Fa(){}function ja(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ua(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Va="closure_uid_"+(1e9*Math.random()>>>0),qa=0;function Ba(t,e,n){return t.call.apply(t.bind,arguments)}function Wa(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ha(t,e,n){return(Ha=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ba:Wa).apply(null,arguments)}function za(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ga(){return Date.now()}function Ka(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Qa(){this.j=this.j,this.i=this.i}Qa.prototype.j=!1,Qa.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,Va)&&t[Va]||(t[Va]=++qa))},Qa.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ya=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},$a=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Xa(t){return Array.prototype.concat.apply([],arguments)}function Ja(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Za(t){return/^[\s\xa0]*$/.test(t)}var tu,eu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function nu(t,e){return-1!=t.indexOf(e)}function ru(t,e){return t<e?-1:t>e?1:0}t:{var iu=Ma.navigator;if(iu){var ou=iu.userAgent;if(ou){tu=ou;break t}}tu=""}function su(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function au(t){var e={};for(var n in t)e[n]=t[n];return e}var uu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cu(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<uu.length;o++)n=uu[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lu(t){return lu[" "](t),t}lu[" "]=Fa;var hu,fu,pu=nu(tu,"Opera"),du=nu(tu,"Trident")||nu(tu,"MSIE"),vu=nu(tu,"Edge"),gu=vu||du,mu=nu(tu,"Gecko")&&!(nu(tu.toLowerCase(),"webkit")&&!nu(tu,"Edge"))&&!(nu(tu,"Trident")||nu(tu,"MSIE"))&&!nu(tu,"Edge"),yu=nu(tu.toLowerCase(),"webkit")&&!nu(tu,"Edge");function _u(){var t=Ma.document;return t?t.documentMode:void 0}t:{var bu="",wu=(fu=tu,mu?/rv:([^\);]+)(\)|;)/.exec(fu):vu?/Edge\/([\d\.]+)/.exec(fu):du?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(fu):yu?/WebKit\/(\S+)/.exec(fu):pu?/(?:Version)[ \/]?(\S+)/.exec(fu):void 0);if(wu&&(bu=wu?wu[1]:""),du){var Eu=_u();if(null!=Eu&&Eu>parseFloat(bu)){hu=String(Eu);break t}}hu=bu}var Iu,Tu={};function Su(t){return function(t,e){var n=Tu;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=eu(String(hu)).split("."),r=eu(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ru(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ru(0==s[2].length,0==a[2].length)||ru(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(Ma.document&&du){var Cu=_u();Iu=Cu||(parseInt(hu,10)||void 0)}else Iu=void 0;var ku=Iu,Nu=!du||9<=Number(ku),Au=du&&!Su("9"),Ou=function(){if(!Ma.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ma.addEventListener("test",Fa,e),Ma.removeEventListener("test",Fa,e)}catch(n){}return t}();function xu(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Pu(t,e){if(xu.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(mu){t:{try{lu(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ru[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}xu.prototype.b=function(){this.defaultPrevented=!0},Ka(Pu,xu);var Ru={2:"touch",3:"pen",4:"mouse"};Pu.prototype.b=function(){Pu.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Au)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Du="closure_listenable_"+(1e6*Math.random()|0),Lu=0;function Mu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Lu,this.Y=this.Z=!1}function Fu(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ju(t){this.src=t,this.a={},this.b=0}function Uu(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ya(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Fu(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Vu(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ju.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Vu(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Mu(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var qu="closure_lm_"+(1e6*Math.random()|0),Bu={};function Wu(t,e,n,r,i){if(r&&r.once)return zu(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Wu(t,e[o],n,r,i);return null}return n=Zu(n),t&&t[Du]?t.va(e,n,Ua(r)?!!r.capture:!!r,i):Hu(t,e,n,!1,r,i)}function Hu(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ua(i)?!!i.capture:!!i;if(s&&!Nu)return null;var a=Xu(t);if(a||(t[qu]=a=new ju(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=$u,e=Nu?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ou||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Qu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function zu(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)zu(t,e[o],n,r,i);return null}return n=Zu(n),t&&t[Du]?t.wa(e,n,Ua(r)?!!r.capture:!!r,i):Hu(t,e,n,!0,r,i)}function Gu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Gu(t,e[o],n,r,i);else r=Ua(r)?!!r.capture:!!r,n=Zu(n),t&&t[Du]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=Vu(o=t.a[e],n,r,i))&&(Fu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Xu(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Vu(e,n,r,i)),(n=-1<t?e[t]:null)&&Ku(n))}function Ku(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Du])Uu(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Qu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Xu(e))?(Uu(n,t),0==n.b&&(n.src=null,e[qu]=null)):Fu(t)}}}function Qu(t){return t in Bu?Bu[t]:Bu[t]="on"+t}function Yu(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ku(t),n.call(r,e)}function $u(t,e){if(t.Y)return!0;if(!Nu){if(!e)t:{e=["window","event"];for(var n=Ma,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Yu(t,e=new Pu(e,this))}return Yu(t,new Pu(e,this))}function Xu(t){return(t=t[qu])instanceof ju?t:null}var Ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zu(t){return"function"==typeof t?t:(t[Ju]||(t[Ju]=function(e){return t.handleEvent(e)}),t[Ju])}function tc(){Qa.call(this),this.c=new ju(this),this.J=this,this.C=null}function ec(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new xu(e,t);else if(e instanceof xu)e.target=e.target||t;else{var i=e;cu(e=new xu(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=nc(s,r,!0,e)&&i}if(i=nc(s=e.a=t,r,!0,e)&&i,i=nc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=nc(s=e.a=n[o],r,!1,e)&&i}function nc(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Uu(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ka(tc,Qa),tc.prototype[Du]=!0,(Ra=tc.prototype).addEventListener=function(t,e,n,r){Wu(this,t,e,n,r)},Ra.removeEventListener=function(t,e,n,r){Gu(this,t,e,n,r)},Ra.G=function(){if(tc.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Fu(n[r]);delete e.a[t],e.b--}}this.C=null},Ra.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ra.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var rc=Ma.JSON.stringify;function ic(){this.b=this.a=null}var oc,sc=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new uc}),(function(t){t.reset()}));function ac(){var t=fc,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function uc(){this.next=this.b=this.a=null}function cc(t){Ma.setTimeout((function(){throw t}),0)}function lc(t,e){oc||function(){var t=Ma.Promise.resolve(void 0);oc=function(){t.then(pc)}}(),hc||(oc(),hc=!0),fc.add(t,e)}ic.prototype.add=function(t,e){var n=sc.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},uc.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},uc.prototype.reset=function(){this.next=this.b=this.a=null};var hc=!1,fc=new ic;function pc(){for(var t;t=ac();){try{t.a.call(t.b)}catch(n){cc(n)}var e=sc;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}hc=!1}function dc(t,e){tc.call(this),this.b=t||1,this.a=e||Ma,this.f=Ha(this.Za,this),this.g=Ga()}function vc(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function gc(t,e,n){if("function"==typeof t)n&&(t=Ha(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ha(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ma.setTimeout(t,e||0)}function mc(t){t.a=gc((function(){t.a=null,t.c&&(t.c=!1,mc(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ka(dc,tc),(Ra=dc.prototype).aa=!1,Ra.M=null,Ra.Za=function(){if(this.aa){var t=Ga()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ec(this,"tick"),this.aa&&(vc(this),this.start()))}},Ra.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ga())},Ra.G=function(){dc.X.G.call(this),vc(this),delete this.a};var yc=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}xa(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:mc(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ma.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Qa);function _c(t){Qa.call(this),this.b=t,this.a={}}Ka(_c,Qa);var bc=[];function wc(t,e,n,r){Array.isArray(n)||(n&&(bc[0]=n.toString()),n=bc);for(var i=0;i<n.length;i++){var o=Wu(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Ec(t){su(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Ku(t)}),t),t.a={}}function Ic(){this.a=!0}function Tc(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return rc(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}_c.prototype.G=function(){_c.X.G.call(this),Ec(this)},_c.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ic.prototype.info=function(){};var Sc={},Cc=null;function kc(){return Cc=Cc||new tc}function Nc(t){xu.call(this,Sc.Fa,t)}function Ac(t){var e=kc();ec(e,new Nc(e,t))}function Oc(t,e){xu.call(this,Sc.STAT_EVENT,t),this.stat=e}function xc(t){var e=kc();ec(e,new Oc(e,t))}function Pc(t){xu.call(this,Sc.Ga,t)}function Rc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ma.setTimeout((function(){t()}),e)}Sc.Fa="serverreachability",Ka(Nc,xu),Sc.STAT_EVENT="statevent",Ka(Oc,xu),Sc.Ga="timingevent",Ka(Pc,xu);var Dc={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Lc={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Mc(){}function Fc(t){var e;return(e=t.a)||(e=t.a={}),e}function jc(){}Mc.prototype.a=null;var Uc,Vc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function qc(){xu.call(this,"d")}function Bc(){xu.call(this,"c")}function Wc(){}function Hc(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new _c(this),this.P=zc,t=gu?125:void 0,this.R=new dc(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ka(qc,xu),Ka(Bc,xu),Ka(Wc,Mc),Uc=new Wc;var zc=45e3,Gc={},Kc={};function Qc(t,e,n){t.H=1,t.i=gl(ll(e)),t.j=n,t.I=!0,Yc(t,null)}function Yc(t,e){t.u=Ga(),Jc(t),t.l=ll(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Al(n.b,"t",r),t.D=0,t.a=Ih(t.g,t.g.C?e:null),0<t.O&&(t.F=new yc(Ha(t.Ca,t,t.a),t.O)),wc(t.J,t.a,"readystatechange",t.Xa),e=t.B?au(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ac(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function $c(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Xc(t,n);if(i==Kc){4==e&&(t.h=4,xc(14),r=!1),Tc(t.c,t.f,null,"[Incomplete Response]");break}if(i==Gc){t.h=4,xc(15),Tc(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Tc(t.c,t.f,i,null),rl(t,i)}4==e&&0==n.length&&(t.h=1,xc(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),vh(e),e.F=!0,xc(11))):(Tc(t.c,t.f,n,"[Invalid Chunked Response]"),nl(t),el(t))}function Xc(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Kc:(n=Number(e.substring(n,r)),isNaN(n)?Gc:(r+=1)+n>e.length?Kc:(e=e.substr(r,n),t.D=r+n,e))}function Jc(t){t.T=Ga()+t.P,Zc(t,t.P)}function Zc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Rc(Ha(t.Va,t),e)}function tl(t){t.o&&(Ma.clearTimeout(t.o),t.o=null)}function el(t){0==t.g.v||t.A||yh(t.g,t)}function nl(t){tl(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,vc(t.R),Ec(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function rl(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ml(n.b,t)))if(n.I=t.N,!t.C&&Ml(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;mh(n),sh(n)}dh(n),xc(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Rc(Ha(n.Sa,n),6e3));if(1>=Ll(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else bh(n,11)}else if((t.C||n.a==t)&&mh(n),!Za(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(nu(l,"spdy")||nu(l,"quic")||nu(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Fl(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,vl(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ga()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=Eh(u,u.C?u.ga:null,u.fa),p.C){jl(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(tl(d),Jc(d)),u.a=p}else ph(u);0<n.g.length&&ch(n)}else"stop"!=i[0]&&"close"!=i[0]||bh(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?bh(n,7):oh(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ac(4)}catch(g){}}function il(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ja(t)||"string"==typeof t)$a(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ja(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ja(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ol(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ol)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function sl(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];al(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)al(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function al(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ra=Hc.prototype).setTimeout=function(t){this.P=t},Ra.Xa=function(t){t=t.target;var e=this.F;e&&3==eh(t)?e.f():this.Ca(t)},Ra.Ca=function(t){try{if(t==this.a)t:{var e=eh(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!gu&&!this.a.$())){this.A||4!=e||7==n||Ac(8==n||0>=r?3:2),tl(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Za(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,xc(12),nl(this),el(this);break t}Tc(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,rl(this,u)}this.I?($c(this,e,o),gu&&this.b&&3==e&&(wc(this.J,this.R,"tick",this.Wa),this.R.start())):(Tc(this.c,this.f,o,null),rl(this,o)),4==e&&nl(this),this.b&&!this.A&&(4==e?yh(this.g,this):(this.b=!1,Jc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,xc(12)):(this.h=0,xc(13)),nl(this),el(this)}}}catch(c){}},Ra.Wa=function(){if(this.a){var t=eh(this.a),e=this.a.$();this.D<e.length&&(tl(this),$c(this,t,e),this.b&&4!=t&&Jc(this))}},Ra.cancel=function(){this.A=!0,nl(this)},Ra.Va=function(){this.o=null;var t=Ga();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Ac(3),xc(17)),nl(this),this.h=2,el(this)):Zc(this,this.T-t)},(Ra=ol.prototype).K=function(){sl(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ra.L=function(){return sl(this),this.a.concat()},Ra.get=function(t,e){return al(this.b,t)?this.b[t]:e},Ra.set=function(t,e){al(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ra.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ul=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cl(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof cl){this.a=void 0!==e?e:t.a,hl(this,t.f),this.j=t.j,fl(this,t.c),pl(this,t.h),this.g=t.g,e=t.b;var n=new Sl;n.c=e.c,e.a&&(n.a=new ol(e.a),n.b=e.b),dl(this,n),this.i=t.i}else t&&(n=String(t).match(ul))?(this.a=!!e,hl(this,n[1]||"",!0),this.j=ml(n[2]||""),fl(this,n[3]||"",!0),pl(this,n[4]),this.g=ml(n[5]||"",!0),dl(this,n[6]||"",!0),this.i=ml(n[7]||"")):(this.a=!!e,this.b=new Sl(null,this.a))}function ll(t){return new cl(t)}function hl(t,e,n){t.f=n?ml(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function fl(t,e,n){t.c=n?ml(e,!0):e}function pl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function dl(t,e,n){e instanceof Sl?(t.b=e,function(t,e){e&&!t.f&&(Cl(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(kl(this,e),Al(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=yl(e,Il)),t.b=new Sl(e,t.a))}function vl(t,e,n){t.b.set(e,n)}function gl(t){return vl(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ga()).toString(36)),t}function ml(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,_l),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _l(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}cl.prototype.toString=function(){var t=[],e=this.f;e&&t.push(yl(e,bl,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(yl(e,bl,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(yl(n,"/"==n.charAt(0)?El:wl,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",yl(n,Tl)),t.join("")};var bl=/[#\/\?@]/g,wl=/[#\?:]/g,El=/[#\?]/g,Il=/[#\?@]/g,Tl=/#/g;function Sl(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Cl(t){t.a||(t.a=new ol,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function kl(t,e){Cl(t),e=Ol(t,e),al(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,al((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&sl(t)))}function Nl(t,e){return Cl(t),e=Ol(t,e),al(t.a.b,e)}function Al(t,e,n){kl(t,e),0<n.length&&(t.c=null,t.a.set(Ol(t,e),Ja(n)),t.b+=n.length)}function Ol(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ra=Sl.prototype).add=function(t,e){Cl(this),this.c=null,t=Ol(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ra.forEach=function(t,e){Cl(this),this.a.forEach((function(n,r){$a(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Ra.L=function(){Cl(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ra.K=function(t){Cl(this);var e=[];if("string"==typeof t)Nl(this,t)&&(e=Xa(e,this.a.get(Ol(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Xa(e,t[n])}return e},Ra.set=function(t,e){return Cl(this),this.c=null,Nl(this,t=Ol(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ra.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ra.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var xl=function(t,e){this.b=t,this.a=e};function Pl(t){this.g=t||Rl,Ma.PerformanceNavigationTiming?t=0<(t=Ma.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Ma.ia&&Ma.ia.ya&&Ma.ia.ya()&&Ma.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Rl=10;function Dl(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ll(t){return t.b?1:t.a?t.a.size:0}function Ml(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Fl(t,e){t.a?t.a.add(e):t.b=e}function jl(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ul(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Pa(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ja(t.c)}function Vl(){}function ql(){this.a=new Vl}function Bl(t,e,n){var r=n||"";try{il(t,(function(t,n){var i=t;Ua(t)&&(i=rc(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(qw){throw e.push(r+"type="+encodeURIComponent("_badmap")),qw}}function Wl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Pl.prototype.cancel=function(){var t,e;if(this.c=Ul(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Pa(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Vl.prototype.stringify=function(t){return Ma.JSON.stringify(t,void 0)},Vl.prototype.parse=function(t){return Ma.JSON.parse(t,void 0)};var Hl=Ma.JSON.parse;function zl(t){tc.call(this),this.headers=new ol,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Gl,this.D=this.F=!1}Ka(zl,tc);var Gl="",Kl=/^https?$/i,Ql=["POST","PUT"];function Yl(t){return"content-type"==t.toLowerCase()}function $l(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Xl(t),Zl(t)}function Xl(t){t.u||(t.u=!0,ec(t,"complete"),ec(t,"error"))}function Jl(t){if(t.b&&void 0!==La&&(!t.s[1]||4!=eh(t)||2!=t.W()))if(t.l&&4==eh(t))gc(t.za,0,t);else if(ec(t,"readystatechange"),4==eh(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ul)[1]||null;if(!o&&Ma.self&&Ma.self.location){var s=Ma.self.location.protocol;o=s.substr(0,s.length-1)}i=!Kl.test(o?o.toLowerCase():"")}e=i}if(e)ec(t,"complete"),ec(t,"success");else{t.h=6;try{var a=2<eh(t)?t.a.statusText:""}catch(u){a=""}t.f=a+" ["+t.W()+"]",Xl(t)}}finally{Zl(t)}}}function Zl(t,e){if(t.a){th(t);var n=t.a,r=t.s[0]?Fa:null;t.a=null,t.s=null,e||ec(t,"ready");try{n.onreadystatechange=r}catch(qw){}}}function th(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ma.clearTimeout(t.m),t.m=null)}function eh(t){return t.a?t.a.readyState:0}function nh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return su(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):vl(t,e,n))}function rh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ih(t){this.pa=0,this.g=[],this.c=new Ic,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=rh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=rh("baseRetryDelayMs",5e3,t),this.Ra=rh("retryDelaySeedMs",1e4,t),this.Ma=rh("forwardChannelMaxRetries",2,t),this.ma=rh("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Pl(t&&t.concurrentRequestLimit),this.ka=new ql,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function oh(t){if(ah(t),3==t.v){var e=t.R++,n=ll(t.B);vl(n,"SID",t.J),vl(n,"RID",e),vl(n,"TYPE","terminate"),hh(t,n),(e=new Hc(t,t.c,e,void 0)).H=2,e.i=gl(ll(n)),n=!1,Ma.navigator&&Ma.navigator.sendBeacon&&(n=Ma.navigator.sendBeacon(e.i.toString(),"")),!n&&Ma.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ih(e.g,null),e.a.ba(e.i)),e.u=Ga(),Jc(e)}wh(t)}function sh(t){t.a&&(vh(t),t.a.cancel(),t.a=null)}function ah(t){sh(t),t.j&&(Ma.clearTimeout(t.j),t.j=null),mh(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ma.clearTimeout(t.h),t.h=null)}function uh(t,e){t.g.push(new xl(t.Oa++,e)),3==t.v&&ch(t)}function ch(t){Dl(t.b)||t.h||(t.h=!0,lc(t.Ba,t),t.u=0)}function lh(t,e){var n;n=e?e.f:t.R++;var r=ll(t.B);vl(r,"SID",t.J),vl(r,"RID",n),vl(r,"AID",t.P),hh(t,r),t.i&&t.l&&nh(r,t.i,t.l),n=new Hc(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=fh(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Fl(t.b,n),Qc(n,r,e)}function hh(t,e){t.f&&il({},(function(t,n){vl(e,n,t)}))}function fh(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ha(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Bl(l,s,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ph(t){t.a||t.j||(t.T=1,lc(t.Aa,t),t.o=0)}function dh(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Rc(Ha(t.Aa,t),_h(t,t.o)),t.o++,!0)}function vh(t){null!=t.s&&(Ma.clearTimeout(t.s),t.s=null)}function gh(t){t.a=new Hc(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ll(t.la);vl(e,"RID","rpc"),vl(e,"SID",t.J),vl(e,"CI",t.H?"0":"1"),vl(e,"AID",t.P),hh(t,e),vl(e,"TYPE","xmlhttp"),t.i&&t.l&&nh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=gl(ll(e)),n.j=null,n.I=!0,Yc(n,t)}function mh(t){null!=t.m&&(Ma.clearTimeout(t.m),t.m=null)}function yh(t,e){var n=null;if(t.a==e){mh(t),vh(t),t.a=null;var r=2}else{if(!Ml(t.b,e))return;n=e.s,jl(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ga()-e.u;var i=t.u;ec(r=kc(),new Pc(r,n,e,i)),ch(t)}else ph(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ll(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Rc(Ha(t.Ba,t,e),_h(t,t.u)),t.u++,0)))}(t,e)||2==r&&dh(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:bh(t,5);break;case 4:bh(t,10);break;case 3:bh(t,6);break;default:bh(t,2)}}function _h(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function bh(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ha(t.Ya,t);n||(n=new cl("//www.google.com/images/cleardot.gif"),Ma.location&&"http"==Ma.location.protocol||hl(n,"https"),gl(n)),function(t,e){var n=new Ic;if(Ma.Image){var r=new Image;r.onload=za(Wl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=za(Wl,n,r,"TestLoadImage: error",!1,e),r.onabort=za(Wl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=za(Wl,n,r,"TestLoadImage: timeout",!1,e),Ma.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else xc(2);t.v=0,t.f&&t.f.ra(e),wh(t),ah(t)}function wh(t){t.v=0,t.I=-1,t.f&&(0==Ul(t.b).length&&0==t.g.length||(t.b.c.length=0,Ja(t.g),t.g.length=0),t.f.qa())}function Eh(t,e,n){var r=function(t){return t instanceof cl?ll(t):new cl(t,void 0)}(n);if(""!=r.c)e&&fl(r,e+"."+r.c),pl(r,r.h);else{var i=Ma.location;r=function(t,e,n,r){var i=new cl(null,void 0);return t&&hl(i,t),e&&fl(i,e),n&&pl(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&su(t.V,(function(t,e){vl(r,e,t)})),e=t.A,n=t.na,e&&n&&vl(r,e,n),vl(r,"VER",t.ha),hh(t,r),r}function Ih(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zl(t.Na)).F=t.C,e}function Th(){}function Sh(){if(du&&!(10<=Number(ku)))throw Error("Environmental error: no available transport.")}function Ch(t,e){tc.call(this),this.a=new ih(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Za(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Za(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Ah(this)}function kh(t){qc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Nh(){Bc.call(this),this.status=1}function Ah(t){this.a=t}(Ra=zl.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Fc(this.H):Fc(Uc),this.a.onreadystatechange=Ha(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void $l(this,o)}t=n||"";var i=new ol(this.headers);r&&il(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Yl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ma.FormData&&t instanceof Ma.FormData,!(0<=Ya(Ql,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{th(this),0<this.o&&((this.D=function(t){return du&&Su(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ha(this.xa,this)):this.m=gc(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){$l(this,o)}},Ra.xa=function(){void 0!==La&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ec(this,"timeout"),this.abort(8))},Ra.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ec(this,"complete"),ec(this,"abort"),Zl(this))},Ra.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Zl(this,!0)),zl.X.G.call(this)},Ra.za=function(){this.j||(this.A||this.l||this.g?Jl(this):this.Ua())},Ra.Ua=function(){Jl(this)},Ra.W=function(){try{return 2<eh(this)?this.a.status:-1}catch(fu){return-1}},Ra.$=function(){try{return this.a?this.a.responseText:""}catch(fu){return""}},Ra.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Hl(e)}},Ra.ua=function(){return this.h},Ra.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ra=ih.prototype).ha=8,Ra.v=1,Ra.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Hc(this,this.c,t,void 0),r=this.l;if(this.O&&(r?cu(r=au(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=fh(this,n,e),vl(i=ll(this.B),"RID",t),vl(i,"CVER",22),this.A&&vl(i,"X-HTTP-Session-Id",this.A),hh(this,i),this.i&&r&&nh(i,this.i,r),Fl(this.b,n),this.Ia&&vl(i,"TYPE","init"),this.da?(vl(i,"$req",e),vl(i,"SID","null"),n.U=!0,Qc(n,i,null)):Qc(n,i,e),this.v=2}}else 3==this.v&&(t?lh(this,t):0==this.g.length||Dl(this.b)||lh(this))},Ra.Aa=function(){if(this.j=null,gh(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Rc(Ha(this.Ta,this),t)}},Ra.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,xc(10),sh(this),gh(this))},Ra.Sa=function(){null!=this.m&&(this.m=null,sh(this),dh(this),xc(19))},Ra.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),xc(2)):(this.c.info("Failed to ping google.com"),xc(1))},(Ra=Th.prototype).ta=function(){},Ra.sa=function(){},Ra.ra=function(){},Ra.qa=function(){},Ra.Ja=function(){},Sh.prototype.a=function(t,e){return new Ch(t,e)},Ka(Ch,tc),Ch.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;xc(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Eh(t,null,t.fa),ch(t)},Ch.prototype.close=function(){oh(this.a)},Ch.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,uh(this.a,e)}else this.l?((e={}).__data__=rc(t),uh(this.a,e)):uh(this.a,t)},Ch.prototype.G=function(){this.a.f=null,delete this.f,oh(this.a),delete this.a,Ch.X.G.call(this)},Ka(kh,qc),Ka(Nh,Bc),Ka(Ah,Th),Ah.prototype.ta=function(){ec(this.a,"a")},Ah.prototype.sa=function(t){ec(this.a,new kh(t))},Ah.prototype.ra=function(t){ec(this.a,new Nh(t))},Ah.prototype.qa=function(){ec(this.a,"b")},Sh.prototype.createWebChannel=Sh.prototype.a,Ch.prototype.send=Ch.prototype.h,Ch.prototype.open=Ch.prototype.g,Ch.prototype.close=Ch.prototype.close,Dc.NO_ERROR=0,Dc.TIMEOUT=8,Dc.HTTP_ERROR=6,Lc.COMPLETE="complete",jc.EventType=Vc,Vc.OPEN="a",Vc.CLOSE="b",Vc.ERROR="c",Vc.MESSAGE="d",tc.prototype.listen=tc.prototype.va,zl.prototype.listenOnce=zl.prototype.wa,zl.prototype.getLastError=zl.prototype.Qa,zl.prototype.getLastErrorCode=zl.prototype.ua,zl.prototype.getStatus=zl.prototype.W,zl.prototype.getResponseJson=zl.prototype.Pa,zl.prototype.getResponseText=zl.prototype.$,zl.prototype.send=zl.prototype.ba;var Oh=Dc,xh=Lc,Ph=Sc,Rh=10,Dh=11,Lh=jc,Mh=zl,Fh=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},jh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Uh=new da("@firebase/firestore");function Vh(){return Uh.logLevel}function qh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uh.logLevel<=sa.DEBUG){var r=e.map(Hh);Uh.debug.apply(Uh,ds(["Firestore (8.2.9): "+t],r))}}function Bh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uh.logLevel<=sa.ERROR){var r=e.map(Hh);Uh.error.apply(Uh,ds(["Firestore (8.2.9): "+t],r))}}function Wh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uh.logLevel<=sa.WARN){var r=e.map(Hh);Uh.warn.apply(Uh,ds(["Firestore (8.2.9): "+t],r))}}function Hh(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(n){return t}
/**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Bh(e),new Error(e)}function Gh(t,e){t||zh()}function Kh(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yh=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Qh(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function $h(t,e){return t<e?-1:t>e?1:0}function Xh(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Jh(t){return t+"\0"}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zh=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.h,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return $h(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Zh.T=new Zh("");var tf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ef=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return as(e,t),e}(Error),nf=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Zh.fromBase64String(e))}catch(n){throw new ef(tf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Zh.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),rf=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();rf.UNAUTHENTICATED=new rf(null),rf.R=new rf("google-credentials-uid"),rf.P=new rf("first-party-uid");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var of=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},sf=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(rf.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),af=function(){function t(t){var e=this;this.D=null,this.currentUser=rf.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then((function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.N!==e?(qh("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Gh("string"==typeof n.accessToken),new of(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Gh(null===t||"string"==typeof t),new rf(t)},t}(),uf=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=rf.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),cf=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new uf(this.F,this.O))},t.prototype.v=function(t){t(rf.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),lf=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();lf.q=-1;var hf=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ef(tf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ef(tf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ef(tf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ef(tf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?$h(this.nanoseconds,t.nanoseconds):$h(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ff=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new hf(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),pf=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&zh(),void 0===n?n=t.length-e:n>t.length-e&&zh(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return t=void 0===t?1:t,this.J(this.segments,this.offset+t,this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),df=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new ef(tf.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.ct=function(){return new e([])},e}(pf),vf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return vf.test(t)},e.prototype.rt=function(){return this.it().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ef(tf.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ef(tf.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ef(tf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ef(tf.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(pf),mf=function(){function t(t){this.path=t}return t._t=function(e){return new t(df.ot(e))},t.ft=function(e){return new t(df.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===df.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return df.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new df(e.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _f(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wf=function(){function t(t){this.fields=t,t.sort(gf.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return Xh(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Ef=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){if(Gh(!!t),"string"==typeof t){var e=0,n=Ef.exec(t);if(Gh(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Tf(t.seconds),nanos:Tf(t.nanos)}}function Tf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Sf(t){return"string"==typeof t?Zh.fromBase64String(t):Zh.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kf(t){var e=t.mapValue.fields.__previous_value__;return Cf(e)?kf(e):e}function Nf(t){var e=If(t.mapValue.fields.__local_write_time__.timestampValue);return new hf(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return null==t}function Of(t){return 0===t&&1/t==-1/0}function xf(t){return"number"==typeof t&&Number.isInteger(t)&&!Of(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cf(t)?4:10:zh()}function Rf(t,e){var n,r=Pf(t);if(r!==Pf(e))return!1;switch(r){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nf(t).isEqual(Nf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=If(t.timestampValue),r=If(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return n=e,Sf(t.bytesValue).isEqual(Sf(n.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Tf(t.geoPointValue.latitude)===Tf(e.geoPointValue.latitude)&&Tf(t.geoPointValue.longitude)===Tf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Tf(t.integerValue)===Tf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Tf(t.doubleValue),r=Tf(e.doubleValue);return n===r?Of(n)===Of(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Xh(t.arrayValue.values||[],e.arrayValue.values||[],Rf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(yf(n)!==yf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rf(n[i],r[i])))return!1;return!0}(t,e);default:return zh()}}function Df(t,e){return void 0!==(t.values||[]).find((function(t){return Rf(t,e)}))}function Lf(t,e){var n,r,i,o,s=Pf(t),a=Pf(e);if(s!==a)return $h(s,a);switch(s){case 0:return 0;case 1:return $h(t.booleanValue,e.booleanValue);case 2:return r=e,i=Tf((n=t).integerValue||n.doubleValue),o=Tf(r.integerValue||r.doubleValue),i<o?-1:i>o?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return Mf(t.timestampValue,e.timestampValue);case 4:return Mf(Nf(t),Nf(e));case 5:return $h(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Sf(t),r=Sf(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=$h(n[i],r[i]);if(0!==o)return o}return $h(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=$h(Tf(t.latitude),Tf(e.latitude));return 0!==n?n:$h(Tf(t.longitude),Tf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Lf(n[i],r[i]);if(o)return o}return $h(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=$h(r[s],o[s]);if(0!==a)return a;var u=Lf(n[r[s]],i[o[s]]);if(0!==u)return u}return $h(r.length,o.length)}(t.mapValue,e.mapValue);default:throw zh()}}function Mf(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $h(t,e);var n=If(t),r=If(e),i=$h(n.seconds,r.seconds);return 0!==i?i:$h(n.nanos,r.nanos)}function Ff(t){return jf(t)}function jf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(e=t.timestampValue,"time("+(n=If(e)).seconds+","+n.nanos+")"):"stringValue"in t?t.stringValue:"bytesValue"in t?Sf(t.bytesValue).toBase64():"referenceValue"in t?(i=t.referenceValue,mf.ft(i).toString()):"geoPointValue"in t?"geo("+(r=t.geoPointValue).latitude+","+r.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=jf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+jf(t.fields[o])}return e+"}"}(t.mapValue):zh();var e,n,r,i}function Uf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Vf(t){return!!t&&"integerValue"in t}function qf(t){return!!t&&"arrayValue"in t}function Bf(t){return!!t&&"nullValue"in t}function Wf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zf=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Hf(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Rf(this.proto,t.proto)},t}(),Gf=function(){function t(t){void 0===t&&(t=zf.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Pf(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(gf.ct(),this.At);return null!=t?new zf(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Hf(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Kf(t){var e=[];return _f(t.fields||{},(function(t,n){var r=new gf([t]);if(Hf(n)){var i=Kf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new wf(e)}var Qf=function(t,e){this.key=t,this.version=e},Yf=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return as(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Qf),$f=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return as(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qf),Xf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Qf),Jf=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Zf(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Jf(t,e,n,r,i,o,s)}function tp(t){var e=Kh(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return(e=t).field.rt()+e.op.toString()+Ff(e.value);var e})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.rt()+e.dir;var e})).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=pp(e.startAt)),e.endAt&&(n+="|ub:",n+=pp(e.endAt)),e.vt=n}return e.vt}function ep(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!vp(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Rf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mp(t.startAt,e.startAt)&&mp(t.endAt,e.endAt)}function np(t){return mf.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var rp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return as(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new ip(t,n,r):"array-contains"===n?new up(t,r):"in"===n?new cp(t,r):"not-in"===n?new lp(t,r):"array-contains-any"===n?new hp(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new op(t,n):new sp(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Lf(e,this.value)):null!==e&&Pf(this.value)===Pf(e)&&this.Dt(Lf(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return zh()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),ip=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=mf.ft(r.referenceValue),i}return as(e,t),e.prototype.matches=function(t){var e=mf.H(t.key,this.key);return this.Dt(e)},e}(rp),op=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ap("in",n),r}return as(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(rp),sp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ap("not-in",n),r}return as(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(rp);function ap(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return mf.ft(t.referenceValue)}))}var up=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return as(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return qf(e)&&Df(e.arrayValue,this.value)},e}(rp),cp=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return as(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Df(this.value.arrayValue,e)},e}(rp),lp=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return as(e,t),e.prototype.matches=function(t){if(Df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Df(this.value.arrayValue,e)},e}(rp),hp=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return as(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!qf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Df(e.value.arrayValue,t)}))},e}(rp),fp=function(t,e){this.position=t,this.before=e};function pp(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Ff(t)})).join(",")}var dp=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function vp(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function gp(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?mf.H(mf.ft(s.referenceValue),n.key):Lf(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function mp(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Rf(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yp=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null,this.startAt,this.endAt};function _p(t,e,n,r,i,o,s,a){return new yp(t,e,n,r,i,o,s,a)}function bp(t){return new yp(t)}function wp(t){return!Af(t.limit)&&"F"===t.limitType}function Ep(t){return!Af(t.limit)&&"L"===t.limitType}function Ip(t){return t.xt.length>0?t.xt[0].field:null}function Tp(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function Sp(t){return null!==t.collectionGroup}function Cp(t){var e=Kh(t);if(null===e.Nt){e.Nt=[];var n=Tp(e),r=Ip(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new dp(n)),e.Nt.push(new dp(gf.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new dp(gf.ht(),u))}}}return e.Nt}function kp(t){var e=Kh(t);if(!e.$t)if("F"===e.limitType)e.$t=Zf(e.path,e.collectionGroup,Cp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Cp(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new dp(o.field,s))}var a=e.endAt?new fp(e.endAt.position,!e.endAt.before):null,u=e.startAt?new fp(e.startAt.position,!e.startAt.before):null;e.$t=Zf(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.$t}function Np(t,e,n){return new yp(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ap(t,e){return ep(kp(t),kp(e))&&t.limitType===e.limitType}function Op(t){return tp(kp(t))+"|lt:"+t.limitType}function xp(t){return"Query(target="+(e=kp(t),n=e.path.rt(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map((function(t){return(e=t).field.rt()+" "+e.op+" "+Ff(e.value);var e})).join(", ")+"]"),Af(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map((function(t){return(e=t).field.rt()+" ("+e.dir+")";var e})).join(", ")+"]"),e.startAt&&(n+=", startAt: "+pp(e.startAt)),e.endAt&&(n+=", endAt: "+pp(e.endAt)),"Target("+n+"); limitType=")+t.limitType+")";var e,n}function Pp(t,e){return n=t,i=(r=e).key.path,(null!==n.collectionGroup?r.key.dt(n.collectionGroup)&&n.path.nt(i):mf.wt(n.path)?n.path.isEqual(i):n.path.st(i))&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!gp(t.startAt,Cp(t),e)||t.endAt&&gp(t.endAt,Cp(t),e))}(t,e);var n,r,i}function Rp(t){return function(e,n){for(var r=!1,i=0,o=Cp(t);i<o.length;i++){var s=o[i],a=Dp(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function Dp(t,e,n){var r,i,o,s,a=t.field.ut()?mf.H(e.key,n.key):(r=t.field,i=n,o=e.field(r),s=i.field(r),null!==o&&null!==s?Lf(o,s):zh());switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return zh()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=ff.min()),void 0===o&&(o=ff.min()),void 0===s&&(s=Zh.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(e)?"-0":e}}function Fp(t){return{integerValue:""+t}}function jp(t,e){return xf(e)?Fp(e):Mp(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Up=function(){this.qt=void 0};function Vp(t,e,n){return t instanceof Wp?(i=e,o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(o.fields.__previous_value__=i),{mapValue:o}):t instanceof Hp?zp(t,e):t instanceof Gp?Kp(t,e):function(t,e){var n=Bp(t,e),r=Yp(n)+Yp(t.Ut);return Vf(n)&&Vf(t.Ut)?Fp(r):Mp(t.Qt,r)}(t,e);var r,i,o}function qp(t,e,n){return t instanceof Hp?zp(t,e):t instanceof Gp?Kp(t,e):n}function Bp(t,e){return t instanceof Qp?Vf(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}var Wp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e}(Up),Hp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return as(e,t),e}(Up);function zp(t,e){for(var n=$p(e),r=function(t){n.some((function(e){return Rf(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Gp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return as(e,t),e}(Up);function Kp(t,e){for(var n=$p(e),r=function(t){n=n.filter((function(e){return!Rf(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Qp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return as(e,t),e}(Up);function Yp(t){return Tf(t.integerValue||t.doubleValue)}function $p(t){return qf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xp=function(t,e){this.field=t,this.transform=e},Jp=function(t,e){this.version=t,this.transformResults=e},Zp=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function td(t,e){return void 0!==t.updateTime?e instanceof Yf&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Yf}var ed=function(){};function nd(t,e,n){return t instanceof ad?function(t,e,n){var r=t.value;if(n.transformResults){var i=ld(t.fieldTransforms,e,n.transformResults);r=fd(t.fieldTransforms,r,i)}return new Yf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ud?function(t,e,n){if(!td(t.jt,e))return new Xf(t.key,n.version);var r=cd(t,e,n.transformResults?ld(t.fieldTransforms,e,n.transformResults):[]);return new Yf(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):(r=n,new $f(t.key,r.version,{hasCommittedMutations:!0}));var r}function rd(t,e,n){return t instanceof ad?function(t,e,n){if(!td(t.jt,e))return e;var r=t.value,i=hd(t.fieldTransforms,n,e);r=fd(t.fieldTransforms,r,i);var o=sd(e);return new Yf(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof ud?function(t,e,n){if(!td(t.jt,e))return e;var r=sd(e),i=cd(t,e,hd(t.fieldTransforms,n,e));return new Yf(t.key,r,i,{Vt:!0})}(t,e,n):(i=e,td((r=t).jt,i)?new $f(r.key,ff.min()):i);var r,i}function id(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Yf?e.field(o.field):void 0,a=Bp(o.transform,s||null);null!=a&&(n=null==n?(new Gf).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function od(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Xh(n,r,(function(t,e){return r=e,(n=t).field.isEqual(r.field)&&(i=n.transform,o=r.transform,i instanceof Hp&&o instanceof Hp||i instanceof Gp&&o instanceof Gp?Xh(i.elements,o.elements,Rf):i instanceof Qp&&o instanceof Qp?Rf(i.Ut,o.Ut):i instanceof Wp&&o instanceof Wp);var n,r,i,o}))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt));var n,r}function sd(t){return t instanceof Yf?t.version:ff.min()}var ad=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return as(e,t),e}(ed),ud=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return as(e,t),e}(ed);function cd(t,e,n){var r,i,o,s;return i=t,o=r=e instanceof Yf?e.data():zf.empty(),s=new Gf(o),i.Gt.fields.forEach((function(t){if(!t.et()){var e=i.data.field(t);null!==e?s.set(t,e):s.delete(t)}})),r=s.Pt(),fd(t.fieldTransforms,r,n)}function ld(t,e,n){var r=[];Gh(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Yf&&(a=e.field(o.field)),r.push(qp(s,a,n[i]))}return r}function hd(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof Yf&&(u=n.field(s.field)),r.push(Vp(a,u,e))}return r}function fd(t,e,n){for(var r=new Gf(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.Pt()}var pd,dd,vd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return as(e,t),e}(ed),gd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return as(e,t),e}(ed),md=function(t){this.count=t};function yd(t){switch(t){case tf.OK:return zh();case tf.CANCELLED:case tf.UNKNOWN:case tf.DEADLINE_EXCEEDED:case tf.RESOURCE_EXHAUSTED:case tf.INTERNAL:case tf.UNAVAILABLE:case tf.UNAUTHENTICATED:return!1;case tf.INVALID_ARGUMENT:case tf.NOT_FOUND:case tf.ALREADY_EXISTS:case tf.PERMISSION_DENIED:case tf.FAILED_PRECONDITION:case tf.ABORTED:case tf.OUT_OF_RANGE:case tf.UNIMPLEMENTED:case tf.DATA_LOSS:return!0;default:return zh()}}function _d(t){if(void 0===t)return Bh("GRPC error has no .code"),tf.UNKNOWN;switch(t){case pd.OK:return tf.OK;case pd.CANCELLED:return tf.CANCELLED;case pd.UNKNOWN:return tf.UNKNOWN;case pd.DEADLINE_EXCEEDED:return tf.DEADLINE_EXCEEDED;case pd.RESOURCE_EXHAUSTED:return tf.RESOURCE_EXHAUSTED;case pd.INTERNAL:return tf.INTERNAL;case pd.UNAVAILABLE:return tf.UNAVAILABLE;case pd.UNAUTHENTICATED:return tf.UNAUTHENTICATED;case pd.INVALID_ARGUMENT:return tf.INVALID_ARGUMENT;case pd.NOT_FOUND:return tf.NOT_FOUND;case pd.ALREADY_EXISTS:return tf.ALREADY_EXISTS;case pd.PERMISSION_DENIED:return tf.PERMISSION_DENIED;case pd.FAILED_PRECONDITION:return tf.FAILED_PRECONDITION;case pd.ABORTED:return tf.ABORTED;case pd.OUT_OF_RANGE:return tf.OUT_OF_RANGE;case pd.UNIMPLEMENTED:return tf.UNIMPLEMENTED;case pd.DATA_LOSS:return tf.DATA_LOSS;default:return zh()}}(dd=pd||(pd={}))[dd.OK=0]="OK",dd[dd.CANCELLED=1]="CANCELLED",dd[dd.UNKNOWN=2]="UNKNOWN",dd[dd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dd[dd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dd[dd.NOT_FOUND=5]="NOT_FOUND",dd[dd.ALREADY_EXISTS=6]="ALREADY_EXISTS",dd[dd.PERMISSION_DENIED=7]="PERMISSION_DENIED",dd[dd.UNAUTHENTICATED=16]="UNAUTHENTICATED",dd[dd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dd[dd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dd[dd.ABORTED=10]="ABORTED",dd[dd.OUT_OF_RANGE=11]="OUT_OF_RANGE",dd[dd.UNIMPLEMENTED=12]="UNIMPLEMENTED",dd[dd.INTERNAL=13]="INTERNAL",dd[dd.UNAVAILABLE=14]="UNAVAILABLE",dd[dd.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bd=function(){function t(t,e){this.H=t,this.root=e||Ed.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,Ed.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,Ed.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Xt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new wd(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new wd(this.root,t,this.H,!1)},t.prototype.ne=function(){return new wd(this.root,null,this.H,!0)},t.prototype.se=function(t){return new wd(this.root,t,this.H,!0)},t}(),wd=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),Ed=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw zh();if(this.right.le())throw zh();var t=this.left.Ie();if(t!==this.right.Ie())throw zh();return t+(this.le()?0:1)},t}();Ed.EMPTY=null,Ed.RED=!0,Ed.Ht=!1,Ed.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw zh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw zh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw zh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw zh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw zh()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new Ed(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Id=function(){function t(t){this.H=t,this.data=new bd(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt((function(e,n){return t(e),!1}))},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new Td(this.data.te())},t.prototype.ee=function(t){return new Td(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),Td=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),Sd=new bd(mf.H);function Cd(){return Sd}function kd(){return Cd()}var Nd=new bd(mf.H);function Ad(){return Nd}var Od=new bd(mf.H);var xd=new Id(mf.H);function Pd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=xd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Rd=new Id($h);function Dd(){return Rd}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ld=function(){function t(t){this.H=t?function(e,n){return t(e,n)||mf.H(e.key,n.key)}:function(t,e){return mf.H(t.key,e.key)},this.ge=Ad(),this.Ve=new bd(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Md=function(){function t(){this.be=new bd(mf.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):zh():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt((function(e,n){t.push(n)})),t},t}(),Fd=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Ld.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Ap(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),jd=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Ud.Le(e,n)),new t(ff.min(),r,Dd(),Cd(),Pd())},t}(),Ud=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Zh.T,n,Pd(),Pd(),Pd())},t}(),Vd=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},qd=function(t,e){this.targetId=t,this.je=e},Bd=function(t,e,n,r){void 0===n&&(n=Zh.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Wd=function(){function t(){this.Ge=0,this.ze=Gd(),this.He=Zh.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Pd(),e=Pd(),n=Pd();return this.ze.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:zh()}})),new Ud(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Gd()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Hd=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Cd(),this._n=zd(),this.fn=new Id($h)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Yf?this.wn(r,t.We):t.We instanceof $f&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.En(r,t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,(function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:zh()}}))},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach((function(t,r){n.An(r)&&e(r)}))},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(np(i))if(0===n){var o=new mf(i.path);this.En(e,o,new $f(o,ff.min()))}else Gh(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach((function(r,i){var o=e.yn(i);if(o){if(r.Be&&np(o.target)){var s=new mf(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new $f(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}}));var r=Pd();this._n.forEach((function(t,n){var i=!0;n.Ae((function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new jd(t,n,this.fn,this.ln,r);return this.ln=Cd(),this._n=zd(),this.fn=new Id($h),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Wd,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new Id($h),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||qh("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Wd),this.un.vn(t).forEach((function(n){e.En(t,n,null)}))},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){return new bd(mf.H)}function Gd(){return new bd(mf.H)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kd={asc:"ASCENDING",desc:"DESCENDING"},Qd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yd=function(t,e){this.t=t,this.Bt=e};function $d(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xd(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Jd(t,e){return $d(t,e.j())}function Zd(t){return Gh(!!t),ff.K((e=If(t),new hf(e.seconds,e.nanos)));var e}function tv(t,e){return(n=t,new df(["projects",n.projectId,"databases",n.database])).child("documents").child(e).rt();var n}function ev(t){var e=df.ot(t);return Gh(Tv(e)),e}function nv(t,e){return tv(t.t,e.path)}function rv(t,e){var n=ev(e);if(n.get(1)!==t.t.projectId)throw new ef(tf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new ef(tf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new mf(av(n))}function iv(t,e){return tv(t.t,e)}function ov(t){var e=ev(t);return 4===e.length?df.ct():av(e)}function sv(t){return new df(["projects",t.t.projectId,"databases",t.t.database]).rt()}function av(t){return Gh(t.length>4&&"documents"===t.get(4)),t.Y(5)}function uv(t,e,n){return{name:nv(t,e),fields:n.proto.mapValue.fields}}function cv(t,e){var n,r,i;if(e instanceof ad)n={update:uv(t,e.key,e.value)};else if(e instanceof vd)n={delete:nv(t,e.key)};else if(e instanceof ud)n={update:uv(t,e.key,e.data),updateMask:Iv(e.Gt)};else{if(!(e instanceof gd))return zh();n={verify:nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Wp)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hp)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Gp)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Qp)return{fieldPath:e.field.rt(),increment:n.Ut};throw zh()}(0,t)}))),e.jt.Wt||(n.currentDocument=(r=t,void 0!==(i=e.jt).updateTime?{updateTime:Jd(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:zh())),n}function lv(t,e){var n,r=e.currentDocument?void 0!==(n=e.currentDocument).updateTime?Zp.updateTime(Zd(n.updateTime)):void 0!==n.exists?Zp.exists(n.exists):Zp.Kt():Zp.Kt(),i=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Gh("REQUEST_TIME"===e.setToServerValue),n=new Wp;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Hp(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Gp(i)}else"increment"in e?n=new Qp(t,e.increment):zh();var o=gf.lt(e.fieldPath);return new Xp(o,n)}(t,e)})):[];if(e.update){e.update.name;var o=rv(t,e.update.name),s=new zf({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new wf(e.map((function(t){return gf.lt(t)})))}(e.updateMask);return new ud(o,s,a,r,i)}return new ad(o,s,r,i)}if(e.delete){var u=rv(t,e.delete);return new vd(u,r)}if(e.verify){var c=rv(t,e.verify);return new gd(c,r)}return zh()}function hv(t,e){return{documents:[iv(t,e.path)]}}function fv(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=iv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=iv(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Wf(t.value))return{unaryFilter:{field:_v(t.field),op:"IS_NAN"}};if(Bf(t.value))return{unaryFilter:{field:_v(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Wf(t.value))return{unaryFilter:{field:_v(t.field),op:"IS_NOT_NAN"}};if(Bf(t.value))return{unaryFilter:{field:_v(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_v(t.field),op:yv(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:_v((e=t).field),direction:mv(e.dir)};var e}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s,a,u=(s=t,a=e.limit,s.Bt||Af(a)?a:{value:a});return null!==u&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=vv(e.startAt)),e.endAt&&(n.structuredQuery.endAt=vv(e.endAt)),n}function pv(t){var e=ov(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gh(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=dv(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new dp(bv((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u,c,l=null;n.limit&&(u=n.limit,l=Af(c="object"==typeof u?u.value:u)?null:c);var h=null;n.startAt&&(h=gv(n.startAt));var f=null;return n.endAt&&(f=gv(n.endAt)),_p(e,i,a,s,l,"F",h,f)}function dv(t){return t?void 0!==t.unaryFilter?[Ev(t)]:void 0!==t.fieldFilter?[wv(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return dv(t)})).reduce((function(t,e){return t.concat(e)})):zh():[]}function vv(t){return{before:t.before,values:t.position}}function gv(t){var e=!!t.before,n=t.values||[];return new fp(n,e)}function mv(t){return Kd[t]}function yv(t){return Qd[t]}function _v(t){return{fieldPath:t.rt()}}function bv(t){return gf.lt(t.fieldPath)}function wv(t){return rp.create(bv(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return zh()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ev(t){switch(t.unaryFilter.op){case"IS_NAN":var e=bv(t.unaryFilter.field);return rp.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=bv(t.unaryFilter.field);return rp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bv(t.unaryFilter.field);return rp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bv(t.unaryFilter.field);return rp.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return zh()}}function Iv(t){var e=[];return t.fields.forEach((function(t){return e.push(t.rt())})),{fieldPaths:e}}function Tv(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sv=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Cv=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t((function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)}),(function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&zh(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t((function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}}))},t.prototype.On=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.Fn=function(e,n){return e?this.kn((function(){return e(n)})):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Mn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Mn(r)},t}(),kv=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new Sv,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new Ov(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=Lv(e.target.error);n.Bn.reject(new Ov(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(o){throw new Ov(n,o)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(qh("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Pv(e)},t}(),Nv=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Ss())&&Bh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return qh("SimpleDb","Removing database:",t),Rv(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Ss(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return cs(this,void 0,void 0,(function(){var e,n=this;return ls(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(qh("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ov(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ef(tf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Ov(t,n))},i.onupgradeneeded=function(t){qh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Un.Jn(e,i.transaction,t.oldVersion,n.version).next((function(){qh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}}))}))},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return cs(this,void 0,void 0,(function(){var i,o,s,a,u;return ls(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return ls(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=kv.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Cv.reject(t)})).On(),u={},s.catch((function(){})),[4,e.qn];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return c=h.sent(),l="FirebaseError"!==c.name&&o<3,qh("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Av=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Rv(this.Zn.delete())},t}(),Ov=function(t){function e(e,n){var r=this;return(r=t.call(this,tf.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return as(e,t),e}(ef);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){return"IndexedDbTransactionError"===t.name}var Pv=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(qh("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(qh("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Rv(n)},t.prototype.add=function(t){return qh("SimpleDb","ADD",this.store.name,t,t),Rv(this.store.add(t))},t.prototype.get=function(t){var e=this;return Rv(this.store.get(t)).next((function(n){return void 0===n&&(n=null),qh("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return qh("SimpleDb","DELETE",this.store.name,t),Rv(this.store.delete(t))},t.prototype.count=function(){return qh("SimpleDb","COUNT",this.store.name),Rv(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.cs=function(t,e){qh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,(function(t,e,n){return n.delete()}))},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new Cv((function(n,r){e.onerror=function(t){var e=Lv(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.os=function(t,e){var n=[];return new Cv((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Av(i),s=e(i.primaryKey,i.value,o);if(s instanceof Cv){var a=s.catch((function(t){return o.done(),Cv.reject(t)}));n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}})).next((function(){return Cv.Mn(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Rv(t){return new Cv((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Lv(t.target.error);n(e)}}))}var Dv=!1;function Lv(t){var e=Nv.Qn(Ss());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ef("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Dv||(Dv=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mv=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new Sv,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch((function(t){}))}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout((function(){return e.As()}),t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new ef(tf.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps((function(){return null!==t.Is?(t.clearTimeout(),t.op().then((function(e){return t.Es.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Fv(t,e){if(Bh("AsyncQueue",e+": "+t),xv(t))return new ef(tf.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Uv=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Bv(e)),e=qv(t.get(n),e);return Bv(e)}function qv(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Bv(t){return t+""}function Wv(t){var e=t.length;if(Gh(e>=2),2===e)return Gh(""===t.charAt(0)&&""===t.charAt(1)),df.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&zh(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:zh()}o=s+2}return new df(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hv=function(t,e){this.seconds=t,this.nanoseconds=e},zv=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};zv.store="owner",zv.key="owner";var Gv=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Gv.store="mutationQueues",Gv.keyPath="userId";var Kv=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Kv.store="mutations",Kv.keyPath="batchId",Kv.userMutationsIndex="userMutationsIndex",Kv.userMutationsKeyPath=["userId","batchId"];var Qv=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Vv(e)]},t.key=function(t,e,n){return[t,Vv(e),n]},t}();Qv.store="documentMutations",Qv.PLACEHOLDER=new Qv;var Yv=function(t,e){this.path=t,this.readTime=e},$v=function(t,e){this.path=t,this.version=e},Xv=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Xv.store="remoteDocuments",Xv.readTimeIndex="readTimeIndex",Xv.readTimeIndexPath="readTime",Xv.collectionReadTimeIndex="collectionReadTimeIndex",Xv.collectionReadTimeIndexPath=["parentPath","readTime"];var Jv=function(t){this.byteSize=t};Jv.store="remoteDocumentGlobal",Jv.key="remoteDocumentGlobalKey";var Zv=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Zv.store="targets",Zv.keyPath="targetId",Zv.queryTargetsIndexName="queryTargetsIndex",Zv.queryTargetsKeyPath=["canonicalId","targetId"];var tg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};tg.store="targetDocuments",tg.keyPath=["targetId","path"],tg.documentTargetsIndex="documentTargetsIndex",tg.documentTargetsKeyPath=["path","targetId"];var eg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};eg.key="targetGlobalKey",eg.store="targetGlobal";var ng=function(t,e){this.collectionId=t,this.parent=e};ng.store="collectionParents",ng.keyPath=["collectionId","parent"];var rg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};rg.store="clientMetadata",rg.keyPath="clientId";var ig=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ig.store="bundles",ig.keyPath="bundleId";var og=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};og.store="namedQueries",og.keyPath="name";var sg=ds(ds(ds(ds([Gv.store,Kv.store,Qv.store,Xv.store,Zv.store,zv.store,eg.store,tg.store],[rg.store]),[Jv.store]),[ng.store]),[ig.store,og.store]),ag=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return as(e,t),e}(Uv);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e){var n=Kh(t);return Nv.zn(n.ps,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cg=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=nd(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=rd(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=rd(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Pd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Xh(this.mutations,t.mutations,(function(t,e){return od(t,e)}))&&Xh(this.baseMutations,t.baseMutations,(function(t,e){return od(t,e)}))},t}(),lg=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Gh(e.mutations.length===r.length);for(var i=Od,o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),hg=function(t){this.Fs=t};function fg(t,e){if(e.document)return function(t,e,n){var r=rv(t,e.name),i=Zd(e.updateTime),o=new zf({mapValue:{fields:e.fields}});return new Yf(r,i,o,{hasCommittedMutations:!!n})}(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=mf.Et(e.noDocument.path),r=mg(e.noDocument.readTime);return new $f(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=mf.Et(e.unknownDocument.path);return r=mg(e.unknownDocument.version),new Xf(i,r)}return zh()}function pg(t,e,n){var r,i,o=dg(n),s=e.key.path.X().it();if(e instanceof Yf){var a={name:nv(r=t.Fs,(i=e).key),fields:i.bt().mapValue.fields,updateTime:$d(r,i.version.j())},u=e.hasCommittedMutations;return new Xv(null,null,a,u,o,s)}if(e instanceof $f){var c=e.key.path.it(),l=gg(e.version);return u=e.hasCommittedMutations,new Xv(null,new Yv(c,l),null,u,o,s)}if(e instanceof Xf){var h=e.key.path.it(),f=gg(e.version);return new Xv(new $v(h,f),null,null,!0,o,s)}return zh()}function dg(t){var e=t.j();return[e.seconds,e.nanoseconds]}function vg(t){var e=new hf(t[0],t[1]);return ff.K(e)}function gg(t){var e=t.j();return new Hv(e.seconds,e.nanoseconds)}function mg(t){var e=new hf(t.seconds,t.nanoseconds);return ff.K(e)}function yg(t,e){for(var n=(e.baseMutations||[]).map((function(e){return lv(t.Fs,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return lv(t.Fs,e)})),a=hf.fromMillis(e.localWriteTimeMs);return new cg(e.batchId,a,n,s)}function _g(t){var e,n,r=mg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?mg(t.lastLimboFreeSnapshotVersion):ff.min();return void 0!==t.query.documents?(Gh(1===(n=t.query).documents.length),e=kp(bp(ov(n.documents[0])))):e=kp(pv(t.query)),new Lp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Zh.fromBase64String(t.resumeToken))}function bg(t,e){var n,r=gg(e.Ot),i=gg(e.lastLimboFreeSnapshotVersion);n=np(e.target)?hv(t.Fs,e.target):fv(t.Fs,e.target);var o=e.resumeToken.toBase64();return new Zv(e.targetId,tp(e.target),r,o,e.sequenceNumber,i,n)}function wg(t){var e=pv({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Np(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eg=function(){function t(){}return t.prototype.Os=function(t,e){return Ig(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:mg(e.createTime),version:e.version};var e}))},t.prototype.ks=function(t,e){return Ig(t).put({bundleId:(n=e).id,createTime:gg(Zd(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Tg(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:wg(e.bundledQuery),readTime:mg(e.readTime)};var e}))},t.prototype.Ls=function(t,e){return Tg(t).put({name:(n=e).name,readTime:gg(Zd(n.readTime)),bundledQuery:n.bundledQuery});var n},t}();function Ig(t){return ug(t,ig.store)}function Tg(t){return ug(t,og.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sg=function(){function t(){this.Bs=new Cg}return t.prototype.qs=function(t,e){return this.Bs.add(e),Cv.resolve()},t.prototype.Us=function(t,e){return Cv.resolve(this.Bs.getEntries(e))},t}(),Cg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new Id(df.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Id(df.H)).it()},t}(),kg=function(){function t(){this.Qs=new Cg}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs((function(){n.Qs.add(e)}));var o={collectionId:r,parent:Vv(i)};return Ng(t).put(o)}return Cv.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Jh(e),""],!1,!0);return Ng(t).rs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Wv(o.parent))}return n}))},t}();function Ng(t){return ug(t,ng.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ag={Ks:!1,Ws:0,js:0,Gs:0},Og=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){return cs(this,void 0,void 0,(function(){return ls(this,(function(e){if(t.code!==tf.FAILED_PRECONDITION||t.message!==jv)throw t;return qh("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Og.Xs=10,Og.Zs=1e3,Og.ti=new Og(41943040,Og.Xs,Og.Zs),Og.ei=new Og(-1,0,0);var Pg=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.si(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){_f(this.ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.et=function(){return bf(this.ii)},t}(),Rg=function(){function t(){this.ri=new Pg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:ff.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?Cv.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e,n){var r=t.store(Kv.store),i=t.store(Qv.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Gh(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Qv.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Cv.Mn(o).next((function(){return c}))}function Lg(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw zh();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mg=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Gh(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jg(t).hs({index:Kv.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ri=function(t,e,n,r){var i=this,o=Ug(t),s=jg(t);return s.add({}).next((function(a){Gh("number"==typeof a);for(var u=new cg(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return cv(t.Fs,e)})),i=n.mutations.map((function(e){return cv(t.Fs,e)}));return new Kv(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new Id((function(t,e){return $h(t.rt(),e.rt())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Qv.key(i.userId,d.key.path,a);h=h.add(d.key.path.X()),l.push(s.put(c)),l.push(o.put(v,Qv.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ei.qs(t,e))})),t.gs((function(){i.Ii[a]=u.keys()})),Cv.Mn(l).next((function(){return u}))}))},t.prototype.Pi=function(t,e){var n=this;return jg(t).get(e).next((function(t){return t?(Gh(t.userId===n.userId),yg(n.Qt,t)):null}))},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?Cv.resolve(this.Ii[e]):this.Pi(t,e).next((function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null}))},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return jg(t).hs({index:Kv.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Gh(e.batchId>=r),o=yg(n.Qt,e)),i.done()})).next((function(){return o}))},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jg(t).hs({index:Kv.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jg(t).rs(Kv.userMutationsIndex,n).next((function(t){return t.map((function(t){return yg(e.Qt,t)}))}))},t.prototype.bi=function(t,e){var n=this,r=Qv.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ug(t).hs({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=Wv(u);if(a===n.userId&&e.path.isEqual(l))return jg(t).get(c).next((function(t){if(!t)throw zh();Gh(t.userId===n.userId),o.push(yg(n.Qt,t))}));s.done()})).next((function(){return o}))},t.prototype.vi=function(t,e){var n=this,r=new Id($h),i=[];return e.forEach((function(e){var o=Qv.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ug(t).hs({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Wv(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Cv.Mn(i).next((function(){return n.Si(t,r)}))},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Qv.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Id($h);return Ug(t).hs({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=Wv(u);s===n.userId&&r.nt(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Si(t,a)}))},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(jg(t).get(e).next((function(t){if(null===t)throw zh();Gh(t.userId===n.userId),r.push(yg(n.Qt,t))})))})),Cv.Mn(i).next((function(){return r}))},t.prototype.Ci=function(t,e){var n=this;return Dg(t.ps,this.userId,e).next((function(r){return t.gs((function(){n.xi(e.batchId)})),Cv.forEach(r,(function(e){return n.Ti.Ni(t,e)}))}))},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next((function(n){if(!n)return Cv.resolve();var r=IDBKeyRange.lowerBound(Qv.prefixForUser(e.userId)),i=[];return Ug(t).hs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Wv(t[1]);i.push(o)}else r.done()})).next((function(){Gh(0===i.length)}))}))},t.prototype.Fi=function(t,e){return Fg(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Vg(t).get(this.userId).next((function(t){return t||new Gv(e.userId,-1,"")}))},t}();function Fg(t,e,n){var r=Qv.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ug(t).hs({range:o,us:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function jg(t){return ug(t,Kv.store)}function Ug(t){return ug(t,Qv.store)}function Vg(t){return ug(t,Gv.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qg=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Bg=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next((function(n){var r=new qg(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Qi=function(t){return this.qi(t).next((function(t){return ff.K(new hf(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ki=function(t){return this.qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)}))},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next((function(){return n.qi(t).next((function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)}))}))},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next((function(){return Wg(t).delete(e.targetId)})).next((function(){return n.qi(t)})).next((function(e){return Gh(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)}))},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Wg(t).hs((function(s,a){var u=_g(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))})).next((function(){return Cv.Mn(o)})).next((function(){return i}))},t.prototype.In=function(t,e){return Wg(t).hs((function(t,n){var r=_g(n);e(r)}))},t.prototype.qi=function(t){return Hg(t).get(eg.key).next((function(t){return Gh(null!==t),t}))},t.prototype.Ui=function(t,e){return Hg(t).put(eg.key,e)},t.prototype.Gi=function(t,e){return Wg(t).put(bg(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next((function(t){return t.targetCount}))},t.prototype.tr=function(t,e){var n=tp(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Wg(t).hs({range:r,index:Zv.queryTargetsIndexName},(function(t,n,r){var o=_g(n);ep(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.er=function(t,e,n){var r=this,i=[],o=zg(t);return e.forEach((function(e){var s=Vv(e.path);i.push(o.put(new tg(n,s))),i.push(r.Ti.nr(t,n,e))})),Cv.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=zg(t);return Cv.forEach(e,(function(e){var o=Vv(e.path);return Cv.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])}))},t.prototype.Yi=function(t,e){var n=zg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=zg(t),i=Pd();return r.hs({range:n,us:!0},(function(t,e,n){var r=Wv(t[1]),o=new mf(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Fi=function(t,e){var n=Vv(e.path),r=IDBKeyRange.bound([n],[Jh(n)],!1,!0),i=0;return zg(t).hs({index:tg.documentTargetsIndex,us:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Sn=function(t,e){return Wg(t).get(e).next((function(t){return t?_g(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(t){return ug(t,Zv.store)}function Hg(t){return ug(t,eg.store)}function zg(t){return ug(t,tg.store)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=$h(n,i);return 0===s?$h(r,o):s}var Kg=function(){function t(t){this.cr=t,this.buffer=new Id(Gg),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Gg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Qg=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;qh("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,(function(){return cs(e,void 0,void 0,(function(){var e;return ls(this,(function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return xv(e=n.sent())?(qh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,xg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Yg=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Pr=function(t,e){var n=this;if(0===e)return Cv.resolve(lf.q);var r=new Kg(e);return this.mr.In(t,(function(t){return r.hr(t.sequenceNumber)})).next((function(){return n.mr.yr(t,(function(t){return r.hr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(qh("LruGarbageCollector","Garbage collection skipped; disabled"),Cv.resolve(Ag)):this.pr(t).next((function(r){return r<n.params.zs?(qh("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Ag):n.br(t,e)}))},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next((function(e){return e>c.params.Js?(qh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Xi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.gr(t,n)})).next((function(t){return u=Date.now(),Vh()<=sa.DEBUG&&qh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Cv.resolve({Ks:!0,Ws:r,js:i,Gs:t})}))},t}(),$g=function(){function t(t,e){this.db=t,this.lr=new Yg(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.vr=function(t){var e=0;return this.yr(t,(function(t){e++})).next((function(){return e}))},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,(function(t,n){return e(n)}))},t.prototype.nr=function(t,e,n){return Xg(t,n)},t.prototype.ir=function(t,e,n){return Xg(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Xg(t,e)},t.prototype.Cr=function(t,e){return r=e,i=!1,Vg(n=t).ls((function(t){return Fg(n,t,r).next((function(t){return t&&(i=!0),Cv.resolve(!t)}))})).next((function(){return i}));var n,r,i},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,(function(s,a){if(a<=e){var u=n.Cr(t,s).next((function(e){if(!e)return o++,r._i(t,s).next((function(){return r.li(s),zg(t).delete([0,Vv(s.path)])}))}));i.push(u)}})).next((function(){return Cv.Mn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Xg(t,e)},t.prototype.Dr=function(t,e){var n,r=zg(t),i=lf.q;return r.hs({index:tg.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==lf.q&&e(new mf(Wv(n)),i),i=a,n=s):i=lf.q})).next((function(){i!==lf.q&&e(new mf(Wv(n)),i)}))},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Xg(t,e){return zg(t).put((n=e,r=t.bs,new tg(0,Vv(n.path),r)));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jg=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return em(t).put(nm(e),n)},t.prototype.li=function(t,e){var n=em(t),r=nm(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype._i=function(t,e){var n=this;return em(t).get(nm(e)).next((function(t){return n.Mr(t)}))},t.prototype.Lr=function(t,e){var n=this;return em(t).get(nm(e)).next((function(t){var e=n.Mr(t);return e?{hi:e,size:Lg(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=kd();return this.Br(t,e,(function(t,e){var i=n.Mr(e);r=r.zt(t,i)})).next((function(){return r}))},t.prototype.qr=function(t,e){var n=this,r=kd(),i=new bd(mf.H);return this.Br(t,e,(function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,Lg(e))):(r=r.zt(t,null),i=i.zt(t,0))})).next((function(){return{Ur:r,Qr:i}}))},t.prototype.Br=function(t,e,n){if(e.et())return Cv.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return em(t).hs({range:r},(function(t,e,r){for(var s=mf.Et(t);o&&mf.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ce()?i.oe():null}))},t.prototype.Kr=function(t,e,n){var r=this,i=Ad(),o=e.path.length+1,s={};if(n.isEqual(ff.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=dg(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Xv.collectionReadTimeIndex}return em(t).hs(s,(function(t,n,s){if(t.length===o){var a=fg(r.Qt,n);e.path.nt(a.key.path)?a instanceof Yf&&Pp(e,a)&&(i=i.zt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Nr=function(t){return new Zg(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return tm(t).get(Jv.key).next((function(t){return Gh(!!t),t}))},t.prototype.kr=function(t,e){return tm(t).put(Jv.key,e)},t.prototype.Mr=function(t){if(t){var e=fg(this.Qt,t);return e instanceof $f&&e.version.isEqual(ff.min())?null:e}return null},t}(),Zg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new Pg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return as(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new Id((function(t,e){return $h(t.rt(),e.rt())}));return this.ri.forEach((function(o,s){var a=e.Gr.get(o);if(s.hi){var u=pg(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=Lg(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var l=pg(e.jr.Qt,new $f(o,ff.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))})),i.forEach((function(r){n.push(e.jr.Ei.qs(t,r))})),n.push(this.jr.updateMetadata(t,r)),Cv.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next((function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)}))},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next((function(t){var e=t.Ur;return t.Qr.forEach((function(t,e){n.Gr.set(t,e)})),e}))},e}(Rg);function tm(t){return ug(t,Jv.store)}function em(t){return ug(t,Xv.store)}function nm(t){return t.path.it()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rm=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Gh(n<r&&n>=0&&r<=11);var o=new kv("createOrUpgrade",e);n<1&&r>=1&&(t.createObjectStore(zv.store),function(t){t.createObjectStore(Gv.store,{keyPath:Gv.keyPath}),t.createObjectStore(Kv.store,{keyPath:Kv.keyPath,autoIncrement:!0}).createIndex(Kv.userMutationsIndex,Kv.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Qv.store)}(t),im(t),function(t){t.createObjectStore(Xv.store)}(t));var s=Cv.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(tg.store),t.deleteObjectStore(Zv.store),t.deleteObjectStore(eg.store)}(t),im(t)),s=s.next((function(){return function(t){var e=t.store(eg.store),n=new eg(0,0,ff.min().j(),0);return e.put(eg.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Kv.store).rs().next((function(n){t.deleteObjectStore(Kv.store),t.createObjectStore(Kv.store,{keyPath:Kv.keyPath,autoIncrement:!0}).createIndex(Kv.userMutationsIndex,Kv.userMutationsKeyPath,{unique:!0});var r=e.store(Kv.store),i=n.map((function(t){return r.put(t)}));return Cv.Mn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(rg.store,{keyPath:rg.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.zr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Jv.store)}(t),i.Hr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Jr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Yr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Xv.store);e.createIndex(Xv.readTimeIndex,Xv.readTimeIndexPath,{unique:!1}),e.createIndex(Xv.collectionReadTimeIndex,Xv.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Xr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(ig.store,{keyPath:ig.keyPath})}(t),function(t){t.createObjectStore(og.store,{keyPath:og.keyPath})}(t)}))),s},t.prototype.Hr=function(t){var e=0;return t.store(Xv.store).hs((function(t,n){e+=Lg(n)})).next((function(){var n=new Jv(e);return t.store(Jv.store).put(Jv.key,n)}))},t.prototype.zr=function(t){var e=this,n=t.store(Gv.store),r=t.store(Kv.store);return n.rs().next((function(n){return Cv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(Kv.userMutationsIndex,i).next((function(r){return Cv.forEach(r,(function(r){Gh(r.userId===n.userId);var i=yg(e.Qt,r);return Dg(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Jr=function(t){var e=t.store(tg.store),n=t.store(Xv.store);return t.store(eg.store).get(eg.key).next((function(t){var r=[];return n.hs((function(n,i){var o=new df(n),s=[0,Vv(o)];r.push(e.get(s).next((function(n){return n?Cv.resolve():(r=o,e.put(new tg(0,Vv(r),t.highestListenSequenceNumber)));var r})))})).next((function(){return Cv.Mn(r)}))}))},t.prototype.Yr=function(t,e){t.createObjectStore(ng.store,{keyPath:ng.keyPath});var n=e.store(ng.store),r=new Cg,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Vv(i)})}};return e.store(Xv.store).hs({us:!0},(function(t,e){var n=new df(t);return i(n.X())})).next((function(){return e.store(Qv.store).hs({us:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Wv(n));return i(r.X())}))}))},t.prototype.Xr=function(t){var e=this,n=t.store(Zv.store);return n.hs((function(t,r){var i=_g(r),o=bg(e.Qt,i);return n.put(o)}))},t}();function im(t){t.createObjectStore(tg.store,{keyPath:tg.keyPath}).createIndex(tg.documentTargetsIndex,tg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Zv.store,{keyPath:Zv.keyPath}).createIndex(Zv.queryTargetsIndexName,Zv.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(eg.store)}var om="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sm=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new ef(tf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");var h,f;this.Ti=new $g(this,i),this.ho=n+"main",this.Qt=new hg(u),this.lo=new Nv(this.ho,11,new rm(this.Qt)),this._o=new Bg(this.Ti,this.Qt),this.Ei=new kg,this.fo=(h=this.Qt,f=this.Ei,new Jg(h,f)),this.wo=new Eg,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Bh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ef(tf.FAILED_PRECONDITION,om);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t._o.Ki(e)}))})).then((function(e){t.so=new lf(e,t.eo)})).then((function(){t.io=!0})).catch((function(e){return t.lo&&t.lo.close(),Promise.reject(e)}))},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return cs(e,void 0,void 0,(function(){return ls(this,(function(e){return this.Er?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn((function(n){return cs(e,void 0,void 0,(function(){return ls(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps((function(){return cs(e,void 0,void 0,(function(){return ls(this,(function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return um(e).put(new rg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Vo(e).next((function(e){e||(t.isPrimary=!1,t.Zr.po((function(){return t.uo(!1)})))}))})).next((function(){return t.bo(e)})).next((function(n){return t.isPrimary&&!n?t.vo(e).next((function(){return!1})):!!n&&t.So(e).next((function(){return!0}))}))})).catch((function(e){if(xv(e))return qh("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return qh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Zr.po((function(){return t.uo(e)})),t.isPrimary=e}))},t.prototype.Vo=function(t){var e=this;return am(t).get(zv.key).next((function(t){return Cv.resolve(e.Do(t))}))},t.prototype.Co=function(t){return um(t).delete(this.clientId)},t.prototype.xo=function(){return cs(this,void 0,void 0,(function(){var t,e,n,r,i=this;return ls(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=ug(t,rg.store);return e.rs().next((function(t){var n=i.$o(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Cv.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)r=n[e],this.Eo.removeItem(this.Fo(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,(function(){return t.To().then((function(){return t.xo()})).then((function(){return t.Ao()}))}))},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?Cv.resolve(!0):am(t).get(zv.key).next((function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new ef(tf.FAILED_PRECONDITION,om);return!1}}return!(!e.networkEnabled||!e.inForeground)||um(t).rs().next((function(t){return void 0===e.$o(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&qh("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.ko=function(){return cs(this,void 0,void 0,(function(){var t=this;return ls(this,(function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[zv.store,rg.store],(function(e){var n=new ag(e,lf.q);return t.vo(n).next((function(){return t.Co(n)}))}))];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}}))}))},t.prototype.$o=function(t,e){var n=this;return t.filter((function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)}))},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return um(e).rs().next((function(e){return t.$o(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Mg.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;qh("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.lo.runTransaction(t,o,sg,(function(o){return i=new ag(o,r.so?r.so.next():lf.q),"readwrite-primary"===e?r.Vo(i).next((function(t){return!!t||r.bo(i)})).next((function(e){if(!e)throw Bh("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Zr.po((function(){return r.uo(!1)})),new ef(tf.FAILED_PRECONDITION,jv);return n(i)})).next((function(t){return r.So(i).next((function(){return t}))})):r.jo(i).next((function(){return n(i)}))})).then((function(t){return i.Vs(),t}))},t.prototype.jo=function(t){var e=this;return am(t).get(zv.key).next((function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ef(tf.FAILED_PRECONDITION,om)}))},t.prototype.So=function(t){var e=new zv(this.clientId,this.allowTabSynchronization,Date.now());return am(t).put(zv.key,e)},t.Kn=function(){return Nv.Kn()},t.prototype.vo=function(t){var e=this,n=am(t);return n.get(zv.key).next((function(t){return e.Do(t)?(qh("IndexedDbPersistence","Releasing primary lease."),n.delete(zv.key)):Cv.resolve()}))},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Bh("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps((function(){return t.inForeground="visible"===t.document.visibilityState,t.To()}))},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps((function(){return e.ko()}))},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return qh("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(r){return Bh("IndexedDbPersistence","Failed to get zombied client id.",r),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Bh("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function am(t){return ug(t,zv.store)}function um(t){return ug(t,rg.store)}function cm(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var lm=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next((function(r){return n.Jo(t,e,r)}))},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t}))},t.prototype.Yo=function(t,e,n){var r=kd();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)})),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next((function(e){return n.Zo(t,e)}))},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next((function(r){var i=n.Yo(t,e,r),o=Cd();return i.forEach((function(t,e){e||(e=new $f(t,ff.min())),o=o.zt(t,e)})),o}))},t.prototype.Kr=function(t,e,n){return r=e,mf.wt(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.tc(t,e.path):Sp(e)?this.ec(t,e,n):this.nc(t,e,n);var r},t.prototype.tc=function(t,e){return this.Ho(t,new mf(e)).next((function(t){var e=Ad();return t instanceof Yf&&(e=e.zt(t.key,t)),e}))},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=Ad();return this.Ei.Us(t,i).next((function(s){return Cv.forEach(s,(function(s){var a,u,c=(a=e,u=s.child(i),new yp(u,null,a.xt.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));return r.nc(t,c,n).next((function(t){t.forEach((function(t,e){o=o.zt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next((function(n){return r=n,o.zo.Di(t,e)})).next((function(e){return i=e,o.sc(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=rd(u,r.get(c),o.vs);r=l instanceof Yf?r.zt(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Pp(e,n)||(r=r.remove(t))})),r}))},t.prototype.sc=function(t,e,n){for(var r=Pd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ud&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Yf&&(c=c.zt(t,e))})),c}))},t}(),hm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Pd(),i=Pd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),fm=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i,o=this;return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.xt.length||1===i.xt.length&&i.xt[0].field.ut())||n.isEqual(ff.min())?this.uc(t,e):this.ac.Xo(t,r).next((function(i){var s=o.hc(e,i);return(wp(e)||Ep(e))&&o.lc(e.limitType,s,r,n)?o.uc(t,e):(Vh()<=sa.DEBUG&&qh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),xp(e)),o.ac.Kr(t,e,n).next((function(t){return s.forEach((function(e){t=t.zt(e.key,e)})),t})))}))},t.prototype.hc=function(t,e){var n=new Id(Rp(t));return e.forEach((function(e,r){r instanceof Yf&&Pp(t,r)&&(n=n.add(r))})),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Vh()<=sa.DEBUG&&qh("QueryEngine","Using full collection scan to execute query:",xp(e)),this.ac.Kr(t,e,ff.min())},t}(),pm=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new bd($h),this.dc=new Pg((function(t){return tp(t)}),ep),this.wc=ff.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new lm(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Vr(n,e.fc)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t,e,n,r){return new pm(t,e,n,r)}function vm(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o;return ls(this,(function(s){switch(s.label){case 0:return n=Kh(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.zo.pi(t).next((function(s){return o=s,r=n.persistence.Qo(e),i=new lm(n.Ec,r,n.persistence.Ko()),r.pi(t)})).next((function(e){for(var n=[],r=[],s=Pd(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];s=s.add(y.key)}}return i.Xo(t,s).next((function(t){return{Ic:t,mc:n,Ac:r}}))}))}))];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}}))}))}function gm(t,e){var n=Kh(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r,i,o,s,a,u,c,l=e.batch.keys(),h=n.Ec.Nr({Wr:!0});return(r=n,i=t,o=e,s=h,a=o.batch,u=a.keys(),c=Cv.resolve(),u.forEach((function(t){c=c.next((function(){return s._i(i,t)})).next((function(e){var n=e,r=o.$s.get(t);Gh(null!==r),(!n||n.version._(r)<0)&&(n=a.Ss(t,n,o))&&s.ai(n,o.Ns)}))})),c.next((function(){return r.zo.Ci(i,a)}))).next((function(){return h.apply(t)})).next((function(){return n.zo.$i(t)})).next((function(){return n.Tc.Xo(t,l)}))}))}function mm(t){var e=Kh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e._o.Qi(t)}))}function ym(t,e){var n=Kh(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach((function(e,o){var a,u,c,l=i.get(o);if(l){s.push(n._o.sr(t,e.Qe,o).next((function(){return n._o.er(t,e.qe,o)})));var h=e.resumeToken;if(h.l()>0){var f=l.Mt(h,r).kt(t.bs);i=i.zt(o,f),a=l,c=e,Gh((u=f).resumeToken.l()>0),(0===a.resumeToken.l()||u.Ot.W()-a.Ot.W()>=3e8||c.qe.size+c.Ue.size+c.Qe.size>0)&&s.push(n._o.Hi(t,f))}}}));var a=Cd();if(e.Oe.forEach((function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))})),s.push(function(t,e,n,r,i){var o=Pd();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Cd();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof $f&&s.version.isEqual(ff.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):qh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}(t,o,e.Oe,r,void 0).next((function(t){a=t}))),!r.isEqual(ff.min())){var u=n._o.Qi(t).next((function(e){return n._o.Wi(t,t.bs,r)}));s.push(u)}return Cv.Mn(s).next((function(){return o.apply(t)})).next((function(){return n.Tc.Zo(t,a)}))})).then((function(t){return n.fc=i,t}))}function _m(t,e){var n=Kh(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)}))}function bm(t,e){var n=Kh(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n._o.tr(t,e).next((function(i){return i?(r=i,Cv.resolve(r)):n._o.Bi(t).next((function(i){return r=new Lp(e,i,0,t.bs),n._o.ji(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t}))}function wm(t,e,n){return cs(this,void 0,void 0,(function(){var r,i,o,s;return ls(this,(function(a){switch(a.label){case 0:r=Kh(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ti.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!xv(s=a.sent()))throw s;return qh("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}}))}))}function Em(t,e,n){var r=Kh(t),i=ff.min(),o=Pd();return r.persistence.runTransaction("Execute query","readonly",(function(t){return(s=r,a=t,u=kp(e),c=Kh(s),l=c.dc.get(u),void 0!==l?Cv.resolve(c.fc.get(l)):c._o.tr(a,u)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r._c.Kr(t,e,n?i:ff.min(),n?o:Pd())})).next((function(t){return{documents:t,Rc:o}}));var s,a,u,c,l}))}function Im(t,e){var n=Kh(t),r=Kh(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Sn(t,e).next((function(t){return t?t.target:null}))}))}function Tm(t){var e=Kh(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n=e.Ec,r=t,i=e.wc,o=Kh(n),s=Cd(),a=dg(i),u=em(r),c=IDBKeyRange.lowerBound(a,!0),u.hs({index:Xv.readTimeIndex,range:c},(function(t,e){var n=fg(o.Qt,e);s=s.zt(n.key,n),a=e.readTime})).next((function(){return{Go:s,readTime:vg(a)}}));var n,r,i,o,s,a,u,c})).then((function(t){var n=t.Go,r=t.readTime;return e.wc=r,n}))}function Sm(t){return cs(this,void 0,void 0,(function(){var e;return ls(this,(function(n){return[2,(e=Kh(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e=em(t),n=ff.min(),e.hs({index:Xv.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=vg(e.readTime)),r.done()})).next((function(){return n}));var e,n})).then((function(t){e.wc=t}))]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cm=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return Cv.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Zd(n.createTime)}),Cv.resolve()},t.prototype.Ms=function(t,e){return Cv.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,{name:(n=e).name,query:wg(n.bundledQuery),readTime:Zd(n.readTime)}),Cv.resolve();var n},t}(),km=function(){function t(){this.vc=new Id(Nm.Sc),this.Dc=new Id(Nm.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Nm(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach((function(t){return n.nr(t,e)}))},t.prototype.ir=function(t,e){this.Nc(new Nm(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.Fc=function(t){var e=this,n=new mf(new df([])),r=new Nm(n,t),i=new Nm(n,t+1),o=[];return this.Dc.me([r,i],(function(t){e.Nc(t),o.push(t.key)})),o},t.prototype.Oc=function(){var t=this;this.vc.forEach((function(e){return t.Nc(e)}))},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new mf(new df([])),n=new Nm(e,t),r=new Nm(e,t+1),i=Pd();return this.Dc.me([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Fi=function(t){var e=new Nm(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Nm=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return mf.H(t.key,e.key)||$h(t.Mc,e.Mc)},t.Cc=function(t,e){return $h(t.Mc,e.Mc)||mf.H(t.key,e.key)},t}(),Am=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new Id(Nm.Sc)}return t.prototype.Ai=function(t){return Cv.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var o=new cg(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new Nm(u.key,i)),this.Ei.qs(t,u.key.path.X())}return Cv.resolve(o)},t.prototype.Pi=function(t,e){return Cv.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=e+1,r=this.Uc(n),i=r<0?0:r;return Cv.resolve(this.zo.length>i?this.zo[i]:null)},t.prototype.Vi=function(){return Cv.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return Cv.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Nm(e,0),i=new Nm(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],(function(t){var e=n.qc(t.Mc);o.push(e)})),Cv.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new Id($h);return e.forEach((function(t){var e=new Nm(t,0),i=new Nm(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],(function(t){r=r.add(t.Mc)}))})),Cv.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;mf.wt(i)||(i=i.child(""));var o=new Nm(new mf(i),0),s=new Id($h);return this.Bc.Ae((function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)}),o),Cv.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.qc(t);null!==r&&n.push(r)})),n},t.prototype.Ci=function(t,e){var n=this;Gh(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return Cv.forEach(e.mutations,(function(i){var o=new Nm(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)})).next((function(){n.Bc=r}))},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new Nm(e,0),r=this.Bc.Re(n);return Cv.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return this.zo.length,Cv.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Om=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new bd(mf.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return Cv.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=kd();return e.forEach((function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)})),Cv.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Ad(),i=new mf(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.key,u=s.value,c=u.hi,l=u.readTime;if(!e.path.nt(a.path))break;l._(n)<=0||c instanceof Yf&&Pp(e,c)&&(r=r.zt(c.key,c))}return Cv.resolve(r)},t.prototype.jc=function(t,e){return Cv.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Nr=function(t){return new xm(this)},t.prototype.Or=function(t){return Cv.resolve(this.size)},t}(),xm=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return as(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach((function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)})),Cv.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Rg),Pm=function(){function t(t){this.persistence=t,this.Gc=new Pg((function(t){return tp(t)}),ep),this.lastRemoteSnapshotVersion=ff.min(),this.highestTargetId=0,this.zc=0,this.Hc=new km,this.targetCount=0,this.Jc=qg.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach((function(t,n){return e(n)})),Cv.resolve()},t.prototype.Qi=function(t){return Cv.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return Cv.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),Cv.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),Cv.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new qg(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,Cv.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),Cv.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,Cv.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)})),Cv.Mn(o).next((function(){return i}))},t.prototype.Zi=function(t){return Cv.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return Cv.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),Cv.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach((function(e){i.push(r.Ni(t,e))})),Cv.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),Cv.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return Cv.resolve(n)},t.prototype.Fi=function(t,e){return Cv.resolve(this.Hc.Fi(e))},t}(),Rm=function(){function t(t,e){var n,r=this;this.Yc={},this.so=new lf(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Pm(this),this.Ei=new Sg,this.fo=(n=this.Ei,new Om(n,(function(t){return r.Ti.Xc(t)}))),this.Qt=new hg(e),this.wo=new Cm(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Am(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;qh("MemoryPersistence","Starting transaction:",t);var i=new Dm(this.so.next());return this.Ti.Zc(),n(i).next((function(t){return r.Ti.ta(i).next((function(){return t}))})).On().then((function(t){return i.Vs(),t}))},t.prototype.ea=function(t,e){return Cv.Ln(Object.values(this.Yc).map((function(n){return function(){return n.Fi(t,e)}})))},t}(),Dm=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return as(e,t),e}(Uv),Lm=function(){function t(t){this.persistence=t,this.na=new km,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw zh()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),Cv.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),Cv.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),Cv.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach((function(t){return n.ra.add(t.toString())}));var r=this.persistence.Sr();return r.rr(t,e.targetId).next((function(t){t.forEach((function(t){return n.ra.add(t.toString())}))})).next((function(){return r.Ji(t,e)}))},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return Cv.forEach(this.ra,(function(r){var i=mf._t(r);return e.oa(t,i).next((function(t){t||n.li(i)}))})).next((function(){return e.sa=null,n.apply(t)}))},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next((function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())}))},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return Cv.Ln([function(){return Cv.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e){return"firestore_clients_"+t+"_"+e}function Fm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function jm(t,e){return"firestore_targets_"+t+"_"+e}var Um=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ef(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Bh("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ef(i.error.code,i.error.message)),o?new t(e,i.state,r):(Bh("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Dd(),s=0;i&&s<r.activeTargetIds.length;++s)i=xf(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Bh("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Bm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Bh("SharedClientState","Failed to parse online state: "+e),null)},t}(),Wm=function(){function t(){this.activeTargetIds=Dd()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hm=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new bd($h),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Mm(this.persistenceKey,this.la),this.ma="firestore_sequence_number_"+this.persistenceKey,this.Ea=this.Ea.zt(this.la,new Wm),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return cs(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return ls(this,(function(f){switch(f.label){case 0:return[4,this._a.Uo()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Mm(this.persistenceKey,r)))&&(o=qm.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)l=c[u],this.wa(l);return this.Ta=[],this.window.addEventListener("unload",(function(){return h.ko()})),this.Er=!0,[2]}}))}))},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(jm(this.persistenceKey,t));if(n){var r=Vm.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(jm(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach((function(t){r.$a(t)})),this.currentUser=t,n.forEach((function(t){r.Ca(t)}))},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return qh("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){qh("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){qh("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(qh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Bh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po((function(){return cs(e,void 0,void 0,(function(){var t,e,r,i,o,s;return ls(this,(function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=lf.q;if(null!=t)try{var n=JSON.parse(t);Gh("number"==typeof n),e=n}catch(r){Bh("SharedClientState","Failed to read sequence number from WebStorage",r)}return e}(n.newValue))!==lf.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Um(this.currentUser,t,e,n),i=Fm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Fm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){var e={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(e))},t.prototype.qa=function(t,e,n){var r=jm(this.persistenceKey,t),i=new Vm(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return qm.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Um.ca(new rf(i),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Vm.ca(r,e)},t.prototype.pa=function(t){return Bm.ca(t)},t.prototype.Ya=function(t){return cs(this,void 0,void 0,(function(){return ls(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(qh("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this._a.su(s,a).then((function(){n.Ea=r}))},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Dd();return t.forEach((function(t,n){e=e.Pe(n.activeTargetIds)})),e},t}(),zm=function(){function t(){this.iu=new Wm,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new Wm,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Gm=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Km=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){qh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){qh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Qm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ym=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),$m=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return as(e,t),e.prototype.Su=function(t,e,n,r){return new Promise((function(i,o){var s=new Mh;s.listenOnce(xh.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Oh.NO_ERROR:var e=s.getResponseJson();qh("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Oh.TIMEOUT:qh("Connection",'RPC "'+t+'" timed out'),o(new ef(tf.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:var n=s.getStatus();if(qh("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(tf).indexOf(c)>=0?c:tf.UNKNOWN);o(new ef(a,r.message))}else o(new ef(tf.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ef(tf.UNAVAILABLE,"Connection failed."));break;default:zh()}}finally{qh("Connection",'RPC "'+t+'" completed.')}var u,c}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Cu=function(t,e){var n,r=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new Sh,o=kc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(s.initMessageHeaders,e),Cs()||As()||Ss().indexOf("Electron/")>=0||((n=Ss()).indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0)||Ss().indexOf("MSAppHost/")>=0||Ns()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=r.join("");qh("Connection","Creating WebChannel: "+a,s);var u=i.createWebChannel(a,s),c=!1,l=!1,h=new Ym({fu:function(t){l?qh("Connection","Not sending because WebChannel is closed:",t):(c||(qh("Connection","Opening WebChannel transport."),u.open(),c=!0),qh("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,Lh.EventType.OPEN,(function(){l||qh("Connection","WebChannel transport opened.")})),f(u,Lh.EventType.CLOSE,(function(){l||(l=!0,qh("Connection","WebChannel transport closed"),h.Ru())})),f(u,Lh.EventType.ERROR,(function(t){l||(l=!0,Wh("Connection","WebChannel transport errored:",t),h.Ru(new ef(tf.UNAVAILABLE,"The operation could not be completed")))})),f(u,Lh.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Gh(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){qh("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=pd[t];if(void 0!==e)return _d(e)}(o),a=i.message;void 0===s&&(s=tf.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,h.Ru(new ef(s,a)),u.close()}else qh("Connection","WebChannel received:",n),h.Pu(n)}})),f(o,Ph.STAT_EVENT,(function(t){t.stat===Rh?qh("Connection","Detected buffering proxy"):t.stat===Dh&&qh("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Au()}),0),h},e}(function(){function t(t){this.yu=t,this.t=t.t;var e=t.ssl?"https":"http";this.gu=e+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);qh("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then((function(t){return qh("RestConnection","Received: ",t),t}),(function(e){throw Wh("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){var n=Qm[t];return this.gu+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){return"undefined"!=typeof window?window:null}function Jm(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){return new Yd(t,!0)}var ty=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&qh("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,(function(){return e.ku=Date.now(),t()})),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),ey=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new ty(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return cs(this,void 0,void 0,(function(){return ls(this,(function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,(function(){return t.Zu()})))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return cs(this,void 0,void 0,(function(){return ls(this,(function(t){return this.Hu()?[2,this.close(0)]:[2]}))}))},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return cs(this,void 0,void 0,(function(){return ls(this,(function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===tf.RESOURCE_EXHAUSTED?(Bh(e.toString()),Bh("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===tf.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then((function(e){t.Wu===n&&t.ih(e)}),(function(n){e((function(){var e=new ef(tf.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)}))}))},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.Tu((function(t){n((function(){return e.rh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu((function(){return cs(t,void 0,void 0,(function(){return ls(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.rh=function(t){return qh("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps((function(){return e.Wu===t?n():(qh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ny=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return as(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n,r;if("targetChange"in e){e.targetChange;var i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:zh(),o=e.targetChange.targetIds||[],s=function(t,e){return t.Bt?(Gh(void 0===e||"string"==typeof e),Zh.fromBase64String(e||"")):(Gh(void 0===e||e instanceof Uint8Array),Zh.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?tf.UNKNOWN:_d(t.code);return new ef(e,t.message||"")}(u);n=new Bd(i,o,s,a||null)}else if("documentChange"in e){e.documentChange,(i=e.documentChange).document,i.document.name,i.document.updateTime,o=rv(t,i.document.name),s=Zd(i.document.updateTime);var u=new zf({mapValue:{fields:i.document.fields}}),c=(a=new Yf(o,s,u,{}),i.targetIds||[]),l=i.removedTargetIds||[];n=new Vd(c,l,a.key,a)}else if("documentDelete"in e)e.documentDelete,(i=e.documentDelete).document,o=rv(t,i.document),s=i.readTime?Zd(i.readTime):ff.min(),u=new $f(o,s),a=i.removedTargetIds||[],n=new Vd([],a,u.key,u);else if("documentRemove"in e)e.documentRemove,(i=e.documentRemove).document,o=rv(t,i.document),s=i.removedTargetIds||[],n=new Vd([],s,o,null);else{if(!("filter"in e))return zh();e.filter;var h=e.filter;h.targetId,i=h.count||0,o=new md(i),s=h.targetId,n=new qd(s,o)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return ff.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ff.min():e.readTime?Zd(e.readTime):ff.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e,n,r,i,o={};o.database=sv(this.Qt),o.addTarget=(e=this.Qt,i=(n=t).target,(r=np(i)?{documents:hv(e,i)}:{query:fv(e,i)}).targetId=n.targetId,n.resumeToken.l()>0?r.resumeToken=Xd(e,n.resumeToken):n.Ot._(ff.min())>0&&(r.readTime=$d(e,n.Ot.j())),r);var s=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zh()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(this.Qt,t);s&&(o.labels=s),this.th(o)},e.prototype.hh=function(t){var e={};e.database=sv(this.Qt),e.removeTarget=t,this.th(e)},e}(ey),ry=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return as(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Gh(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=(r=t.writeResults,i=t.commitTime,r&&r.length>0?(Gh(void 0!==i),r.map((function(t){return function(t,e){var n=t.updateTime?Zd(t.updateTime):Zd(e);n.isEqual(ff.min())&&(n=Zd(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Jp(n,r)}(t,i)}))):[]),n=Zd(t.commitTime);return this.listener.dh(n,e)}var r,i;return Gh(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=sv(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return cv(e.Qt,t)}))};this.th(n)},e}(ey),iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return as(e,t),e.prototype.Ih=function(){if(this.Th)throw new ef(tf.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.pu(t,e,n,i)})).catch((function(t){throw t.code===tf.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.Du(t,e,n,i)})).catch((function(t){throw t.code===tf.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.terminate=function(){this.Th=!1},e}((function(){})),oy=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,(function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()})))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Bh(e),this.Rh=!1):qh("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),sy=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou((function(t){n.Ps((function(){return cs(o,void 0,void 0,(function(){return ls(this,(function(t){switch(t.label){case 0:return vy(this)?(qh("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return cs(this,void 0,void 0,(function(){var e;return ls(this,(function(n){switch(n.label){case 0:return(e=Kh(t)).Nh.add(4),[4,uy(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,ay(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Oh=new oy(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t){return cs(this,void 0,void 0,(function(){var e,n;return ls(this,(function(r){switch(r.label){case 0:if(!vy(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function uy(t){return cs(this,void 0,void 0,(function(){var e,n;return ls(this,(function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function cy(t,e){var n=Kh(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),dy(n)?py(n):Oy(n).Hu()&&hy(n,e))}function ly(t,e){var n=Kh(t),r=Oy(n);n.xh.delete(e),r.Hu()&&fy(n,e),0===n.xh.size&&(r.Hu()?r.Xu():vy(n)&&n.Oh.set("Unknown"))}function hy(t,e){t.kh.on(e.targetId),Oy(t).uh(e)}function fy(t,e){t.kh.on(e),Oy(t).hh(e)}function py(t){t.kh=new Hd({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Oy(t).start(),t.Oh.Ph()}function dy(t){return vy(t)&&!Oy(t).zu()&&t.xh.size>0}function vy(t){return 0===Kh(t).Nh.size}function gy(t){t.kh=void 0}function my(t){return cs(this,void 0,void 0,(function(){return ls(this,(function(e){return t.xh.forEach((function(e,n){hy(t,e)})),[2]}))}))}function yy(t,e){return cs(this,void 0,void 0,(function(){return ls(this,(function(n){return gy(t),dy(t)?(t.Oh.Vh(e),py(t)):t.Oh.set("Unknown"),[2]}))}))}function _y(t,e,n){return cs(this,void 0,void 0,(function(){var r,i,o;return ls(this,(function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Bd&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o;return ls(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?(o=i[r],t.xh.has(o)?[4,t.Dh.Mh(o,n)]:[3,3]):[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),qh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,by(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Vd?t.kh.dn(e):e instanceof qd?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(ff.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,mm(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,(a=t,u=n,c=a.kh.Vn(u),c.$e.forEach((function(t,e){if(t.resumeToken.l()>0){var n=a.xh.get(e);n&&a.xh.set(e,n.Mt(t.resumeToken,u))}})),c.Fe.forEach((function(t){var e=a.xh.get(t);if(e){a.xh.set(t,e.Mt(Zh.T,e.Ot)),fy(a,t);var n=new Lp(e.target,t,1,e.sequenceNumber);hy(a,n)}})),a.Dh.Lh(c))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return qh("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,by(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}var a,u,c}))}))}function by(t,e,n){return cs(this,void 0,void 0,(function(){var r=this;return ls(this,(function(i){switch(i.label){case 0:if(!xv(e))throw e;return t.Nh.add(1),[4,uy(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return mm(t.bh)}),t._s.po((function(){return cs(r,void 0,void 0,(function(){return ls(this,(function(e){switch(e.label){case 0:return qh("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,ay(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function wy(t,e){return e().catch((function(n){return by(t,n,e)}))}function Ey(t){return cs(this,void 0,void 0,(function(){var e,n,r,i,o;return ls(this,(function(s){switch(s.label){case 0:e=Kh(t),n=xy(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!(vy(a=e)&&a.Ch.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,_m(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=xy(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,by(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Iy(e)&&Ty(e),[2]}var a}))}))}function Iy(t){return vy(t)&&!xy(t).zu()&&t.Ch.length>0}function Ty(t){xy(t).start()}function Sy(t){return cs(this,void 0,void 0,(function(){return ls(this,(function(e){return xy(t).Eh(),[2]}))}))}function Cy(t){return cs(this,void 0,void 0,(function(){var e,n,r,i;return ls(this,(function(o){for(e=xy(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]}))}))}function ky(t,e,n){return cs(this,void 0,void 0,(function(){var r,i;return ls(this,(function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=lg.from(r,e,n),[4,wy(t,(function(){return t.Dh.Bh(i)}))];case 1:return o.sent(),[4,Ey(t)];case 2:return o.sent(),[2]}}))}))}function Ny(t,e){return cs(this,void 0,void 0,(function(){return ls(this,(function(n){switch(n.label){case 0:return e&&xy(t)._h?[4,function(t,e){return cs(this,void 0,void 0,(function(){var n,r;return ls(this,(function(i){switch(i.label){case 0:return yd(r=e.code)&&r!==tf.ABORTED?(n=t.Ch.shift(),xy(t).Yu(),[4,wy(t,(function(){return t.Dh.qh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Ey(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Iy(t)&&Ty(t),[2]}}))}))}function Ay(t,e){return cs(this,void 0,void 0,(function(){var n;return ls(this,(function(r){switch(r.label){case 0:return n=Kh(t),e?(n.Nh.delete(2),[4,ay(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,uy(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Oy(t){var e,n,r,i,o=this;return t.Uh||(t.Uh=(e=t.Sh,n=t._s,r={wu:my.bind(null,t),Tu:yy.bind(null,t),ah:_y.bind(null,t)},(i=Kh(e)).Ih(),new ny(n,i.Qu,i.credentials,i.Qt,r)),t.$h.push((function(e){return cs(o,void 0,void 0,(function(){return ls(this,(function(n){switch(n.label){case 0:return e?(t.Uh.Yu(),dy(t)?py(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:n.sent(),gy(t),n.label=3;case 3:return[2]}}))}))}))),t.Uh}function xy(t){var e,n,r,i,o=this;return t.Qh||(t.Qh=(e=t.Sh,n=t._s,r={wu:Sy.bind(null,t),Tu:Ny.bind(null,t),wh:Cy.bind(null,t),dh:ky.bind(null,t)},(i=Kh(e)).Ih(),new ry(n,i.Qu,i.credentials,i.Qt,r)),t.$h.push((function(e){return cs(o,void 0,void 0,(function(){return ls(this,(function(n){switch(n.label){case 0:return e?(t.Qh.Yu(),[4,Ey(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:n.sent(),t.Ch.length>0&&(qh("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),n.label=4;case 4:return[2]}}))}))}))),t.Qh}var Py=function(){this.Kh=void 0,this.listeners=[]},Ry=function(){this.queries=new Pg((function(t){return Op(t)}),Ap),this.onlineState="Unknown",this.Wh=new Set};function Dy(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return ls(this,(function(c){switch(c.label){case 0:if(n=Kh(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Py),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=Fv(a,"Initialization of query '"+xp(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&jy(n),[2]}}))}))}function Ly(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o,s;return ls(this,(function(a){return n=Kh(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]}))}))}function My(t,e){for(var n=Kh(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].zh(s)&&(r=!0);u.Kh=s}}r&&jy(n)}function Fy(t,e,n){var r=Kh(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function jy(t){t.Wh.forEach((function(t){t.next()}))}var Uy=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Fd(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.nl&&n||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var e=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=Fd.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Vy=function(t){this.key=t},qy=function(t){this.key=t},By=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Pd(),this.De=Pd(),this.hl=Rp(t),this.ll=new Ld(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Md,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=wp(this.query)&&i.size===this.query.limit?i.last():null,c=Ep(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt((function(t,e){var l=i.get(t),h=e instanceof Yf?e:null;h&&(h=Pp(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),p=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.wl(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(a=!0)),d&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),wp(this.query)||Ep(this.query))for(;s.size>this.query.limit;){var l=wp(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort((function(t,e){return n=t.type,i=e.type,(o=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zh()}})(n)-o(i)||r.hl(t.doc,e.doc);var n,i,o})),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new Fd(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Md,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach((function(t){return e.cl=e.cl.add(t)})),t.Ue.forEach((function(t){})),t.Qe.forEach((function(t){return e.cl=e.cl.delete(t)})),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Pd(),this.ll.forEach((function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))}));var n=[];return e.forEach((function(e){t.ul.has(e)||n.push(new qy(e))})),this.ul.forEach((function(t){e.has(t)||n.push(new Vy(t))})),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Pd();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return Fd.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Wy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Hy=function(t){this.key=t,this.Pl=!1},zy=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new Pg((function(t){return Op(t)}),Ap),this.Sl=new Map,this.Dl=new Set,this.Cl=new bd(mf.H),this.xl=new Map,this.Nl=new km,this.$l={},this.Fl=new Map,this.Ol=qg.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o,s,a;return ls(this,(function(u){switch(u.label){case 0:return n=w_(t),(o=n.vl.get(e))?(r=o.targetId,n.Vl.Fa(r),i=o.view.Rl(),[3,4]):[3,1];case 1:return[4,bm(n.bh,kp(e))];case 2:return s=u.sent(),a=n.Vl.Fa(s.targetId),r=s.targetId,[4,Ky(n,e,r,"current"===a)];case 3:i=u.sent(),n.Ml&&cy(n.yl,s),u.label=4;case 4:return[2,i]}}))}))}function Ky(t,e,n,r){return cs(this,void 0,void 0,(function(){var i,o,s,a,u,c;return ls(this,(function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return cs(this,void 0,void 0,(function(){var i,o,s;return ls(this,(function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,Em(t.bh,e.query,!1).then((function(t){var n=t.documents;return e.view.fl(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(s_(t,e.targetId,s.Il),s.snapshot)]}}))}))}(t,e,n,r)},[4,Em(t.bh,e,!0)];case 1:return i=l.sent(),o=new By(e,i.Rc),s=o.fl(i.documents),a=Ud.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),s_(t,n,u.Il),c=new Wy(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}}))}))}function Qy(t,e){return cs(this,void 0,void 0,(function(){var n,r,i;return ls(this,(function(o){switch(o.label){case 0:return n=Kh(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter((function(t){return!Ap(t,e)}))),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,wm(n.bh,r.targetId,!1).then((function(){n.Vl.La(r.targetId),ly(n.yl,r.targetId),i_(n,r.targetId)})).catch(xg)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return i_(n,r.targetId),[4,wm(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Yy(t,e,n){return cs(this,void 0,void 0,(function(){var r,i,o,s;return ls(this,(function(a){switch(a.label){case 0:r=E_(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,(u=r.bh,c=e,h=Kh(u),f=hf.now(),p=c.reduce((function(t,e){return t.add(e.key)}),Pd()),h.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return h.Tc.Xo(t,p).next((function(e){l=e;for(var n=[],r=0,i=c;r<i.length;r++){var o=i[r],s=id(o,l.get(o.key));null!=s&&n.push(new ud(o.key,s,Kf(s.proto.mapValue),Zp.exists(!0)))}return h.zo.Ri(t,f,n,c)}))})).then((function(t){var e=t.xs(l);return{batchId:t.batchId,ri:e}})))];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new bd($h)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,c_(r,i.ri)];case 3:return a.sent(),[4,Ey(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Fv(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}var u,c,l,h,f,p}))}))}function $y(t,e){return cs(this,void 0,void 0,(function(){var n,r;return ls(this,(function(i){switch(i.label){case 0:n=Kh(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ym(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach((function(t,e){var r=n.xl.get(e);r&&(Gh(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Gh(r.Pl):t.Qe.size>0&&(Gh(r.Pl),r.Pl=!1))})),[4,c_(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,xg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Xy(t,e,n){var r=Kh(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach((function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Kh(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)})),r&&jy(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function Jy(t,e,n){return cs(this,void 0,void 0,(function(){var r,i,o,s,a,u;return ls(this,(function(c){switch(c.label){case 0:return(r=Kh(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new bd(mf.H)).zt(o,new $f(o,ff.min())),a=Pd().add(o),u=new jd(ff.min(),new Map,new Id($h),s,a),[4,$y(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),u_(r),[3,4];case 2:return[4,wm(r.bh,e,!1).then((function(){return i_(r,e,n)})).catch(xg)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Zy(t,e){return cs(this,void 0,void 0,(function(){var n,r,i;return ls(this,(function(o){switch(o.label){case 0:n=Kh(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,gm(n.bh,e)];case 2:return i=o.sent(),r_(n,r,null),n_(n,r),n.Vl.Na(r,"acknowledged"),[4,c_(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,xg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function t_(t,e,n){return cs(this,void 0,void 0,(function(){var r,i;return ls(this,(function(o){switch(o.label){case 0:r=Kh(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(s=r.bh,a=e,u=Kh(s),u.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var e;return u.zo.Pi(t,a).next((function(n){return Gh(null!==n),e=n.keys(),u.zo.Ci(t,n)})).next((function(){return u.zo.$i(t)})).next((function(){return u.Tc.Xo(t,e)}))})))];case 2:return i=o.sent(),r_(r,e,n),n_(r,e),r.Vl.Na(e,"rejected",n),[4,c_(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,xg(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var s,a,u}))}))}function e_(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o,s;return ls(this,(function(a){switch(a.label){case 0:vy((n=Kh(t)).yl)||qh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(u=n.bh,c=Kh(u),c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return c.zo.Vi(t)})))];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Fv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}var u,c}))}))}function n_(t,e){(t.Fl.get(e)||[]).forEach((function(t){t.resolve()})),t.Fl.delete(e)}function r_(t,e,n){var r=Kh(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function i_(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach((function(e){t.Nl.Fi(e)||o_(t,e)}))}function o_(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(ly(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),u_(t))}function s_(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Vy?(t.Nl.nr(o.key,e),a_(t,o)):o instanceof qy?(qh("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||o_(t,o.key)):zh()}}function a_(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(qh("SyncEngine","New document in limbo: "+n),t.Dl.add(r),u_(t))}function u_(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new mf(df.ot(e)),r=t.Ol.next();t.xl.set(r,new Hy(n)),t.Cl=t.Cl.zt(n,r),cy(t.yl,new Lp(kp(bp(n.path)),r,2,lf.q))}}function c_(t,e,n){return cs(this,void 0,void 0,(function(){var r,i,o,s;return ls(this,(function(a){switch(a.label){case 0:return r=Kh(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach((function(t,a){s.push(r.Ll(a,e,n).then((function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=hm.oc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return ls(this,(function(h){switch(h.label){case 0:n=Kh(t),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Cv.forEach(e,(function(e){return Cv.forEach(e.ic,(function(r){return n.persistence.Ti.nr(t,e.targetId,r)})).next((function(){return Cv.forEach(e.rc,(function(r){return n.persistence.Ti.ir(t,e.targetId,r)}))}))}))}))];case 2:return h.sent(),[3,4];case 3:if(!xv(r=h.sent()))throw r;return qh("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],a=s.targetId,s.fromCache||(u=n.fc.get(a),c=u.Ot,l=u.Lt(c),n.fc=n.fc.zt(a,l));return[2]}}))}))}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function l_(t,e){return cs(this,void 0,void 0,(function(){var n,r;return ls(this,(function(i){switch(i.label){case 0:return(n=Kh(t)).currentUser.isEqual(e)?[3,3]:(qh("SyncEngine","User change. New user:",e.A()),[4,vm(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).Fl.forEach((function(t){t.forEach((function(t){t.reject(new ef(tf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fl.clear(),n.Vl.Ua(e,r.mc,r.Ac),[4,c_(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function h_(t,e){var n=Kh(t),r=n.xl.get(e);if(r&&r.Pl)return Pd().add(r.key);var i=Pd(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.vl.get(u);i=i.Pe(c.view._l)}return i}function f_(t,e){return cs(this,void 0,void 0,(function(){var n,r,i;return ls(this,(function(o){switch(o.label){case 0:return[4,Em((n=Kh(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&s_(n,e.targetId,i.Il),i)]}}))}))}function p_(t){return cs(this,void 0,void 0,(function(){var e;return ls(this,(function(n){return[2,Tm((e=Kh(t)).bh).then((function(t){return c_(e,t)}))]}))}))}function d_(t,e,n,r){return cs(this,void 0,void 0,(function(){var i,o;return ls(this,(function(s){switch(s.label){case 0:return[4,(a=(i=Kh(t)).bh,u=e,c=Kh(a),l=Kh(c.zo),c.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return l.yi(t,u).next((function(e){return e?c.Tc.Xo(t,e):Cv.resolve(null)}))})))];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ey(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(r_(i,e,r||null),n_(i,e),function(t,e){Kh(Kh(t).zo).xi(e)}(i.bh,e)):zh(),s.label=4;case 4:return[4,c_(i,o)];case 5:return s.sent(),[3,7];case 6:qh("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}var a,u,c,l}))}))}function v_(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return ls(this,(function(l){switch(l.label){case 0:return w_(n=Kh(t)),E_(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,g_(n,r.it())]);case 1:return i=l.sent(),n.kl=!0,[4,Ay(n.yl,!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],cy(n.yl,a);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(u=[],c=Promise.resolve(),n.Sl.forEach((function(t,e){n.Vl.Ma(e)?u.push(e):c=c.then((function(){return i_(n,e),wm(n.bh,e,!0)})),ly(n.yl,e)})),[4,c]);case 4:return l.sent(),[4,g_(n,u)];case 5:return l.sent(),(h=Kh(n)).xl.forEach((function(t,e){ly(h.yl,e)})),h.Nl.Oc(),h.xl=new Map,h.Cl=new bd(mf.H),n.kl=!1,[4,Ay(n.yl,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function g_(t,e,n){return cs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,p,d,v;return ls(this,(function(g){switch(g.label){case 0:n=Kh(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.Sl.get(a))&&0!==c.length?[4,bm(n.bh,kp(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],p=n.vl.get(f),[4,f_(n,p)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Im(n.bh,a)];case 8:return v=g.sent(),[4,bm(n.bh,v)];case 9:return u=g.sent(),[4,Ky(n,m_(v),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}}))}))}function m_(t){return _p(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function y_(t){var e=Kh(t);return Kh(Kh(e.bh).persistence).Uo()}function __(t,e,n,r){return cs(this,void 0,void 0,(function(){var i,o,s;return ls(this,(function(a){switch(a.label){case 0:return(i=Kh(t)).kl?(qh("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Tm(i.bh)];case 3:return o=a.sent(),s=jd.Me(e,"current"===n),[4,c_(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,wm(i.bh,e,!0)];case 6:return a.sent(),i_(i,e,r),[3,8];case 7:zh(),a.label=8;case 8:return[2]}}))}))}function b_(t,e,n){return cs(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return ls(this,(function(p){switch(p.label){case 0:if(!(r=w_(t)).kl)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.Sl.has(s)?(qh("SyncEngine","Adding an already active target "+s),[3,5]):[4,Im(r.bh,s)]):[3,6];case 2:return a=p.sent(),[4,bm(r.bh,a)];case 3:return u=p.sent(),[4,Ky(r,m_(a),u.targetId,!1)];case 4:p.sent(),cy(r.yl,u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return ls(this,(function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,wm(r.bh,t,!1).then((function(){ly(r.yl,t),i_(r,t)})).catch(xg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,p.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function w_(t){var e=Kh(t);return e.yl.Dh.Lh=$y.bind(null,e),e.yl.Dh.vn=h_.bind(null,e),e.yl.Dh.Mh=Jy.bind(null,e),e.bl.ah=My.bind(null,e.gl),e.bl.Bl=Fy.bind(null,e.gl),e}function E_(t){var e=Kh(t);return e.yl.Dh.Bh=Zy.bind(null,e),e.yl.Dh.qh=t_.bind(null,e),e}var I_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return cs(this,void 0,void 0,(function(){return ls(this,(function(e){switch(e.label){case 0:return this.Qt=Zm(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}}))}))},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return dm(this.persistence,new fm,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Rm(Lm.ia,this.Qt)},t.prototype.Wl=function(t){return new zm},t.prototype.terminate=function(){return cs(this,void 0,void 0,(function(){return ls(this,(function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}}))}))},t}(),T_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return as(e,t),e.prototype.initialize=function(e){return cs(this,void 0,void 0,(function(){return ls(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Sm(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,E_(this.Yl._a)];case 4:return n.sent(),[4,Ey(this.Yl.yl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Hl=function(t){return dm(this.persistence,new fm,t.Jl,this.Qt)},e.prototype.zl=function(t){var e=this.persistence.Ti.lr;return new Qg(e,t._s)},e.prototype.jl=function(t){var e=cm(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?Og.Ys(this.cacheSizeBytes):Og.ti;return new sm(this.synchronizeTabs,e,t.clientId,n,t._s,Xm(),Jm(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new zm},e}(I_),S_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return as(e,t),e.prototype.initialize=function(e){return cs(this,void 0,void 0,(function(){var n,r=this;return ls(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Hm?(this.Vl._a={eu:d_.bind(null,n),nu:__.bind(null,n),su:b_.bind(null,n),Uo:y_.bind(null,n),tu:p_.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro((function(t){return cs(r,void 0,void 0,(function(){return ls(this,(function(e){switch(e.label){case 0:return[4,v_(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=Xm();if(!Hm.Kn(e))throw new ef(tf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=cm(t.yu.t,t.yu.persistenceKey);return new Hm(e,t._s,n,t.clientId,t.Jl)},e}(T_),C_=function(){function t(){}return t.prototype.initialize=function(t,e){return cs(this,void 0,void 0,(function(){var n=this;return ls(this,(function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Xy(n._a,t,1)},this.yl.Dh.n_=l_.bind(null,this._a),[4,Ay(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(t){return new Ry},t.prototype.Xl=function(t){var e,n,r=Zm(t.yu.t),i=(e=t.yu,new $m(e));return n=t.credentials,new iy(n,i,r)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Xy(s._a,t,0)},o=Km.Kn()?new Km:new Gm,new sy(e,n,r,i,o)},t.prototype.e_=function(t,e){return n=this.bh,r=this.yl,i=this.gl,o=this.Vl,s=t.Jl,a=t.pl,u=e,c=new zy(n,r,i,o,s,a),u&&(c.kl=!0),c;var n,r,i,o,s,a,u,c},t.prototype.terminate=function(){return function(t){return cs(this,void 0,void 0,(function(){var e;return ls(this,(function(n){switch(n.label){case 0:return e=Kh(t),qh("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,uy(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}}))}))}(this.yl)},t}(),k_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),N_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ef(tf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new gf(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}(),A_=function(t){this._methodName=t},O_=function(t){this.d_=t};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function x_(t,e,n){if(!n)throw new ef(tf.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function P_(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ef(tf.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function R_(t,e,n,r){if(!0===e&&!0===r)throw new ef(tf.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function D_(t){if(!mf.wt(t))throw new ef(tf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function L_(t){if(mf.wt(t))throw new ef(tf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function M_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":zh()}function F_(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new ef(tf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=M_(t);throw new ef(tf.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function j_(t,e){if(e<=0)throw new ef(tf.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ef(tf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ef(tf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,R_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),V_=new Map,q_=function(){function t(t,e){this.w_="(lite)",this.E_=new U_({}),this.T_=!1,t instanceof jh?(this.I_=t,this.m_=new sf):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ef(tf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(t.options.projectId)}(t),this.m_=new af(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new ef(tf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new ef(tf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new U_(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new sf;switch(t.type){case"gapi":var e=t.client;return Gh(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new cf(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ef(tf.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return this,(t=V_.get(this))&&(qh("ComponentProvider","Removing Datastore"),V_.delete(this),t.terminate()),Promise.resolve();var t},t}(),B_=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new H_(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),W_=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),H_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,bp(r))||this).firestore=e,i.D_=r,i.type="collection",i}return as(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new B_(this.firestore,null,new mf(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(W_);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof O_&&(t=t.d_),x_("collection","path",e),t instanceof q_)return L_(n=df.ot.apply(df,ds([e],r))),new H_(t,null,n);if(!(t instanceof B_||t instanceof H_))throw new ef(tf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return L_(n=df.ot.apply(df,ds([t.path],r)).child(df.ot(e))),new H_(t.firestore,null,n)}function G_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof O_&&(t=t.d_),1===arguments.length&&(e=Yh.u()),x_("doc","path",e),t instanceof q_)return D_(n=df.ot.apply(df,ds([e],r))),new B_(t,null,new mf(n));if(!(t instanceof B_||t instanceof H_))throw new ef(tf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return D_(n=t.D_.child(df.ot.apply(df,ds([e],r)))),new B_(t.firestore,t instanceof H_?t.v_:null,new mf(n))}function K_(t,e){return t instanceof O_&&(t=t.d_),e instanceof O_&&(e=e.d_),(t instanceof B_||t instanceof H_)&&(e instanceof B_||e instanceof H_)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Q_(t,e){return t instanceof O_&&(t=t.d_),e instanceof O_&&(e=e.d_),t instanceof W_&&e instanceof W_&&t.firestore===e.firestore&&Ap(t.C_,e.C_)&&t.v_===e.v_}var Y_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ef(tf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ef(tf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return $h(this.x_,t.x_)||$h(this.N_,t.N_)},t}(),$_=/^__.*__$/,X_=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new ud(t,this.data,this.Gt,e,this.fieldTransforms):new ad(t,this.data,e,this.fieldTransforms)},t}(),J_=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new ud(t,this.data,this.Gt,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zh()}}var tb=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return bb(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find((function(e){return t.nt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.nt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Z_(this.k_)&&$_.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),eb=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Zm(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new tb({k_:t,methodName:e,j_:n,path:gf.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function nb(t){var e=t.p_(),n=Zm(t.I_);return new eb(t.I_,!!e.ignoreUndefinedProperties,n)}function rb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);gb("Data must be an object, but it was:",s,r);var a,u,c=db(r,s);if(o.merge)a=new wf(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=mb(e,f[h],n);if(!s.contains(p))throw new ef(tf.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");wb(l,p)||l.push(p)}a=new wf(l),u=s.fieldTransforms.filter((function(t){return a.Tt(t.field)}))}else a=null,u=s.fieldTransforms;return new X_(new zf(c),a,u)}var ib=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(A_);function ob(t,e,n){return new tb({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var sb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.prototype.z_=function(t){return new Xp(t.path,new Wp)},e.prototype.isEqual=function(t){return t instanceof e},e}(A_),ab=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return as(e,t),e.prototype.z_=function(t){var e=ob(this,t,!0),n=this.H_.map((function(t){return pb(t,e)})),r=new Hp(n);return new Xp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(A_),ub=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return as(e,t),e.prototype.z_=function(t){var e=ob(this,t,!0),n=this.H_.map((function(t){return pb(t,e)})),r=new Gp(n);return new Xp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(A_),cb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return as(e,t),e.prototype.z_=function(t){var e=new Qp(t.Qt,jp(t.Qt,this.J_));return new Xp(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(A_);function lb(t,e,n,r){var i=t.G_(1,e,n);gb("Data must be an object, but it was:",i,r);var o=[],s=new Gf;_f(r,(function(t,r){var a=_b(e,t,n);r instanceof O_&&(r=r.d_);var u=i.U_(a);if(r instanceof ib)o.push(a);else{var c=pb(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new wf(o);return new J_(s.Pt(),a,i.fieldTransforms)}function hb(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[mb(e,r,n)],u=[i];if(o.length%2!=0)throw new ef(tf.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(mb(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Gf,f=a.length-1;f>=0;--f)if(!wb(l,a[f])){var p=a[f],d=u[f];d instanceof O_&&(d=d.d_);var v=s.U_(p);if(d instanceof ib)l.push(p);else{var g=pb(d,v);null!=g&&(l.push(p),h.set(p,g))}}var m=new wf(l);return new J_(h.Pt(),m,s.fieldTransforms)}function fb(t,e,n,r){return void 0===r&&(r=!1),pb(n,t.G_(r?4:3,e))}function pb(t,e){if(t instanceof O_&&(t=t.d_),vb(t))return gb("Unsupported field value:",e,t),db(t,e);if(t instanceof A_)return function(t,e){if(!Z_(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=pb(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof O_&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jp(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=hf.fromDate(t);return{timestampValue:$d(e.Qt,n)}}if(t instanceof hf)return n=new hf(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:$d(e.Qt,n)};if(t instanceof Y_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nf)return{bytesValue:Xd(e.Qt,t.I)};if(t instanceof B_){n=e.t;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:tv(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+M_(t))}(t,e)}function db(t,e){var n={};return bf(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):_f(t,(function(t,r){var i=pb(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function vb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof hf||t instanceof Y_||t instanceof nf||t instanceof B_||t instanceof A_)}function gb(t,e,n){if(!vb(n)||("object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i))){var r=M_(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}var i}function mb(t,e,n){if(e instanceof O_&&(e=e.d_),e instanceof N_)return e.f_;if("string"==typeof e)return _b(t,e);throw bb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var yb=new RegExp("[~\\*/\\[\\]]");function _b(t,e,n){if(e.search(yb)>=0)throw bb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(N_.bind.apply(N_,ds([void 0],e.split("."))))).f_}catch(r){throw bb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function bb(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new ef(tf.INVALID_ARGUMENT,(a+=". ")+t+u)}function wb(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eb=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return cs(this,void 0,void 0,(function(){var e,n=this;return ls(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new ef(tf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o,s,a;return ls(this,(function(u){switch(u.label){case 0:return n=Kh(t),r=sv(n.Qt)+"/documents",i={documents:e.map((function(t){return nv(n.Qt,t)}))},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e,r,i=(e=n.Qt,"found"in(r=t)?function(t,e){Gh(!!e.found),e.found.name,e.found.updateTime;var n=rv(t,e.found.name),r=Zd(e.found.updateTime),i=new zf({mapValue:{fields:e.found.fields}});return new Yf(n,r,i,{})}(e,r):"missing"in r?function(t,e){Gh(!!e.missing),Gh(!!e.readTime);var n=rv(t,e.missing),r=Zd(e.readTime);return new $f(n,r)}(e,r):zh());s.set(i.key.toString(),i)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Gh(!!e),a.push(e)})),a)]}}))}))}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof $f||t instanceof Yf?n.sf(t):zh()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(n){this.Z_=n}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new vd(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return cs(this,void 0,void 0,(function(){var t,e=this;return ls(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=mf._t(n);e.mutations.push(new gd(r,e.jt(r)))})),[4,function(t,e){return cs(this,void 0,void 0,(function(){var n,r,i;return ls(this,(function(o){switch(o.label){case 0:return n=Kh(t),r=sv(n.Qt)+"/documents",i={writes:e.map((function(t){return cv(n.Qt,t)}))},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Yf)e=t.version;else{if(!(t instanceof $f))throw zh();e=ff.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ef(tf.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Zp.updateTime(e):Zp.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(ff.min()))throw new ef(tf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zp.updateTime(e)}return Zp.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Ib=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new ty(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu((function(){return cs(t,void 0,void 0,(function(){var t,e,n=this;return ls(this,(function(r){return t=new Eb(this.Sh),(e=this.uf(t))&&e.then((function(e){n._s.Ps((function(){return t.commit().then((function(){n.Es.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Af(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.Es.reject(n),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps((function(){return e.af(),Promise.resolve()}))):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!yd(e)}return!1},t}(),Tb=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=rf.UNAUTHENTICATED,this.clientId=Yh.u(),this._f=function(){},this.C=new Sv,this.credentials.v((function(t){qh("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()}))}return t.prototype.getConfiguration=function(){return cs(this,void 0,void 0,(function(){return ls(this,(function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this._s.wf)throw new ef(tf.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new Sv;return this._s.Tf((function(){return cs(t,void 0,void 0,(function(){var t,n;return ls(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Fv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(t,e){return cs(this,void 0,void 0,(function(){var n,r,i=this;return ls(this,(function(o){switch(o.label){case 0:return t._s.Af(),qh("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff((function(n){r.isEqual(n)||(r=n,t._s.po((function(){return cs(i,void 0,void 0,(function(){return ls(this,(function(t){switch(t.label){case 0:return[4,vm(e.bh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Po((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Cb(t,e){return cs(this,void 0,void 0,(function(){var n,r;return ls(this,(function(i){switch(i.label){case 0:return t._s.Af(),[4,kb(t)];case 1:return n=i.sent(),qh("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t._s.po((function(){return function(t,e){return cs(this,void 0,void 0,(function(){var n,r;return ls(this,(function(i){switch(i.label){case 0:return(n=Kh(t))._s.Af(),qh("RemoteStore","RemoteStore received new credentials"),r=vy(n),n.Nh.add(3),[4,uy(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,ay(n)];case 3:return i.sent(),[2]}}))}))}(e.yl,n)}))})),t.If=e,[2]}}))}))}function kb(t){return cs(this,void 0,void 0,(function(){return ls(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(qh("FirestoreClient","Using default OfflineComponentProvider"),[4,Sb(t,new I_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Nb(t){return cs(this,void 0,void 0,(function(){return ls(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(qh("FirestoreClient","Using default OnlineComponentProvider"),[4,Cb(t,new C_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Ab(t){return kb(t).then((function(t){return t.persistence}))}function Ob(t){return kb(t).then((function(t){return t.bh}))}function xb(t){return Nb(t).then((function(t){return t.yl}))}function Pb(t){return Nb(t).then((function(t){return t._a}))}function Rb(t){return cs(this,void 0,void 0,(function(){var e,n;return ls(this,(function(r){switch(r.label){case 0:return[4,Nb(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Gy.bind(null,e._a),n.Hh=Qy.bind(null,e._a),n)]}}))}))}function Db(t,e,n){var r=this;void 0===n&&(n={});var i=new Sv;return t._s.Ps((function(){return cs(r,void 0,void 0,(function(){var r;return ls(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new k_({next:function(o){e.Ps((function(){return Ly(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new ef(tf.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ef(tf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Uy(bp(n.path),o,{includeMetadataChanges:!0,nl:!0});return Dy(t,s)},[4,Rb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}function Lb(t,e,n){var r=this;void 0===n&&(n={});var i=new Sv;return t._s.Ps((function(){return cs(r,void 0,void 0,(function(){var r;return ls(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new k_({next:function(n){e.Ps((function(){return Ly(t,s)})),n.fromCache&&"server"===r.source?i.reject(new ef(tf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Uy(n,o,{includeMetadataChanges:!0,nl:!0});return Dy(t,s)},[4,Rb(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}var Mb=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new ty(this,"async_queue_retry"),this.vf=function(){var e=Jm();e&&qh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Jm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Jm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return cs(this,void 0,void 0,(function(){var t,e=this;return ls(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!xv(t=n.sent()))throw t;return qh("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Bh("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),t;var n,r})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Mv.Ts(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&zh()},t.prototype.Af=function(){},t.prototype.Nf=function(){return cs(this,void 0,void 0,(function(){var t;return ls(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ds-e.ds}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()}))},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Fb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var jb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Mb,r.w_="name"in e?e.name:"[DEFAULT]",r}return as(e,t),e.prototype.b_=function(){return this.qf||Vb(this),this.qf.terminate()},e}(q_);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(t){return t.qf||Vb(t),t.qf.df(),t.qf}function Vb(t){var e,n,r,i=t.p_(),o=(e=t.I_,n=t.w_,new Fh(e,n,(r=i).host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling));t.qf=new Tb(t.m_,t.Bf,o)}function qb(t,e,n){var r=this,i=new Sv;return t._s.enqueue((function(){return cs(r,void 0,void 0,(function(){var r;return ls(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Sb(t,n)];case 1:return o.sent(),[4,Cb(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(s=r=o.sent()).name?s.code===tf.FAILED_PRECONDITION||s.code===tf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}var s}))}))})).then((function(){return i.promise}))}function Bb(t){if(t.R_||t.P_)throw new ef(tf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wb=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Pf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Tf(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(Sf(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw zh()}},t.prototype.Hf=function(t,e){var n=this,r={};return _f(t.fields||{},(function(t,i){r[t]=n.Uf(i,e)})),r},t.prototype.Gf=function(t){return new Y_(Tf(t.latitude),Tf(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.Uf(t,e)}))},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=kf(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Nf(t));default:return null}},t.prototype.Qf=function(t){var e=If(t);return new hf(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=df.ot(t);Gh(Tv(n));var r=new jh(n.get(1),n.get(3)),i=new mf(n.Y(5));return r.isEqual(e)||Bh("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Hb=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new B_(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new zb(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Gb("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),zb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Hb);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e){return"string"==typeof e?_b(t,e):e instanceof O_?e.d_.f_:e.f_}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){if(Ep(t)&&0===t.xt.length)throw new ef(tf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qb=function(){};function Yb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var $b=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return as(e,t),e.prototype.td=function(t){var e,n,r,i=nb(t.firestore),o=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new ef(tf.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){rw(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(nw(r,t,h))}a={arrayValue:{values:u}}}else a=nw(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||rw(s,o),a=fb(n,"where",s,"in"===o||"not-in"===o);var f=rp.create(i,o,a);return function(t,e){if(e.Ct()){var n=Tp(t);if(null!==n&&!n.isEqual(e.field))throw new ef(tf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ip(t);null!==r&&iw(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new ef(tf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new ef(tf.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t.C_,0,i,t.firestore.I_,this.ed,this.nd,this.sd);return new W_(t.firestore,t.v_,(e=t.C_,n=o,r=e.filters.concat([n]),new yp(e.path,e.collectionGroup,e.xt.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)))},e}(Qb),Xb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return as(e,t),e.prototype.td=function(t){var e,n,r,i=function(t,e,n){if(null!==t.startAt)throw new ef(tf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ef(tf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new dp(e,n);return function(t,e){if(null===Ip(t)){var n=Tp(t);null!==n&&iw(t,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new W_(t.firestore,t.v_,(e=t.C_,n=i,r=e.xt.concat([n]),new yp(e.path,e.collectionGroup,r,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},e}(Qb),Jb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return as(e,t),e.prototype.td=function(t){return new W_(t.firestore,t.v_,Np(t.C_,this.od,this.ad))},e}(Qb),Zb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return as(e,t),e.prototype.td=function(t){var e,n,r=ew(t,this.type,this.ud,this.hd);return new W_(t.firestore,t.v_,(e=t.C_,n=r,new yp(e.path,e.collectionGroup,e.xt.slice(),e.filters.slice(),e.limit,e.limitType,n,e.endAt)))},e}(Qb),tw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return as(e,t),e.prototype.td=function(t){var e,n,r=ew(t,this.type,this.ud,this.hd);return new W_(t.firestore,t.v_,(e=t.C_,n=r,new yp(e.path,e.collectionGroup,e.xt.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,n)))},e}(Qb);function ew(t,e,n,r){if(n[0]instanceof O_&&(n[0]=n[0].d_),n[0]instanceof Hb)return function(t,e,n,r,i){if(!r)throw new ef(tf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Cp(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(Uf(e,r.key));else{var c=r.field(u.field);if(Cf(c))throw new ef(tf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new ef(tf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new fp(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=nb(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new ef(tf.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new ef(tf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Sp(t)&&-1!==c.indexOf("/"))throw new ef(tf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(df.ot(c));if(!mf.wt(l))throw new ef(tf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new mf(l);a.push(Uf(e,h))}else{var f=fb(n,r,c);a.push(f)}}return new fp(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function nw(t,e,n){if(n instanceof O_&&(n=n.d_),"string"==typeof n){if(""===n)throw new ef(tf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sp(e)&&-1!==n.indexOf("/"))throw new ef(tf.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(df.ot(n));if(!mf.wt(r))throw new ef(tf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Uf(t,new mf(r))}if(n instanceof B_)return Uf(t,n.S_);throw new ef(tf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+M_(n)+".")}function rw(t,e){if(!Array.isArray(t)||0===t.length)throw new ef(tf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ef(tf.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function iw(t,e,n){if(!n.isEqual(e))throw new ef(tf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var sw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return as(e,t),e.prototype.Wf=function(t){return new nf(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new B_(this.firestore,null,e)},e}(Wb),aw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),uw=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return as(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new cw(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Gb("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Hb),cw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(uw),lw=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new aw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach((function(r){t.call(e,new cw(n.Yf,n.Xf,r.key,r,new aw(n._d.De.has(r.key),n._d.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new ef(tf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map((function(e){var r=new cw(t.Yf,t.Xf,e.doc.key,e.doc,new aw(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._d.Se;return t._d.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new cw(t.Yf,t.Xf,e.doc.key,e.doc,new aw(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:hw(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.dd=e),this.fd},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zh()}}function fw(t,e){return t instanceof uw&&e instanceof uw?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof lw&&e instanceof lw&&t.Yf===e.Yf&&Q_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return as(e,t),e.prototype.Wf=function(t){return new nf(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new B_(this.firestore,null,e)},e}(Wb);function dw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=F_(t,B_);var o=F_(t.firestore,jb),s=nb(o);return e instanceof O_&&(e=e.d_),gw(o,[("string"==typeof e||e instanceof N_?hb(s,"updateDoc",t.S_,e,n,r):lb(s,"updateDoc",t.S_,e)).F_(t.S_,Zp.exists(!0))])}function vw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof O_&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Fb(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Fb(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof B_)c=F_(t.firestore,jb),l=bp(t.S_.path),u={next:function(e){i[a]&&i[a](mw(c,t,e))},error:i[a+1],complete:i[a+2]};else{var p=F_(t,W_);c=F_(p.firestore,jb),l=p.C_;var d=new pw(c);u={next:function(t){i[a]&&i[a](new lw(c,d,p,t))},error:i[a+1],complete:i[a+2]},Kb(t.C_)}return function(t,e,n,r){var i=this,o=new k_(r),s=new Uy(e,o,n);return t._s.Ps((function(){return cs(i,void 0,void 0,(function(){var e;return ls(this,(function(n){switch(n.label){case 0:return e=Dy,[4,Rb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.i_(),t._s.Ps((function(){return cs(i,void 0,void 0,(function(){var e;return ls(this,(function(n){switch(n.label){case 0:return e=Ly,[4,Rb(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Ub(c),l,h,u)}function gw(t,e){return function(t,e){var n=this,r=new Sv;return t._s.Ps((function(){return cs(n,void 0,void 0,(function(){var n;return ls(this,(function(i){switch(i.label){case 0:return n=Yy,[4,Pb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Ub(t),e)}function mw(t,e,n){var r=n.docs.get(e.S_),i=new pw(t);return new uw(t,i,e.S_,r,new aw(n.hasPendingWrites,n.fromCache),e.v_)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yw=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=nb(t)}return t.prototype.set=function(t,e,n){this.md();var r=_w(t,this.Yf),i=ow(r.v_,e,n),o=rb(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Zp.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=_w(t,this.Yf);return e instanceof O_&&(e=e.d_),o="string"==typeof e||e instanceof N_?hb(this.Id,"WriteBatch.update",s.S_,e,n,r):lb(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Zp.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=_w(t,this.Yf);return this.Ed=this.Ed.concat(new vd(e.S_,Zp.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new ef(tf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function _w(t,e){if(t instanceof O_&&(t=t.d_),t.firestore!==e)throw new ef(tf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return as(e,t),e.prototype.get=function(e){var n=this,r=_w(e,this.Yf),i=new pw(this.Yf);return t.prototype.get.call(this,e).then((function(t){return new uw(n.Yf,i,r.S_,t.Zf,new aw(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=nb(t)}return t.prototype.get=function(t){var e=this,n=_w(t,this.Yf),r=new sw(this.Yf);return this.Ad.ef([n.S_]).then((function(t){if(!t||1!==t.length)return zh();var i=t[0];if(i instanceof $f)return new Hb(e.Yf,r,n.S_,null,n.v_);if(i instanceof Yf)return new Hb(e.Yf,r,i.key,i,n.v_);throw zh()}))},t.prototype.set=function(t,e,n){var r=_w(t,this.Yf),i=ow(r.v_,e,n),o=rb(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=_w(t,this.Yf);return e instanceof O_&&(e=e.d_),o="string"==typeof e||e instanceof N_?hb(this.Id,"Transaction.update",s.S_,e,n,r):lb(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=_w(t,this.Yf);return this.Ad.delete(e.S_),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){if("undefined"==typeof Uint8Array)throw new ef(tf.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ew(){if("undefined"==typeof atob)throw new ef(tf.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Iw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.fromBase64String=function(t){return Ew(),new e(nf.fromBase64String(t))},e.fromUint8Array=function(t){return ww(),new e(nf.fromUint8Array(t))},e.prototype.toBase64=function(){return Ew(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return ww(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(O_),Tw=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Bb(t=F_(t,jb));var n=Ub(t),r=t.p_(),i=new C_;return qb(n,i,new T_(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Bb(t=F_(t,jb));var e=Ub(t),n=t.p_(),r=new C_;return qb(e,r,new S_(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new ef(tf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Sv;return t.Bf.Tf((function(){return cs(e,void 0,void 0,(function(){var e;return ls(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return cs(this,void 0,void 0,(function(){var e;return ls(this,(function(n){switch(n.label){case 0:return Nv.Kn()?(e=t+"main",[4,Nv.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(cm(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.d_)},t}(),Sw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof jh||(i.Pd=e),i}return as(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){var n,r,i,o;n=this.d_,r=t,i=e,"firestore.googleapis.com"!==(o=(n=F_(n,q_)).V_()).host&&o.host!==r&&Wh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n.g_(Object.assign(Object.assign({},o),{host:r+":"+i,ssl:!1}))},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return cs(e,void 0,void 0,(function(){var e,n;return ls(this,(function(r){switch(r.label){case 0:return[4,Ab(t)];case 1:return e=r.sent(),[4,xb(t)];case 2:return n=r.sent(),[2,(e.yo(!0),i=n,o=Kh(i),o.Nh.delete(0),ay(o))]}var i,o}))}))}))}(Ub(F_(this.d_,jb)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return cs(e,void 0,void 0,(function(){var e,n;return ls(this,(function(r){switch(r.label){case 0:return[4,Ab(t)];case 1:return e=r.sent(),[4,xb(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return cs(this,void 0,void 0,(function(){var e;return ls(this,(function(n){switch(n.label){case 0:return(e=Kh(t)).Nh.add(0),[4,uy(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ub(F_(this.d_,jb)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&R_("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Sv;return t._s.Ps((function(){return cs(e,void 0,void 0,(function(){var e;return ls(this,(function(r){switch(r.label){case 0:return e=e_,[4,Pb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ub(F_(this.d_,jb)))},e.prototype.onSnapshotsInSync=function(t){return e=this.d_,n=t,function(t,e){var n=this,r=new k_(e);return t._s.Ps((function(){return cs(n,void 0,void 0,(function(){var e;return ls(this,(function(n){switch(n.label){case 0:return e=function(t,e){Kh(t).Wh.add(e),e.next()},[4,Rb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.i_(),t._s.Ps((function(){return cs(n,void 0,void 0,(function(){var e;return ls(this,(function(n){switch(n.label){case 0:return e=function(t,e){Kh(t).Wh.delete(e)},[4,Rb(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Ub(e=F_(e,jb)),Fb(n)?n:{next:n});var e,n},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new ef(tf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Uw(this,z_(this.d_,t))}catch(e){throw xw(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ow(this,G_(this.d_,t))}catch(e){throw xw(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Mw(this,function(t,e){if(t=F_(t,q_),x_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ef(tf.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new W_(t,null,(n=e,new yp(df.ct(),n)));var n}(this.d_,t))}catch(e){throw xw(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new Sv;return t._s.Ps((function(){return cs(n,void 0,void 0,(function(){var n;return ls(this,(function(i){switch(i.label){case 0:return[4,(o=t,Nb(o).then((function(t){return t.Sh})))];case 1:return n=i.sent(),new Ib(t._s,n,e,r).run(),[2]}var o}))}))})),r.promise}(Ub(e=this.d_),(function(r){return function(e){return t(new kw(n,e))}(new bw(e,r))}))},e.prototype.batch=function(){var t=this;return Ub(this.d_),new Nw(new yw(this.d_,(function(e){return gw(t.d_,e)})))},e.prototype.loadBundle=function(t){throw new ef(tf.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ef(tf.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(O_),Cw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return as(e,t),e.prototype.Wf=function(t){return new Iw(new nf(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Ow.yd(e,this.firestore,null)},e}(Wb);var kw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new Cw(e),r}return as(e,t),e.prototype.get=function(t){var e=this,n=Vw(t);return this.d_.get(n).then((function(t){return new Dw(e.Yf,new uw(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Vw(t);return n?(P_("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Vw(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,ds([s,e,n],i)),this},e.prototype.delete=function(t){var e=Vw(t);return this.d_.delete(e),this},e}(O_),Nw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.prototype.set=function(t,e,n){var r=Vw(t);return n?(P_("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Vw(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,ds([s,e,n],i)),this},e.prototype.delete=function(t){var e=Vw(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(O_),Aw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return as(e,t),e.prototype.fromFirestore=function(t,e){var n=new cw(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Lw(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Cw(t),n),i.set(n,o)),o},e}(O_);Aw.Vd=new WeakMap;var Ow=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Cw(e),r}return as(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new ef(tf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new B_(n.d_,r,new mf(t)))},e.yd=function(t,n,r){return new e(n,new B_(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Uw(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Uw(this.firestore,z_(this.d_,t))}catch(e){throw xw(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof O_&&(t=t.d_),t instanceof B_&&K_(this.d_,t)},e.prototype.set=function(t,e){e=P_("DocumentReference.set",e);try{return function(t,e,n){t=F_(t,B_);var r=F_(t.firestore,jb),i=ow(t.v_,e,n);return gw(r,[rb(nb(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Zp.Kt())])}(this.d_,t,e)}catch(n){throw xw(n,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?dw(this.d_,t):dw.apply(void 0,ds([this.d_,t,e],n))}catch(i){throw xw(i,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return gw(F_((t=this.d_).firestore,jb),[new vd(t.S_,Zp.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Pw(e),i=Rw(e,(function(e){return new Dw(t.firestore,new uw(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))}));return vw(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=F_(t,B_);var e=F_(t.firestore,jb),n=Ub(e),r=new pw(e);return function(t,e){var n=this,r=new Sv;return t._s.Ps((function(){return cs(n,void 0,void 0,(function(){var n;return ls(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return cs(this,void 0,void 0,(function(){var r,i;return ls(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(s=t,a=e,u=Kh(s),u.persistence.runTransaction("read document","readonly",(function(t){return u.Tc.Ho(t,a)})))];case 1:return(i=o.sent())instanceof Yf?n.resolve(i):i instanceof $f?n.resolve(null):n.reject(new ef(tf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Fv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var s,a,u}))}))},[4,Ob(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new uw(e,r,t.S_,n,new aw(n instanceof Yf&&n.Vt,!0),t.v_)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=F_(t,B_);var e=F_(t.firestore,jb);return Db(Ub(e),t.S_,{source:"server"}).then((function(n){return mw(e,t,n)}))}(this.d_):function(t){t=F_(t,B_);var e=F_(t.firestore,jb);return Db(Ub(e),t.S_).then((function(n){return mw(e,t,n)}))}(this.d_)).then((function(t){return new Dw(e.firestore,new uw(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Aw.gd(this.firestore,t)))},e}(O_);function xw(t,e,n){return t.message=t.message.replace(e,n),t}function Pw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Fb(r))return r}return{}}function Rw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Fb(t[0])?t[0]:Fb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Dw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return as(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ow(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return fw(this.d_,t.d_)},e}(O_),Lw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Dw),Mw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Cw(e),r}return as(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Yb(this.d_,(o=r,s=n,a=Gb("where",i=t),new $b(a,s,o))))}catch(i){throw xw(i,/(orderBy|where)\(\)/,"Query.$1()")}var i,o,s,a},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Yb(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Gb("orderBy",t);return new Xb(r,n)}(t,n)))}catch(r){throw xw(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Yb(this.d_,(j_("limit",n=t),new Jb("limit",n,"F"))))}catch(n){throw xw(n,"limit()","Query.limit()")}var n},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Yb(this.d_,(j_("limitToLast",n=t),new Jb("limitToLast",n,"L"))))}catch(n){throw xw(n,"limitToLast()","Query.limitToLast()")}var n},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yb(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zb("startAt",t,!0)}.apply(void 0,t)))}catch(r){throw xw(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yb(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zb("startAfter",t,!1)}.apply(void 0,t)))}catch(r){throw xw(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yb(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tw("endBefore",t,!0)}.apply(void 0,t)))}catch(r){throw xw(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yb(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tw("endAt",t,!1)}.apply(void 0,t)))}catch(r){throw xw(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Q_(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=F_(t,W_);var e=F_(t.firestore,jb),n=Ub(e),r=new pw(e);return function(t,e){var n=this,r=new Sv;return t._s.Ps((function(){return cs(n,void 0,void 0,(function(){var n;return ls(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return cs(this,void 0,void 0,(function(){var r,i,o,s,a;return ls(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Em(t,e,!0)];case 1:return a=u.sent(),r=new By(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Fv(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Ob(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new lw(e,r,t,n)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=F_(t,W_);var e=F_(t.firestore,jb),n=Ub(e),r=new pw(e);return Lb(n,t.C_,{source:"server"}).then((function(n){return new lw(e,r,t,n)}))}(this.d_):function(t){t=F_(t,W_);var e=F_(t.firestore,jb),n=Ub(e),r=new pw(e);return Kb(t.C_),Lb(n,t.C_).then((function(n){return new lw(e,r,t,n)}))}(this.d_)).then((function(t){return new jw(e.firestore,new lw(e.firestore.d_,e.Xf,e.d_,t._d))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Pw(e),i=Rw(e,(function(e){return new jw(t.firestore,new lw(t.firestore.d_,t.Xf,t.d_,e._d))}));return vw(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Aw.gd(this.firestore,t)))},e}(O_),Fw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return as(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Lw(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(O_),jw=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return as(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Mw(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map((function(e){return new Lw(t.Yf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map((function(t){return new Fw(e.Yf,t)}))},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach((function(r){t.call(e,new Lw(n.Yf,r))}))},e.prototype.isEqual=function(t){return fw(this.d_,t.d_)},e}(O_),Uw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return as(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Ow(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Ow(this.firestore,void 0===t?G_(this.d_):G_(this.d_,t))}catch(e){throw xw(e,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e,n,r,i,o,s=this;return(e=this.d_,n=t,r=F_(e.firestore,jb),i=G_(e),o=ow(e.v_,n),gw(r,[rb(nb(e.firestore),"addDoc",i.S_,o,null!==e.v_,{}).F_(i.S_,Zp.exists(!1))]).then((function(){return i}))).then((function(t){return new Ow(s.firestore,t)}))},e.prototype.isEqual=function(t){return K_(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(Aw.gd(this.firestore,t)))},e}(Mw);function Vw(t){return t instanceof O_&&(t=t.d_),F_(t,B_)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var qw,Bw=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(N_.bind.apply(N_,ds([void 0],e))))||this}return as(e,t),e.documentId=function(){return new e(gf.ht().rt())},e.prototype.isEqual=function(t){return t instanceof O_&&(t=t.d_),t instanceof N_&&this.d_.f_.isEqual(t.f_)},e}(O_),Ww=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.serverTimestamp=function(){var t=new sb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ib("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ab("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ub("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=new cb("increment",t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(O_),Hw={Firestore:Sw,GeoPoint:Y_,Timestamp:hf,Blob:Iw,Transaction:kw,WriteBatch:Nw,DocumentReference:Ow,DocumentSnapshot:Dw,Query:Mw,QueryDocumentSnapshot:Lw,QuerySnapshot:jw,CollectionReference:Uw,FieldPath:Bw,FieldValue:Ww,setLogLevel:function(t){var e;e=t,Uh.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(qw=Oa).INTERNAL.registerComponent(new ea("firestore",(function(t){return function(t,e){return new Sw(t,new jb(t,e),new Tw)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Hw))),qw.registerVersion("@firebase/firestore","2.1.7");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zw,Gw=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Us(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:js(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),Kw=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return qs(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),Qw=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Gw(e)}}catch(qw){}return new Kw},Yw=Qw("localStorage"),$w=Qw("sessionStorage"),Xw=new da("@firebase/database"),Jw=(zw=1,function(){return zw++}),Zw=function(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,ms(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new zs;n.update(e);var r=n.digest();return bs.encodeByteArray(r)},tE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=tE.apply(null,i):n+="object"==typeof i?Us(i):i,n+=" "}return n},eE=null,nE=!0,rE=function(t,e){ms(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Xw.logLevel=sa.VERBOSE,eE=Xw.log.bind(Xw),e&&$w.set("logging_enabled",!0)):"function"==typeof t?eE=t:(eE=null,$w.remove("logging_enabled"))},iE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===nE&&(nE=!1,null===eE&&!0===$w.get("logging_enabled")&&rE(!0)),eE){var n=tE.apply(null,t);eE(n)}},oE=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];iE.apply(void 0,ps([t],e))}},sE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+tE.apply(void 0,ps(t));Xw.error(n)},aE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+tE.apply(void 0,ps(t));throw Xw.error(n),new Error(n)},uE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+tE.apply(void 0,ps(t));Xw.warn(n)},cE=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},lE="[MIN_NAME]",hE="[MAX_NAME]",fE=function(t,e){if(t===e)return 0;if(t===lE||e===hE)return-1;if(e===lE||t===hE)return 1;var n=bE(t),r=bE(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},pE=function(t,e){return t===e?0:t<e?-1:1},dE=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Us(e))},vE=function(t){if("object"!=typeof t||null===t)return Us(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Us(e[i]),r+=":",r+=vE(t[e[i]]);return r+="}"},gE=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var yE=function(t){ms(!cE(t),"Invalid JSON number");var e,n,r,i,o,s=1023;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),s))+s,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},_E=new RegExp("^-?(0*)\\d{1,10}$"),bE=function(t){if(_E.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},wE=function(t){try{t()}catch(qw){setTimeout((function(){var e=qw.stack||"";throw uE("Exception was thrown by user callback.",e),qw}),Math.floor(0))}},EE=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},IE=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function TE(){return new IE("")}function SE(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function CE(t){return t.pieces_.length-t.pieceNum_}function kE(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new IE(t.pieces_,e)}function NE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function AE(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function OE(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function xE(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new IE(e,0)}function PE(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof IE)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new IE(n,0)}function RE(t){return t.pieceNum_>=t.pieces_.length}function DE(t,e){var n=SE(t),r=SE(e);if(null===n)return e;if(n===r)return DE(kE(t),kE(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function LE(t,e){for(var n=OE(t,0),r=OE(e,0),i=0;i<n.length&&i<r.length;i++){var o=fE(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function ME(t,e){if(CE(t)!==CE(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function FE(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(CE(t)>CE(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var jE=function(){function t(t,e){this.errorPrefix_=e,this.parts_=OE(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Zs(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Zs(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Zs(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),UE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,VE=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=Yw.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Yw.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(ms("string"==typeof t,"typeof type must == string"),ms("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return mE(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qE,BE,WE,HE,zE=function(t,e){var n=GE(t),r=n.namespace;"firebase.com"===n.domain&&aE(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||aE("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&uE("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new VE(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new IE(n.pathString)}},GE=function(t){var e="",n="",r="",i="",o="",s=!0,a="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf("/");-1===l&&(l=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(l,h)),l<h&&(i=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(qw){}e+="/"+i}return e}(t.substring(l,h)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=hs(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var a=s.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):uE("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(c=e.indexOf(":"))>=0?(s="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;var p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var d=e.indexOf(".");r=e.substring(0,d).toLowerCase(),n=e.substring(d+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},KE=/[\[\].#$\/\u0000-\u001F\u007F]/,QE=/[\[\].#$\u0000-\u001F\u007F]/,YE=function(t){return"string"==typeof t&&0!==t.length&&!KE.test(t)},$E=function(t){return"string"==typeof t&&0!==t.length&&!QE.test(t)},XE=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!cE(t)||t&&"object"==typeof t&&qs(t,".sv")},JE=function(t,e,n,r,i){i&&void 0===n||ZE($s(t,e,i),n,r)},ZE=function(t,e,n){var r=n instanceof IE?new jE(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(cE(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&Zs(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(mE(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!YE(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),ZE(t,n,r),r.pop()})),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},tI=function(t,e,n,r,i){if(!i||void 0!==n){var o=$s(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];mE(n,(function(t,e){var n=new IE(t);if(ZE(o,e,PE(r,n)),".priority"===NE(n)&&!XE(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=OE(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!YE(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(LE);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&FE(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},eI=function(t,e,n,r){if(!r||void 0!==n){if(cE(n))throw new Error($s(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!XE(n))throw new Error($s(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},nI=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error($s(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},rI=function(t,e,n,r){if(!(r&&void 0===n||YE(n)))throw new Error($s(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},iI=function(t,e,n,r){if(!(r&&void 0===n||$E(n)))throw new Error($s(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},oI=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),iI(t,e,n,r)},sI=function(t,e){if(".info"===SE(e))throw new Error(t+" failed = Can't modify data under /.info/")},aI=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!YE(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),$E(t)}(r))throw new Error($s(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},uI=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error($s(t,e,r)+"must be a boolean.")},cI=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Ys("OnDisconnect.cancel",0,1,arguments.length),Xs("OnDisconnect.cancel",1,t,!0);var e=new Ts;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Ys("OnDisconnect.remove",0,1,arguments.length),sI("OnDisconnect.remove",this.path_),Xs("OnDisconnect.remove",1,t,!0);var e=new Ts;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Ys("OnDisconnect.set",1,2,arguments.length),sI("OnDisconnect.set",this.path_),JE("OnDisconnect.set",1,t,this.path_,!1),Xs("OnDisconnect.set",2,e,!0);var n=new Ts;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Ys("OnDisconnect.setWithPriority",2,3,arguments.length),sI("OnDisconnect.setWithPriority",this.path_),JE("OnDisconnect.setWithPriority",1,t,this.path_,!1),eI("OnDisconnect.setWithPriority",2,e,!1),Xs("OnDisconnect.setWithPriority",3,n,!0);var r=new Ts;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Ys("OnDisconnect.update",1,2,arguments.length),sI("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,uE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tI("OnDisconnect.update",1,t,this.path_,!1),Xs("OnDisconnect.update",2,e,!0);var i=new Ts;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),lI=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Ys("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),hI="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fI=(qE=0,BE=[],function(t){var e,n=t===qE;qE=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=hI.charAt(t%64),t=Math.floor(t/64);ms(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===BE[e];e--)BE[e]=0;BE[e]++}else for(e=0;e<12;e++)BE[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=hI.charAt(BE[e]);return ms(20===i.length,"nextPushId: Length should be 20."),i}),pI=function(t){if("2147483647"===t)return"-";var e=bE(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return hE;var o=n[i],s=hI.charAt(hI.indexOf(o)+1);return n[i]=s,n.slice(0,i+1).join("")},dI=function(t){if("-2147483648"===t)return lE;var e=bE(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=hI.charAt(hI.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},vI=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),gI=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new vI(lE,t),r=new vI(lE,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return vI.MIN},t}(),mI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return WE},set:function(t){WE=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return fE(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw ys("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return vI.MIN},e.prototype.maxPost=function(){return new vI(hE,WE)},e.prototype.makePost=function(t,e){return ms("string"==typeof t,"KeyIndex indexValue must always be a string."),new vI(t,WE)},e.prototype.toString=function(){return".key"},e}(gI),yI=new mI;var _I,bI,wI,EI=function(t){return"number"==typeof t?"number:"+yE(t):"string:"+t},II=function(t){if(t.isLeafNode()){var e=t.val();ms("string"==typeof e||"number"==typeof e||"object"==typeof e&&qs(e,".sv"),"Priority must be a string or number.")}else ms(t===HE||t.isEmpty(),"priority of unexpected type.");ms(t===HE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},TI=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ms(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),II(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return _I},set:function(t){_I=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return RE(e)?this:".priority"===SE(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=SE(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ms(".priority"!==r||1===CE(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(kE(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+EI(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?yE(this.value_):this.value_,this.lazyHash_=Zw(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(ms(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return ms(i>=0,"Unknown leaf type: "+n),ms(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var SI,CI,kI=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?fE(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return vI.MIN},e.prototype.maxPost=function(){return new vI(hE,new TI("[PRIORITY-POST]",wI))},e.prototype.makePost=function(t,e){var n=bI(t);return new vI(e,new TI("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(gI)),NI=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),AI=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:xI.EMPTY_NODE,this.right=null!=o?o:xI.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return xI.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return xI.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),OI=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new AI(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),xI=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,AI.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,AI.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new NI(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new NI(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new NI(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new NI(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new OI,t}(),PI=Math.log(2),RI=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/PI,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),DI=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new AI(s,o.node,AI.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new AI(s,o.node,AI.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new AI(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,AI.BLACK):(a(h,AI.BLACK),a(h,AI.RED))}return o}(new RI(t.length));return new xI(r||e,o)},LI={},MI=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return ms(LI&&kI,"ChildrenNode.ts has not been loaded"),SI=SI||new t({".priority":LI},{".priority":kI})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Bs(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof xI?e:null},t.prototype.hasIndex=function(t){return qs(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){ms(e!==yI,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(vI.Wrap),a=s.getNext();a;)o=o||e.isDefinedOn(a.node),i.push(a),a=s.getNext();r=o?DI(i,e.getCompare()):LI;var u=e.toString(),c=us({},this.indexSet_);c[u]=e;var l=us({},this.indexes_);return l[u]=r,new t(l,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Hs(this.indexes_,(function(t,i){var o=Bs(r.indexSet_,i);if(ms(o,"Missing index implementation for "+i),t===LI){if(o.isDefinedOn(e.node)){for(var s=[],a=n.getIterator(vI.Wrap),u=a.getNext();u;)u.name!==e.name&&s.push(u),u=a.getNext();return s.push(e),DI(s,o.getCompare())}return LI}var c=n.get(e.name),l=t;return c&&(l=l.remove(new vI(e.name,c))),l.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Hs(this.indexes_,(function(t){if(t===LI)return t;var r=n.get(e.name);return r?t.remove(new vI(e.name,r)):t})),this.indexSet_)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function FI(t,e){return fE(t.name,e.name)}function jI(t,e){return fE(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UI=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&II(this.priorityNode_),this.children_.isEmpty()&&ms(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return CI||(CI=new t(new xI(jI),null,MI.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||CI},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?CI:e},t.prototype.getChild=function(t){var e=SE(t);return null===e?this:this.getImmediateChild(e).getChild(kE(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(ms(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new vI(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?CI:this.priorityNode_;return new t(i,s,o)},t.prototype.updateChild=function(t,e){var n=SE(t);if(null===n)return e;ms(".priority"!==SE(t)||1===CE(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(kE(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(kI,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+EI(this.getPriority().val())+":"),this.forEachChild(kI,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":Zw(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new vI(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new vI(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new vI(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,vI.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,vI.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===VI?-1:0},t.prototype.withIndex=function(e){if(e===yI||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===yI||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(kI),r=e.getIterator(kI),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===yI?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),VI=new(function(t){function e(){return t.call(this,new xI(jI),UI.EMPTY_NODE,MI.Default)||this}return as(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return UI.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(UI));Object.defineProperties(vI,{MIN:{value:new vI(lE,UI.EMPTY_NODE)},MAX:{value:new vI(hE,VI)}}),mI.__EMPTY_NODE=UI.EMPTY_NODE,TI.__childrenNodeConstructor=UI,HE=VI,function(t){wI=t}(VI);function qI(t,e){if(void 0===e&&(e=null),null===t)return UI.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),ms(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new TI(t,qI(e));if(t instanceof Array){var n=UI.EMPTY_NODE;return mE(t,(function(e,r){if(qs(t,e)&&"."!==e.substring(0,1)){var i=qI(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(qI(e))}var r=[],i=!1;if(mE(t,(function(t,e){if("."!==t.substring(0,1)){var n=qI(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new vI(t,n)))}})),0===r.length)return UI.EMPTY_NODE;var o=DI(r,FI,(function(t){return t.name}),jI);if(i){var s=DI(r,kI.getCompare());return new UI(o,qI(e),new MI({".priority":s},{".priority":kI}))}return new UI(o,qI(e),MI.Default)}!function(t){bI=t}(qI);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var BI=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return as(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?fE(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return vI.MIN},e.prototype.maxPost=function(){return vI.MAX},e.prototype.makePost=function(t,e){var n=qI(t);return new vI(e,n)},e.prototype.toString=function(){return".value"},e}(gI)),WI=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,ms(!RE(e)&&".priority"!==SE(e),"Can't create PathIndex with empty path or .priority key"),n}return as(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?fE(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=qI(t),r=UI.EMPTY_NODE.updateChild(this.indexPath_,n);return new vI(e,r)},e.prototype.maxPost=function(){var t=UI.EMPTY_NODE.updateChild(this.indexPath_,VI);return new vI(hE,t)},e.prototype.toString=function(){return OE(this.indexPath_,0).join("/")},e}(gI),HI=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Ys("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Ys("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Ys("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Ys("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Ys("DataSnapshot.child",0,1,arguments.length),e=String(e),iI("DataSnapshot.child",1,e,!1);var n=new IE(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,kI)},t.prototype.hasChild=function(t){Ys("DataSnapshot.hasChild",1,1,arguments.length),iI("DataSnapshot.hasChild",1,t,!1);var e=new IE(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Ys("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Ys("DataSnapshot.forEach",1,1,arguments.length),Xs("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),kI))}))},t.prototype.hasChildren=function(){return Ys("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Ys("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Ys("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),zI=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Us(this.snapshot.exportVal())},t}(),GI=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),KI=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new zI("value",this,new HI(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){ms(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new GI(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),QI=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,qs(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new GI(this,t,e):null},t.prototype.createEvent=function(t,e){ms(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new zI(t.type,this,new HI(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){ms(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function YI(t){return{type:"value",snapshotNode:t}}function $I(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function XI(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function JI(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ZI,tT=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){ms(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(XI(e,s)):ms(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange($I(e,n)):o.trackChildChange(JI(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(kI,(function(t,r){e.hasChild(t)||n.trackChildChange(XI(t,r))})),e.isLeafNode()||e.forEachChild(kI,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(JI(e,r,i))}else n.trackChildChange($I(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?UI.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),eT=function(){function t(e){this.indexedFilter_=new tT(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new vI(e,n))||(n=UI.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=UI.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(UI.EMPTY_NODE);var i=this;return e.forEachChild(kI,(function(t,e){i.matches(new vI(t,e))||(r=r.updateImmediateChild(t,UI.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),nT=function(){function t(t){this.rangedFilter_=new eT(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new vI(e,n))||(n=UI.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=UI.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=UI.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(UI.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){s=i.getNext();!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,UI.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var a=t;ms(a.numChildren()===this.limit_,"");var u=new vI(e,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(a.hasChild(e)){for(var h=a.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(l&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(JI(e,n,h)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(XI(e,h));var d=a.updateImmediateChild(e,UI.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange($I(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?t:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(XI(c.name,c.node)),i.trackChildChange($I(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(c.name,UI.EMPTY_NODE)):t},t}(),rT=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kI}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return ms(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return ms(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lE},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return ms(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return ms(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hE},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return ms(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===kI},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function oT(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function sT(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function aT(t,e,n){var r;if(t.index_===yI)"string"==typeof e&&(e=pI(e)),r=sT(t,e,n);else{r=sT(t,e,null==n?hE:pI(n))}return r.startAfterSet_=!0,r}function uT(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function cT(t,e,n){var r;return t.index_===yI?("string"==typeof e&&(e=dI(e)),r=uT(t,e,n)):r=uT(t,e,null==n?lE:dI(n)),r.endBeforeSet_=!0,r}function lT(t,e){var n=t.copy();return n.index_=e,n}function hT(t){var e,n={};return t.isDefault()||(t.index_===kI?e="$priority":t.index_===BI?e="$value":t.index_===yI?e="$key":(ms(t.index_ instanceof WI,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Us(e),t.startSet_&&(n.startAt=Us(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Us(t.indexStartName_))),t.endSet_&&(n.endAt=Us(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Us(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}var fT=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return ms(ZI,"Reference.ts has not been loaded"),ZI},set:function(t){ZI=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===yI){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==lE)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==hE)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===kI){if(null!=e&&!XE(e)||null!=n&&!XE(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ms(t.getIndex()instanceof WI||t.getIndex()===BI,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Ys("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Ys("Query.on",2,4,arguments.length),nI("Query.on",1,e,!1),Xs("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new KI(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new QI(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Ys("Query.off",0,3,arguments.length),nI("Query.off",1,t,!0),Xs("Query.off",2,e,!0),Js("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new KI(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new QI(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var o=this;Ys("Query.once",1,4,arguments.length),nI("Query.once",1,e,!1),Xs("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),a=!0,u=new Ts;u.promise.catch((function(){}));var c=function(t){a&&(a=!1,o.off(e,c),n&&n.bind(s.context)(t),u.resolve(t))};return this.on(e,c,(function(t){o.off(e,c),s.cancel&&s.cancel.bind(s.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(Ys("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,iT(this.queryParams_,e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Ys("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,oT(this.queryParams_,e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Ys("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');iI("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new IE(e);if(RE(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new WI(n),i=lT(this.queryParams_,r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Ys("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=lT(this.queryParams_,yI);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Ys("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=lT(this.queryParams_,kI);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Ys("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=lT(this.queryParams_,BI);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Ys("Query.startAt",0,2,arguments.length),JE("Query.startAt",1,e,this.path,!0),rI("Query.startAt",2,n,!0);var r=sT(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){void 0===e&&(e=null),Ys("Query.startAfter",0,2,arguments.length),JE("Query.startAfter",1,e,this.path,!1),rI("Query.startAfter",2,n,!0);var r=aT(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Ys("Query.endAt",0,2,arguments.length),JE("Query.endAt",1,e,this.path,!0),rI("Query.endAt",2,n,!0);var r=uT(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){void 0===e&&(e=null),Ys("Query.endBefore",0,2,arguments.length),JE("Query.endBefore",1,e,this.path,!1),rI("Query.endBefore",2,n,!0);var r=cT(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Ys("Query.equalTo",1,2,arguments.length),JE("Query.equalTo",1,t,this.path,!1),rI("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Ys("Query.toString",0,0,arguments.length),this.repo.toString()+AE(this.path)},t.prototype.toJSON=function(){return Ys("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return function(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==kI&&(e.i=t.index_.toString()),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.queryParams_)},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=vE(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Ys("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=ME(this.path,e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Xs(t,3,r.cancel,!0),r.context=n,Js(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error($s(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),pT=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),dT=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=PE(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),vT=function(t,e,n){return t&&"object"==typeof t?(ms(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?gT(t[".sv"],e,n):"object"==typeof t[".sv"]?mT(t[".sv"],e):void ms(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},gT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ms(!1,"Unexpected server value: "+t)}},mT=function(t,e,n){t.hasOwnProperty("increment")||ms(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&ms(!1,"Unexpected increment value: "+r);var i=e.node();if(ms(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},yT=function(t,e,n,r){return bT(e,new dT(n,t),r)},_T=function(t,e,n){return bT(t,new pT(e),n)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e,n){var r,i=t.getPriority().val(),o=vT(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=vT(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new TI(a,qI(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new TI(o))),u.forEachChild(kI,(function(t,i){var o=bT(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wT,ET,IT=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!RE(t)&&this.children.size>0){var e=SE(t);return t=kE(t),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(RE(e))this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=SE(e);this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=kE(e),i.remember(e,n)}},t.prototype.forget=function(t){if(RE(t))return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(kI,(function(t,e){n.remember(new IE(t),e)})),this.forget(t)}if(this.children.size>0){var r=SE(t);if(t=kE(t),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new IE(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ET=wT||(wT={}))[ET.OVERWRITE=0]="OVERWRITE",ET[ET.MERGE=1]="MERGE",ET[ET.ACK_USER_WRITE=2]="ACK_USER_WRITE",ET[ET.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var ST,CT=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=wT.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(RE(this.path)){if(null!=this.affectedTree.value)return ms(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new IE(e));return new t(TE(),n,this.revert)}return ms(SE(this.path)===e,"operationForChild called for unrelated child."),new t(kE(this.path),this.affectedTree,this.revert)},t}(),kT=function(){function t(t,e){void 0===e&&(ST||(ST=new xI(pE)),e=ST),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return mE(e,(function(t,e){n=n.set(new IE(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:TE(),value:this.value};if(RE(t))return null;var n=SE(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(kE(t),e);return null!=i?{path:PE(new IE(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(RE(e))return this;var n=SE(e),r=this.children.get(n);return null!==r?r.subtree(kE(e)):new t(null)},t.prototype.set=function(e,n){if(RE(e))return new t(n,this.children);var r=SE(e),i=(this.children.get(r)||new t(null)).set(kE(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(RE(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=SE(e),r=this.children.get(n);if(r){var i=r.remove(kE(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(RE(t))return this.value;var e=SE(t),n=this.children.get(e);return n?n.get(kE(t)):null},t.prototype.setTree=function(e,n){if(RE(e))return n;var r=SE(e),i=(this.children.get(r)||new t(null)).setTree(kE(e),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(TE(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(PE(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,TE(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(RE(t))return null;var i=SE(t),o=this.children.get(i);return o?o.findOnPath_(kE(t),PE(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,TE(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(RE(e))return this;this.value&&r(n,this.value);var i=SE(e),o=this.children.get(i);return o?o.foreachOnPath_(kE(e),PE(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(TE(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(PE(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),NT=function(){function t(t,e){this.source=t,this.path=e,this.type=wT.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return RE(this.path)?new t(this.source,TE()):new t(this.source,kE(this.path))},t}(),AT=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=wT.OVERWRITE}return t.prototype.operationForChild=function(e){return RE(this.path)?new t(this.source,TE(),this.snap.getImmediateChild(e)):new t(this.source,kE(this.path),this.snap)},t}(),OT=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=wT.MERGE}return t.prototype.operationForChild=function(e){if(RE(this.path)){var n=this.children.subtree(new IE(e));return n.isEmpty()?null:n.value?new AT(this.source,TE(),n.value):new t(this.source,TE(),n)}return ms(SE(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,kE(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),xT=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(RE(t))return this.isFullyInitialized()&&!this.filtered_;var e=SE(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),PT=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new xT(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new xT(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t}(),RT=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;ms("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),ms(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,JI(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,XI(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,$I(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw ys("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,JI(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),DT=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),LT=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new xT(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),MT=function(t,e){this.viewCache=t,this.changes=e},FT=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){ms(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),ms(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,s,a=new RT;if(n.type===wT.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,a):(ms(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.getServerCache().isFiltered()&&!RE(u.path),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,s,a))}else if(n.type===wT.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,a):(ms(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,s,a))}else if(n.type===wT.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(e,l.path,r,i,a):this.ackUserWrite_(e,l.path,l.affectedTree,r,i,a)}else{if(n.type!==wT.LISTEN_COMPLETE)throw ys("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,a)}var h=a.getChanges();return t.maybeAddValueEvent_(e,o,h),new MT(o,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(YI(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,a=void 0;if(RE(e))if(ms(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof UI?u:UI.EMPTY_NODE,l=n.calcCompleteEventChildren(c);s=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=SE(e);if(".priority"===f){ms(1===CE(e),"Can't have a priority with additional path components");var p=o.getNode();a=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,p,a);s=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var v=kE(e),g=void 0;if(o.isCompleteForChild(f)){a=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),a);g=null!=m?o.getNode().getImmediateChild(f).updateChild(v,m):o.getNode().getImmediateChild(f)}else g=n.calcCompleteChild(f,t.getServerCache());s=null!=g?this.filter_.updateChild(o.getNode(),f,g,v,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||RE(e),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(RE(e))a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);a=c.updateFullNode(u.getNode(),l,null)}else{var h=SE(e);if(!u.isCompleteForPath(e)&&CE(e)>1)return t;var f=kE(e),p=u.getNode().getImmediateChild(h).updateChild(f,n);a=".priority"===h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,DT,null)}var d=t.updateServerSnap(a,u.isFullyInitialized()||RE(e),c.filtersNodes()),v=new LT(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),c=new LT(r,t,i);if(RE(e))a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=SE(e);if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var h=kE(e),f=u.getNode().getImmediateChild(l),p=void 0;if(RE(h))p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===NE(h)&&d.getChild(xE(h)).isEmpty()?d:d.updateChild(h,n):UI.EMPTY_NODE}if(f.equals(p))s=t;else{var v=this.filter_.updateChild(u.getNode(),l,p,h,c,o);s=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,u=e;return r.foreach((function(r,c){var l=PE(n,r);t.cacheHasChild_(e,SE(l))&&(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),r.foreach((function(r,c){var l=PE(n,r);t.cacheHasChild_(e,SE(l))||(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=RE(e)?n:new kT(null).setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new IE(e),h,r,i,o,s)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=a.applyMerge_(h,n);c=a.applyServerOverwrite_(c,new IE(e),f,r,i,o,s)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(RE(e)&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(RE(e)){var u=new kT(null);return a.getNode().forEachChild(yI,(function(t,e){u=u.set(new IE(t),e)})),this.applyServerMerge_(t,e,u,r,i,s,o)}return t}var c=new kT(null);return n.foreach((function(t,n){var r=PE(e,t);a.isCompleteForPath(r)&&(c=c.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||RE(e),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,DT,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new LT(n,t,r),a=t.getEventCache().getNode(),u=void 0;if(RE(e)||".priority"===SE(e)){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();ms(l instanceof UI,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(a,c,i)}else{var h=SE(e),f=n.calcCompleteChild(h,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(h)&&(f=a.getImmediateChild(h)),(u=null!=f?this.filter_.updateChild(a,h,f,kE(e),s,i):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(a,h,UI.EMPTY_NODE,kE(e),s,i):a).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(TE()),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),jT=function(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e,n,r,i,o){var s=r.filter((function(t){return t.type===n}));s.sort((function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw ys("Should only compare child_ events.");var r=new vI(e.childName,e.snapshotNode),i=new vI(n.childName,n.snapshotNode);return t.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e,n)})),s.forEach((function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,o);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}var VT,qT=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new tT(r.getIndex()),o=(n=r).loadsAllData()?new tT(n.getIndex()):n.hasLimit()?new nT(n):new eT(n);this.processor_=new FT(o);var s=e.getServerCache(),a=e.getEventCache(),u=i.updateFullNode(UI.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(UI.EMPTY_NODE,a.getNode(),null),l=new xT(u,s.isFullyInitialized(),i.filtersNodes()),h=new xT(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=new PT(h,l),this.eventGenerator_=new jT(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!RE(t)&&!e.getImmediateChild(SE(t)).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){ms(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===wT.MERGE&&null!==t.source.queryId&&(ms(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),ms(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),ms(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(kI,(function(t,e){n.push($I(t,e))}));return e.isFullyInitialized()&&n.push(YI(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return function(t,e,n,r){var i=[],o=[];return e.forEach((function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))})),UT(t,i,"child_removed",e,r,n),UT(t,i,"child_added",e,r,n),UT(t,i,"child_moved",o,r,n),UT(t,i,"child_changed",e,r,n),UT(t,i,"value",e,r,n),i}(this.eventGenerator_,t,e,r)},t}(),BT=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return ms(VT,"Reference.ts has not been loaded"),VT},set:function(t){ms(!VT,"__referenceConstructor has already been defined"),VT=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var s=this.views.get(o);return ms(null!=s,"SyncTree gave us an op for an invalid query."),s.applyOperation(t,e,n)}var a=[];try{for(var u=hs(this.views.values()),c=u.next();!c.done;c=u.next()){s=c.value;a=a.concat(s.applyOperation(t,e,n))}}catch(l){r={error:l}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a},t.prototype.getView=function(t,e,n,r){var i=t.queryIdentifier(),o=this.views.get(i);if(!o){var s=e.calcCompleteEventCache(r?n:null),a=!1;s?a=!0:n instanceof UI?(s=e.calcCompleteEventChildren(n),a=!1):(s=UI.EMPTY_NODE,a=!1);var u=new PT(new xT(s,a,!1),new xT(n,r,!1));return new qT(t,u)}return o},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=this.getView(t,n,r,i);return this.views.has(t.queryIdentifier())||this.views.set(t.queryIdentifier(),o),o.addEventRegistration(e),o.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,s=e.queryIdentifier(),a=[],u=[],c=this.hasCompleteView();if("default"===s)try{for(var l=hs(this.views.entries()),h=l.next();!h.done;h=l.next()){var f=fs(h.value,2),p=f[0],d=f[1];u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(p),d.getQuery().getQueryParams().loadsAllData()||a.push(d.getQuery()))}}catch(v){i={error:v}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(d=this.views.get(s))&&(u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(s),d.getQuery().getQueryParams().loadsAllData()||a.push(d.getQuery())));return c&&!this.hasCompleteView()&&a.push(new t.__referenceConstructor(e.repo,e.path)),{removed:a,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=hs(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=hs(this.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r||s.getCompleteServerCache(t)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=hs(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),WT=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new kT(null))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e,n){if(RE(e))return new WT(new kT(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=DE(i,e);return o=o.updateChild(s,n),new WT(t.writeTree_.set(i,o))}var a=new kT(n),u=t.writeTree_.setTree(e,a);return new WT(u)}function zT(t,e,n){var r=t;return mE(n,(function(t,n){r=HT(r,PE(e,t),n)})),r}function GT(t,e){if(RE(e))return WT.empty();var n=t.writeTree_.setTree(e,new kT(null));return new WT(n)}function KT(t,e){return null!=QT(t,e)}function QT(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(DE(n.path,e)):null}function YT(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(kI,(function(t,n){e.push(new vI(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new vI(t,n.value))})),e}function $T(t,e){if(RE(e))return t;var n=QT(t,e);return new WT(null!=n?new kT(n):t.writeTree_.subtree(e))}function XT(t){return t.writeTree_.isEmpty()}function JT(t,e){return ZT(TE(),t.writeTree_,e)}function ZT(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?(ms(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=ZT(PE(t,e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(PE(t,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tS=function(){function t(){this.visibleWrites_=WT.empty(),this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new eS(t,this)},t.prototype.addOverwrite=function(t,e,n,r){ms(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=HT(this.visibleWrites_,t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){ms(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=zT(this.visibleWrites_,t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));ms(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var a=this.allWrites_[s];a.visible&&(s>=n&&this.recordContainsPath_(a,r.path)?i=!1:FE(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=GT(this.visibleWrites_,r.path):mE(r.children,(function(t){e.visibleWrites_=GT(e.visibleWrites_,PE(r.path,t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return QT(this.visibleWrites_,t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=$T(this.visibleWrites_,e);if(!i&&XT(o))return n;if(i||null!=n||KT(o,TE())){return JT(t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(FE(t.path,e)||FE(e,t.path))}),e),n||UI.EMPTY_NODE)}return null}var s=QT(this.visibleWrites_,e);if(null!=s)return s;var a=$T(this.visibleWrites_,e);return XT(a)?n:null!=n||KT(a,TE())?JT(a,n||UI.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=UI.EMPTY_NODE,r=QT(this.visibleWrites_,t);if(r)return r.isLeafNode()||r.forEachChild(kI,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=$T(this.visibleWrites_,t);return e.forEachChild(kI,(function(t,e){var r=JT($T(i,new IE(t)),e);n=n.updateImmediateChild(t,r)})),YT(i).forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return YT($T(this.visibleWrites_,t)).forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){ms(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=PE(t,e);if(KT(this.visibleWrites_,i))return null;var o=$T(this.visibleWrites_,i);return XT(o)?r.getChild(e):JT(o,r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=PE(t,e),i=QT(this.visibleWrites_,r);return null!=i?i:n.isCompleteForChild(e)?JT($T(this.visibleWrites_,r),n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return QT(this.visibleWrites_,t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=$T(this.visibleWrites_,t),u=QT(a,TE());if(null!=u)s=u;else{if(null==e)return[];s=JT(a,e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return FE(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&FE(PE(t.path,n),e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,TE()),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=WT.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)FE(n,s)?r=HT(r,a=DE(n,s),o.snap):FE(s,n)&&(a=DE(s,n),r=HT(r,TE(),o.snap.getChild(a)));else{if(!o.children)throw ys("WriteRecord should have .snap or .children");if(FE(n,s))r=zT(r,a=DE(n,s),o.children);else if(FE(s,n))if(RE(a=DE(s,n)))r=zT(r,TE(),o.children);else{var u=Bs(o.children,SE(a));if(u){var c=u.getChild(kE(a));r=HT(r,TE(),c)}}}}}return r},t}(),eS=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(PE(this.treePath_,t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(PE(this.treePath_,e),this.writeTree_)},t}(),nS=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=new kT(null),this.pendingWriteTree_=new tS,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new AT({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=kT.fromObject(e);return this.applyOperationToSyncPoints_(new OT({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=new kT(null);return null!=n.snap?r=r.set(TE(),!0):mE(n.children,(function(t){r=r.set(new IE(t),!0)})),this.applyOperationToSyncPoints_(new CT(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new AT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))},t.prototype.applyServerMerge=function(t,e){var n=kT.fromObject(e);return this.applyOperationToSyncPoints_(new OT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new NT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=DE(s,e),c=new AT(TT(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=DE(s,e),c=kT.fromObject(n),l=new OT(TT(a),u,c);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=DE(o,e),u=new NT(TT(s),a);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=DE(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,a=this.syncPointTree_.get(r);(a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(TE())):(a=new BT,this.syncPointTree_=this.syncPointTree_.set(r,a)),null!=i)?s=!0:(s=!1,i=UI.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(TE());n&&(i=i.updateImmediateChild(t,n))})));var u=a.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);ms(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=t.getNextQueryTag_();this.queryToTagMap.set(c,l),this.tagToQueryMap.set(l,c)}var h=this.pendingWriteTree_.childWrites(r),f=a.addEventRegistration(e,n,h,i,s);if(!u&&!o){var p=a.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var u=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;a=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],g=v.getQuery(),m=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),m.hashFn,m.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(c)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=DE(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.getServerValue=function(t){var e=t.path,n=null;this.syncPointTree_.foreachOnPath(e,(function(t,r){var i=DE(t,e);n=n||r.getCompleteServerCache(i)}));var r=this.syncPointTree_.get(e);r?n=n||r.getCompleteServerCache(TE()):(r=new BT,this.syncPointTree_=this.syncPointTree_.set(e,r));var i=null!=n,o=i?new xT(n,!0,!1):null,s=this.pendingWriteTree_.childWrites(t.path);return r.getView(t,s,i?o.getNode():UI.EMPTY_NODE,i).getCompleteNode()},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),mE(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(r);if(i)ms(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold((function(t,e,n){if(!RE(t)&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),mE(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var l=u[c];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||UI.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return ms(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new IE(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);ms(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(TE()))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(RE(t.path))return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(TE());null==n&&null!=i&&(n=i.getCompleteServerCache(TE()));var o=[],s=SE(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(TE());null==n&&null!=o&&(n=o.getCompleteServerCache(TE()));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(s=s.concat(i.applyOperationDescendantsHelper_(c,o,a,u)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),rS=function(){function t(){this.rootNode_=UI.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),iS=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),qs(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Es(this.counters_)},t}(),oS=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new iS),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),sS=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=us({},t);return this.last_&&mE(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),aS=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new sS(t);var n=1e4+2e4*Math.random();EE(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;mE(e,(function(e,i){i>0&&qs(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),EE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),uS=function(){this.eventLists_=[],this.recursionDepth_=0};function cS(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||ME(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function lS(t,e,n){cS(t,n),fS(t,(function(t){return ME(t,e)}))}function hS(t,e,n){cS(t,n),fS(t,(function(t){return FE(t,e)||FE(e,t)}))}function fS(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i)e(i.path)?(pS(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}n&&(t.eventLists_=[]),t.recursionDepth_--}function pS(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();eE&&iE("event: "+n.toString()),wE(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dS=function(){function t(t){this.allowedEvents_=t,this.listeners_={},ms(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=ps(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){ms(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),vS=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return as(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return ms("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(dS),gS=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Cs()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return as(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return ms("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(dS),mS=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&wE((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),yS=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oE(t),this.stats_=oS.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new mS(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new _S((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=fs(t,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=fs(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&UE.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Us(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n,r=(n=_s(e),bs.encodeByteArray(n,!0)),i=gE(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(t){var e=Us(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),_S=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Jw(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(qw){iE("frame writing exception"),qw.stack&&iE(qw.stack),iE(qw)}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||iE("No IE domain setting required")}catch(qw){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){iE("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(qw){}}),Math.floor(1))},t}(),bS="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){bS=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ES=null;"undefined"!=typeof MozWebSocket?ES=MozWebSocket:"undefined"!=typeof WebSocket&&(ES=WebSocket);var IS,TS,SS=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oE(this.connId),this.stats_=oS.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.hostname&&UE.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yw.set("previous_websocket_failure",!0);try{if(Os());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new ES(this.connURL,[],r)}}catch(qw){this.log_("Error instantiating WebSocket.");var i=qw.message||qw.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ES&&!t.forceDisallow_},t.previouslyFailed=function(){return Yw.isInMemoryStorage||!0===Yw.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){Yw.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=js(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(ms(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Us(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=gE(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(qw){this.log_("Exception thrown from WebSocket.send():",qw.message||qw.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),CS=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[yS,SS]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=SS&&SS.isAvailable(),o=i&&!SS.previouslyFailed();if(e.webSocketOnly&&(i||uE("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[SS];else{var s=this.transports_=[];try{for(var a=hs(t.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var c=u.value;c&&c.isAvailable()&&s.push(c)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),kS=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oE("c:"+this.id+":"),this.transportManager_=new CS(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=EE((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=dE("t",t),n=dE("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=dE("t",t),n=dE("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=dE("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?sE("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sE("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&uE("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),EE((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):EE((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yw.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),NS=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),AS=function(t){function e(n,r,i,o,s,a,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=s,c.authTokenProvider_=a,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=oE("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!Os())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),vS.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&gS.getInstance().on("online",c.onOnline_,c),c}return as(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Us(i)),ms(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new Ts,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[o];void 0!==t&&i===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ms(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),ms(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&qs(t,"w")){var n=Bs(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();uE("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e;(t&&40===t.length||"object"==typeof(e=Vs(t).claims)&&!0===e.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t,e=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(t=Vs(n).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(t){var r=t.s,i=t.d||"error";e.authToken_===n&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),ms(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Us(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):sE("Unrecognized action received from server: "+Us(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;ms(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this,a=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())};this.realtime_={close:l,sendRequest:function(t){ms(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(t){u?iE("getToken() completed but was canceled"):(iE("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,c=new kS(o,s.repoInfo_,s.applicationId_,n,r,i,(function(t){uE(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")}),a))})).then(null,(function(e){s.log_("Failed to get token: "+e),u||(t.repoInfo_.nodeAdmin&&uE(e),l())}))}},e.prototype.interrupt=function(t){iE("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){iE("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Ws(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return vE(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new IE(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){iE("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=hs(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,hs(s.values())),u=a.next();!u.done;u=a.next()){var c=u.value;this.sendListen_(c)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+bS.replace(/\./g,"-")]=1,Cs()?t["framework.cordova"]=1:As()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=gS.getInstance().currentlyOnline();return Ws(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(NS),OS=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=oE("p:rest:"),i.listens_={},i}return as(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(ms(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var a=e.getListenId_(t,r),u={};this.listens_[a]=u;var c=hT(t.getQueryParams());this.restRequest_(s+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),Bs(o.listens_,a)===u)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=hT(t.getQueryParams()),r=t.path.toString(),i=new Ts;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+s);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=js(a.responseText)}catch(qw){uE("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&uE("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))},e}(NS),xS=function(){this.children={},this.childCount=0,this.value=null},PS=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new xS),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof IE?e:new IE(e),r=this,i=SE(n);null!==i;){r=new t(i,r,Bs(r.node_.children,i)||new xS),i=SE(n=kE(n))}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){ms(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;mE(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new IE(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=qs(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(TS=IS||(IS={}))[TS.RUN=0]="RUN",TS[TS.SENT=1]="SENT",TS[TS.COMPLETED=2]="COMPLETED",TS[TS.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",TS[TS.NEEDS_ABORT=4]="NEEDS_ABORT";var RS=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new uS,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new IT,this.transactionQueueTree_=new PS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=oS.getCollection(this.repoInfo_),this.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new OS(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Us(e)}catch(qw){throw new Error("Invalid authOverride provided: "+qw)}}this.persistentConnection_=new AS(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),this.statsReporter_=oS.getOrCreateReporter(this.repoInfo_,(function(){return new aS(t.stats_,t.server_)})),this.infoData_=new rS,this.infoSyncTree_=new nS({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e.path);return s.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new nS({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);hS(t.eventQueue_,e.path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new IE(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new IE(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=Hs(e,(function(t){return qI(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var a=qI(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,a,r)}else if(n){var u=Hs(e,(function(t){return qI(t)}));o=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=qI(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var l=i;o.length>0&&(l=this.rerunTransactions_(i)),hS(this.eventQueue_,l,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;mE(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new IE("/.info/"+t),r=qI(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);hS(this.eventQueue_,n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this,n=this.serverSyncTree_.getServerValue(t);return null!=n?Promise.resolve(new HI(n,t.getRef(),t.getQueryParams().getIndex())):this.server_.get(t).then((function(n){var r=qI(n),i=e.serverSyncTree_.applyServerOverwrite(t.path,r);return lS(e.eventQueue_,t.path,i),Promise.resolve(new HI(r,t.getRef(),t.getQueryParams().getIndex()))}),(function(n){return e.log_("get for query "+Us(t)+" failed: "+n),Promise.reject(new Error(n))}))},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=qI(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),u=_T(s,a,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);cS(this.eventQueue_,l),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||uE("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(c,!o);hS(i.eventQueue_,t,s),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),hS(this.eventQueue_,h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(mE(e,(function(e,n){i=!1,s[e]=yT(PE(t,e),qI(n),r.serverSyncTree_,o)})),i)iE("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,s,a);cS(this.eventQueue_,u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||uE("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),u=s.length>0?r.rerunTransactions_(t):t;hS(r.eventQueue_,u,s),r.callOnCompleteCallback(n,e,i)})),mE(e,(function(e){var n=r.abortTransactions_(PE(t,e));r.rerunTransactions_(n)})),hS(this.eventQueue_,t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new IT;this.onDisconnect_.forEachTree(TE(),(function(r,i){var o=yT(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(TE(),(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new IT,hS(this.eventQueue_,TE(),r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=qI(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=qI(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Ws(e))return iE("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&mE(e,(function(e,n){var i=qI(n);r.onDisconnect_.remember(PE(t,e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===SE(t.path)?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),lS(this.eventQueue_,t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===SE(t.path)?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),lS(this.eventQueue_,t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new sS(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);mE(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),iE.apply(void 0,ps([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&wE((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new US(this))},enumerable:!1,configurable:!0}),t.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new DS(this,t);o.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:Jw(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=this.getLatestState_(t);s.currentInputSnapshot=a;var u=s.update(a.val());if(void 0===u){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new HI(s.currentInputSnapshot,new DS(this,s.path),kI);s.onComplete(null,!1,c)}}else{ZE("transaction failed: Data returned ",u,s.path),s.status=IS.RUN;var l=this.transactionQueueTree_.subTree(t),h=l.getValue()||[];h.push(s),l.setValue(h);var f=void 0;if("object"==typeof u&&null!==u&&qs(u,".priority"))f=Bs(u,".priority"),ms(XE(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else f=(this.serverSyncTree_.calcCompleteEventCache(t)||UI.EMPTY_NODE).getPriority().val();var p=this.generateServerValues(),d=qI(u,f),v=_T(d,a,p);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=v,s.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,v,s.currentWriteId,s.applyLocally);hS(this.eventQueue_,t,g),this.sendReadyTransactions_()}},t.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||UI.EMPTY_NODE},t.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);ms(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===IS.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},t.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,s=i.hash(),a=0;a<e.length;a++){var u=e[a];ms(u.status===IS.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=IS.SENT,u.retryCount++;var c=DE(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=t;this.server_.put(h.toString(),l,(function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=IS.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,u=new DS(n,e[s].path),c=new HI(a,u,kI);o.push(e[s].onComplete.bind(null,null,!0,c))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),hS(n.eventQueue_,t,i);for(s=0;s<o.length;s++)wE(o[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status===IS.SENT_NEEDS_ABORT?e[s].status=IS.NEEDS_ABORT:e[s].status=IS.RUN;else{uE("transaction at "+h.toString()+" failed: "+r);for(s=0;s<e.length;s++)e[s].status=IS.NEEDS_ABORT,e[s].abortReason=r}n.rerunTransactions_(t)}}),s)},t.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},t.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===IS.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var a=t[s],u=DE(e,a.path),c=!1,l=void 0;if(ms(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===IS.NEEDS_ABORT)c=!0,l=a.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===IS.RUN)if(a.retryCount>=25)c=!0,l="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,o);a.currentInputSnapshot=h;var f=t[s].update(h.val());if(void 0!==f){ZE("transaction failed: Data returned ",f,a.path);var p=qI(f);"object"==typeof f&&null!=f&&qs(f,".priority")||(p=p.updatePriority(h.getPriority()));var d=a.currentWriteId,v=this.generateServerValues(),g=_T(p,h,v);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(d),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(a.path,g,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(d,!0))}else c=!0,l="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(hS(this.eventQueue_,e,i),i=[],c&&(t[s].status=IS.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if("nodata"===l){var m=new DS(this,t[s].path),y=t[s].currentInputSnapshot,_=new HI(y,m,kI);r.push(t[s].onComplete.bind(null,null,!1,_))}else r.push(t[s].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)wE(r[s]);this.sendReadyTransactions_()}},t.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=SE(t);null!==e&&null===n.getValue();)n=n.subTree(e),e=SE(t=kE(t));return n},t.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},t.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},t.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==IS.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},t.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},t.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===IS.SENT_NEEDS_ABORT);else if(e[o].status===IS.SENT)ms(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=IS.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(ms(e[o].status===IS.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,hS(this.eventQueue_,t.path(),r);for(o=0;o<n.length;o++)wE(n[o])}},t}(),DS=function(t){function e(e,n){if(!(e instanceof RS))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,new rT,!1)||this}return as(e,t),e.prototype.getKey=function(){return Ys("Reference.key",0,0,arguments.length),RE(this.path)?null:NE(this.path)},e.prototype.child=function(t){return Ys("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof IE||(null===SE(this.path)?oI("Reference.child",1,t,!1):iI("Reference.child",1,t,!1)),new e(this.repo,PE(this.path,t))},e.prototype.getParent=function(){Ys("Reference.parent",0,0,arguments.length);var t=xE(this.path);return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Ys("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Ys("Reference.set",1,2,arguments.length),sI("Reference.set",this.path),JE("Reference.set",1,t,this.path,!1),Xs("Reference.set",2,e,!0);var n=new Ts;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Ys("Reference.update",1,2,arguments.length),sI("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,uE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tI("Reference.update",1,t,this.path,!1),Xs("Reference.update",2,e,!0);var i=new Ts;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Ys("Reference.setWithPriority",2,3,arguments.length),sI("Reference.setWithPriority",this.path),JE("Reference.setWithPriority",1,t,this.path,!1),eI("Reference.setWithPriority",2,e,!1),Xs("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new Ts;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Ys("Reference.remove",0,1,arguments.length),sI("Reference.remove",this.path),Xs("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Ys("Reference.transaction",1,3,arguments.length),sI("Reference.transaction",this.path),Xs("Reference.transaction",1,t,!1),Xs("Reference.transaction",2,e,!0),uI("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new Ts;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new lI(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Ys("Reference.setPriority",1,2,arguments.length),sI("Reference.setPriority",this.path),eI("Reference.setPriority",1,t,!1),Xs("Reference.setPriority",2,e,!0);var n=new Ts;return this.repo.setWithPriority(PE(this.path,".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Ys("Reference.push",0,2,arguments.length),sI("Reference.push",this.path),JE("Reference.push",1,t,this.path,!0),Xs("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=fI(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return sI("Reference.onDisconnect",this.path),new cI(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(fT);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fT.__referenceConstructor=DS,BT.__referenceConstructor=DS;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var LS,MS=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(iE("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',uE(t)},t}(),FS=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),jS=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return LS||(LS=new t),LS},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=hs(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,hs(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next()){var c=u.value;this.repos_[s][c].interrupt()}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=hs(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,hs(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next()){var c=u.value;this.repos_[s][c].resume()}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new VE(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new FS)},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||aE("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),iE("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,s=zE(i,r),a=s.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,i="http://"+u+"?ns="+a.namespace,a=(s=zE(i,r)).repoInfo):o=!s.repoInfo.secure;var c=r&&o?new FS:new MS(t,e);return aI("Invalid Firebase Database URL",1,s),RE(s.path)||aE("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,c).database},t.prototype.deleteRepo=function(t){var e=Bs(this.repos_,t.app.name);e&&Bs(e,t.key)===t||aE("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},t.prototype.createRepo=function(t,e,n){var r=Bs(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=Bs(r,t.toURLString());return i&&aE("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new RS(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),US=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return cs(e,void 0,void 0,(function(){return ls(this,(function(t){return this.checkDeleted_("delete"),jS.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]}))}))}},t instanceof RS||aE("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new DS(this.repo_,TE())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?aE("Cannot call useEmulator() after instance has already been initialized."):jS.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Ys("database.ref",0,1,arguments.length),t instanceof DS?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Ys(e,1,1,arguments.length);var n=zE(t,this.repo_.repoInfo_.nodeAdmin);aI(e,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||aE(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&aE("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Ys("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Ys("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}();var VS=Object.freeze({__proto__:null,forceLongPolling:function(){SS.forceDisallow(),yS.forceAllow()},forceWebSockets:function(){yS.forceDisallow()},isWebSocketsAvailable:function(){return SS.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;wS(r);var u=new na("auth-internal",new ia("database-standalone"));return u.setComponent(new ea("auth-internal",(function(){return i}),"PRIVATE")),{instance:jS.getInstance().databaseFromApp(e,u,n,a),namespace:o}}}),qS=AS;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */AS.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},AS.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var BS,WS=kS,HS=VE,zS=Object.freeze({__proto__:null,DataConnection:qS,RealTimeConnection:WS,hijackHash:function(t){var e=AS.prototype.put;return AS.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){AS.prototype.put=e}},ConnectionTarget:HS,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){jS.getInstance().forceRestClient(t)}}),GS=US.ServerValue;wS((BS=Oa).SDK_VERSION),BS.INTERNAL.registerComponent(new ea("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return jS.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:DS,Query:fT,Database:US,DataSnapshot:HI,enableLogging:rE,INTERNAL:VS,ServerValue:GS,TEST_ACCESS:zS}).setMultipleInstances(!0)),BS.registerVersion("@firebase/database","0.9.4"),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Qa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Qa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==h(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t){return t}function T(t,e,n){this.code=k+t,this.message=e||N[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new T(e.substring(k.length),t.message,t.serverResponse):null}E(T,Error),T.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},T.prototype.toJSON=function(){return this.w()};var C,k="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function O(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function x(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function D(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}C=O("__EID__")?"__EID__":void 0,E(P,Error),P.prototype.name="CustomError",E(R,P),R.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new L((function(){return new V}),(function(t){t.reset()}));function U(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},B=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function G(t,e){return 0<=q(t,e)}function K(t,e){var n;return(n=0<=(e=q(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function Y(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,tt=/</g,et=/>/g,nt=/"/g,rt=/'/g,it=/\x00/g,ot=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var ut=s.navigator;if(ut){var ct=ut.userAgent;if(ct){X=ct;break t}}X=""}function lt(t){return st(X,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<dt.length;o++)n=dt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===wt&&e||"",this.b=bt}function yt(t){return t instanceof mt&&t.constructor===mt&&t.b===bt?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.sa=!0,mt.prototype.ra=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,bt={},wt={};function Et(){if(void 0===_t){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:I,createScript:I,createScriptURL:I})}catch(n){s.console&&s.console.error(n.message)}_t=t}else _t=t}return _t}function It(t,e){this.a=e===Nt?t:""}function Tt(t){return t instanceof It&&t.constructor===It?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=yt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Et();return new It(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(Ct,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?yt(t):encodeURIComponent(String(t))})))}It.prototype.sa=!0,It.prototype.ra=function(){return this.a.toString()},It.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function At(t,e){this.a=e===Mt?t:""}function Ot(t){return t instanceof At&&t.constructor===At?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}At.prototype.sa=!0,At.prototype.ra=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var xt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Dt(t){if(t instanceof At)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t))t=new At(t,Mt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Pt);t=e&&xt.test(e[1])?new At(t,Mt):null}return t}function Lt(t){return t instanceof At?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new At(t,Mt))}var Mt={},Ft=new At("about:invalid#zClosurez",Mt);function jt(t,e,n){this.a=n===Ut?t:""}jt.prototype.sa=!0,jt.prototype.ra=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ut={};function Vt(t,e,n,r){return t=t instanceof At?t:Lt(t),e=e||s,n=n instanceof mt?yt(n):n||"",e.open(Ot(t),n,r,void 0)}function qt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Bt(t){return ot.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(tt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(et,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(nt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(rt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Wt[" "]=l;var Ht,zt=lt("Opera"),Gt=lt("Trident")||lt("MSIE"),Kt=lt("Edge"),Qt=Kt||Gt,Yt=lt("Gecko")&&!(st(X.toLowerCase(),"webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),$t=st(X.toLowerCase(),"webkit")&&!lt("Edge");function Xt(){var t=s.document;return t?t.documentMode:void 0}t:{var Jt="",Zt=function(){var t=X;return Yt?/rv:([^\);]+)(\)|;)/.exec(t):Kt?/Edge\/([\d\.]+)/.exec(t):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):$t?/WebKit\/(\S+)/.exec(t):zt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Zt&&(Jt=Zt?Zt[1]:""),Gt){var te=Xt();if(null!=te&&te>parseFloat(Jt)){Ht=String(te);break t}}Ht=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=J(String(Ht)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=at(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||at(0==s[2].length,0==a[2].length)||at(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(s.document&&Gt){var ie=Xt();ee=ie||(parseInt(Ht,10)||void 0)}else ee=void 0;var oe=ee;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(fu){}var se=!Gt||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(d(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}B(s?$(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){s.setTimeout((function(){throw t}),0)}function ve(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!lt("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!lt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!lt("Trident")&&!lt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),ge||(le(),ge=!0),me.add(t,e)}var ge=!1,me=new F;function ye(){for(var t;t=U();){try{t.a.call(t.b)}catch(e){de(e)}M(j,t)}ge=!1}function _e(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,(function(t){Re(n,we,t)}),(function(t){if(!(t instanceof Ve))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(qw){}Re(n,Ee,t)}))}catch(r){Re(this,Ee,r)}}var be=0,we=2,Ee=3;function Ie(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ie.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Te=new L((function(){return new Ie}),(function(t){t.reset()}));function Se(t,e,n){var r=Te.get();return r.g=t,r.b=e,r.f=n,r}function Ce(t){if(t instanceof _e)return t;var e=new _e(l);return Re(e,we,t),e}function ke(t){return new _e((function(e,n){n(t)}))}function Ne(t,e,n){De(t,e,n,null)||ve(b(e,t))}function Ae(t){return new _e((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function Oe(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==be&&1==r?Oe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Me(n),Fe(n,i,Ee,e)))}t.c=null}else Re(t,Ee,e)}function xe(t,e){t.b||t.a!=we&&t.a!=Ee||Le(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=Se(null,null,null);return i.a=new _e((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ve?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,xe(t,i),i.a}function Re(t,e,n){t.a==be&&(t===n&&(e=Ee,n=new TypeError("Promise cannot resolve to itself")),t.a=1,De(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Le(t),e!=Ee||n instanceof Ve||function(t,e){t.g=!0,ve((function(){t.g&&Ue.call(null,e)}))}(t,n)))}function De(t,e,n,r){if(t instanceof _e)return xe(t,Se(e||l,n||null,r)),!0;if(x(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Le(t){t.h||(t.h=!0,ve(t.gc,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ee&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,je(e,n,r);else try{e.c?e.g.call(e.f):je(e,n,r)}catch(qw){Ue.call(null,qw)}M(Te,e)}function je(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Pe(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,xe(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new Ve(t);ve((function(){Oe(this,e)}),this)}},t.$c=function(t){this.a=be,Re(this,we,t)},t.ad=function(t){this.a=be,Re(this,Ee,t)},t.gc=function(){for(var t;t=Me(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ue=de;function Ve(t){P.call(this,t)}function qe(){this.xa=this.xa,this.pa=this.pa}E(Ve,P),Ve.prototype.name="cancel";function Be(t){!t.xa&&(t.xa=!0,t.Da(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}(t)}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var We=Object.freeze||function(t){return t},He=!Gt||9<=Number(oe),ze=Gt&&!re("9"),Ge=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(n){}return t}();function Ke(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(Ke.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{Wt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ke.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Qe,Ke);var Ye=We({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ze)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var $e="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++Xe,this.va=this.Pa=!1}function Ze(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&K(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}tn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=nn(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new Je(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function sn(t,e,n,r,i){if(r&&r.once)un(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=mn(n),t&&t[$e]?_n(t,e,n,d(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i,a=vn(t);if(a||(t[rn]=a=new tn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=dn,e=He?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ge||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=mn(n),t&&t[$e]?bn(t,e,n,d(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=mn(n),t&&t[$e]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=nn(o=t.a[e],n,r,i))&&(Ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,r,i)),(n=-1<t?e[t]:null)&&ln(n))}function ln(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[$e])en(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Ze(t)}}}function hn(t){return t in on?on[t]:on[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&ln(t),n.call(r,e)}function dn(t,e){if(t.va)return!0;if(!He){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Qe(e,this))}function vn(t){return(t=t[rn])instanceof tn?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(t){return p(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function yn(){qe.call(this),this.v=new tn(this),this.ac=this,this.gb=null}function _n(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function bn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function wn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Va||s.src;s.Pa&&en(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(p(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function In(t){var e=null;return new _e((function(n,r){-1==(e=En((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function Tn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Sn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Cn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(yn,qe),yn.prototype[$e]=!0,yn.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){cn(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Ke(t,n);else if(t instanceof Ke)t.target=t.target||n;else{var i=t;vt(t=new Ke(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=wn(s,r,!0,t)&&i}if(i=wn(s=t.b=n,r,!0,t)&&i,i=wn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=wn(s=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Da=function(){if(yn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ze(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=Cn.prototype).W=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Nn(this.b,t)?this.b[t]:e},t.set=function(t,e){Nn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof On?(this.i=void 0!==e?e:t.i,xn(this,t.c),this.l=t.l,this.a=t.a,Pn(this,t.g),this.f=t.f,Rn(this,Jn(t.b)),this.h=t.h):t&&(n=String(t).match(An))?(this.i=!!e,xn(this,n[1]||"",!0),this.l=jn(n[2]||""),this.a=jn(n[3]||"",!0),Pn(this,n[4]),this.f=jn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.h=jn(n[7]||"")):(this.i=!!e,this.b=new Gn(null,this.i))}function xn(t,e,n){t.c=n?jn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Rn(t,e,n){e instanceof Gn?(t.b=e,function(t,e){e&&!t.f&&(Kn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Xn(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Un(e,Hn)),t.b=new Gn(e,t.i))}function Dn(t,e,n){t.b.set(e,n)}function Ln(t,e){return t.b.get(e)}function Mn(t){return t instanceof On?new On(t):new On(t,void 0)}function Fn(t,e,n,r){var i=new On(null,void 0);return t&&xn(i,t),e&&(i.a=e),n&&Pn(i,n),r&&(i.f=r),i}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Un(e,qn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Un(e,qn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?Wn:Bn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Un(n,zn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.c;n?xn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Pn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(st(i,"./")||st(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Rn(e,Jn(t.b)):n=!!t.h,n&&(e.h=t.h),e};var qn=/[#\/\?@]/g,Bn=/[#\?:]/g,Wn=/[#\?]/g,Hn=/[#\?@]/g,zn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Kn(t){t.a||(t.a=new Cn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Xn(n,i,o):n.add(i,o)}return n}function Yn(t,e){Kn(t),e=Zn(t,e),Nn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function $n(t,e){return Kn(t),e=Zn(t,e),Nn(t.a.b,e)}function Xn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),$(n)),t.b+=n.length)}function Jn(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new Cn(t.a),e.b=t.b),e}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tr(t){var e=[];return nr(new er,t,e),e.join("")}function er(){}function nr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),nr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),or(r,n),n.push(":"),nr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":or(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Gn.prototype).add=function(t,e){Kn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Kn(this),this.a.forEach((function(n,r){B(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){Kn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Kn(this);var e=[];if("string"==typeof t)$n(this,t)&&(e=Y(e,this.a.get(Zn(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Kn(this),this.c=null,$n(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(t,e){e.push('"',t.replace(ir,(function(t){var e=rr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),rr[t]=e),e})),'"')}function sr(){var t=Cr();return Gt&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function ar(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function ur(t,e){e=e||s.window;var n="about:blank";t&&(n=Ot(Dt(t)||Ft)),e.location.href=n}function cr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<cr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function lr(t){return!!((t=(t||Cr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||s.window;try{t.close()}catch(e){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Cr().toLowerCase(),r&&(e.target=r,st(n,"crios/")&&(e.target="_blank")),Ir(Cr())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof At?n:Dt(void 0!==n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((lt("iPhone")&&!lt("iPod")&&!lt("iPad")||lt("iPad")||lt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(gt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof At?e:Lt(e),s.href=Ot(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Vt("",r,n,s),t=Ot(e),s&&(Qt&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">',t=new jt(t=(r=Et())?r.createHTML(t):t,null,Ut),r=s.document)&&(r.write(function(t){return t instanceof jt&&t.constructor===jt?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Vt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new _e((function(e){"complete"==s.document.readyState?e():(t=function(){e()},un(window,"load",t))})).o((function(e){throw cn(window,"load",t),e}))}function gr(t){return t=t||Cr(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mr(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function yr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function _r(){return Oa.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Oa.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function br(){var t=_r();return"ReactNative"===t||"Node"===t}var wr="Firefox",Er="Chrome";function Ir(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?wr:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Er:"Safari"}var Tr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(t,e){e=e||[];var n,r=[],i={};for(n in Tr)i[Tr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=_r())?r=Ir(i=Cr()):"Worker"===r&&(r=Ir(i=Cr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Cr(){return s.navigator&&s.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Nr(){try{var t=s.localStorage,e=Mr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!s.indexedDB}catch(n){return yr()&&!!s.indexedDB}return!1}function Ar(){return(Or()||"chrome-extension:"===xr()||gr())&&!br()&&Nr()&&!yr()}function Or(){return"http:"===xr()||"https:"===xr()}function xr(){return s.location&&s.location.protocol||null}function Pr(t){return!lr(t=t||Cr())&&Ir(t)!=wr}function Rr(t){return void 0===t?null:tr(t)}function Dr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Mr(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){return"Safari"!=Ir(t=t||Cr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Cr(),e=_r(),this.b=lr(t)||"ReactNative"===e}function Vr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function qr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Br(){return!(!kr("fireauth.oauthhelper",s)&&!kr("fireauth.iframe",s))}Ur.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Or()&&"chrome-extension:"!==xr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Wr,Hr={};function zr(t){Hr[t]||(Hr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Wr=2==Gr.abcd}catch(fu){Wr=!1}function Kr(t,e,n){Wr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Kr(t,n,e[n])}function Yr(t){var e={};return Qr(e,t),e}function $r(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Kr(e,n,$r(t[n]));return e}function Xr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Kr(this,"uid",t[ei]),Kr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Kr(this,"enrollmentTime",n),Kr(this,"factorId",e)}function Jr(t){try{var e=new ri(t)}catch(n){e=null}return e}Xr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Xr.call(this,t),Kr(this,"phoneNumber",t[ni])}function ii(t){var e={},n=t[ui],r=t[li],i=t[hi];if(t=Jr(t[ci]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[pi]=n||null,e[vi]=n||null,e[fi]=r):(e[pi]=r||null,e[vi]=r||null,e[fi]=n||null),e[di]=t||null,Kr(this,mi,i),Kr(this,gi,$r(e))}E(ri,Xr),ri.prototype.w=function(){var t=ri.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",li="newEmail",hi="requestType",fi="email",pi="fromEmail",di="multiFactorInfo",vi="previousEmail",gi="data",mi="operation";function yi(t){var e=Ln(t=Mn(t),_i)||null,n=Ln(t,bi)||null,r=Ln(t,Ii)||null;if(r=r&&Si[r]||null,!e||!n||!r)throw new T("argument-error",_i+", "+bi+"and "+Ii+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,wi)||null,languageCode:Ln(t,Ei)||null,tenantId:Ln(t,Ti)||null})}var _i="apiKey",bi="oobCode",wi="continueUrl",Ei="languageCode",Ii="mode",Ti="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Ci(t){try{return new yi(t)}catch(e){return null}}function ki(t){var e=t[Pi];if(void 0===e)throw new T("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new T("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ni];if(n&&"object"==typeof n){e=n[Li];var r=n[Ri];if(n=n[Di],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",Di+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new T("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",Ni+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"==typeof e){if("string"==typeof(e=e[Mi])&&e.length)this.f=e;else if(void 0!==e)throw new T("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new T("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(e=t[Oi])&&"boolean"!=typeof e)throw new T("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ai])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new T("argument-error",Ai+" property must be a non empty string when specified.");this.i=t||null}var Ni="android",Ai="dynamicLinkDomain",Oi="handleCodeInApp",xi="iOS",Pi="url",Ri="installApp",Di="minimumVersion",Li="packageName",Mi="bundleId";function Fi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ji=null;function Ui(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ji[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ji){ji={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ji[o]&&(ji[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e.push(t)})),e}function Vi(t){var e=Bi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qi(t){try{return new Vi(t)}catch(e){return null}}function Bi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Ui(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}Vi.prototype.T=function(){return this.f},Vi.prototype.l=function(){return this.c},Vi.prototype.toString=function(){return this.h};var Wi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],zi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Hi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Hi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Hi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Wi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Gi(t){for(var e in zi)if(zi[e].fa==t)return zi[e];return null}function Ki(t){var e={};e["facebook.com"]=Ji,e["google.com"]=to,e["github.com"]=Zi,e["twitter.com"]=eo;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Xi(t);if(void 0!==t[Qi])return new $i(t)}catch(r){}return null}var Qi="idToken",Yi="providerId";function $i(t){var e=t[Yi];if(!e&&t[Qi]){var n=qi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Kr(this,"providerId",e),Kr(this,"isNewUser",n)}function Xi(t){$i.call(this,t),Kr(this,"profile",$r((t=Lr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if(Xi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Xi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",this.profile&&this.profile.login||null)}function to(t){if(Xi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Xi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Kr(this,"username",t.screenName||null)}function no(t){var e=Mn(t),n=Ln(e,"link"),r=Ln(Mn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Mn(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new T("internal-error","Internal assert: no raw session string available");if(t&&e)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}E(Xi,$i),E(Ji,Xi),E(Zi,Xi),E(to,Xi),E(eo,Xi);var io="enroll",oo="signin";function so(){}function ao(t,e){return t.then((function(t){if(t[$s]){var n=qi(t[$s]);if(!n||e!=n.i)throw new T("user-mismatch");return t}throw new T("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==k+"user-not-found"?new T("user-mismatch"):t}))}function uo(t,e){if(!e)throw new T("internal-error","failed to construct a credential");this.a=e,Kr(this,"providerId",t),Kr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(e){}return null}function ho(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Kr(this,"idToken",e.idToken),e.accessToken&&Kr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Kr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Kr(this,"accessToken",e.oauthToken),Kr(this,"secret",e.oauthTokenSecret)}Kr(this,"providerId",t),Kr(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ho(t.providerId,e,t.signInMethod)}catch(n){}}return null}function vo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Gi(t)||{}).Ja||null,this.ob=null}function go(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function mo(t){vo.call(this,t,Hi),this.a=[]}function yo(){mo.call(this,"facebook.com")}function _o(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function bo(){mo.call(this,"github.com")}function wo(t){if(!t)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function Eo(){mo.call(this,"google.com"),this.Ca("profile")}function Io(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new Eo).credential({idToken:n,accessToken:e})}function To(){vo.call(this,"twitter.com",Wi)}function So(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ho("twitter.com",n,"twitter.com")}function Co(t,e,n){this.a=t,this.f=e,Kr(this,"providerId","password"),Kr(this,"signInMethod",n===No.EMAIL_LINK_SIGN_IN_METHOD?No.EMAIL_LINK_SIGN_IN_METHOD:No.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new Co(t.email,t.password,t.signInMethod):null}function No(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function Ao(t,e){if(!(e=Oo(e)))throw new T("argument-error","Invalid email link!");return new Co(t,e.code,No.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Ci(t=no(t)))&&t.operation===si?t:null}function xo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new T("internal-error");this.a=t,Kr(this,"providerId","phone"),this.fa="phone",Kr(this,"signInMethod","phone")}function Po(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return B(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new xo(e)}return null}function Ro(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Do(t){try{this.a=t||Oa.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new T("missing-verification-id");if(!e)throw new T("missing-verification-code");return new xo({eb:t,cb:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new xo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Io(o,n);case"facebook.com":return _o(n);case"github.com":return wo(n);case"twitter.com":return So(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new uo(e,s):new ho(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Fo(t){if(!t.isOAuthProvider)throw new T("invalid-oauth-provider")}function jo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Uo(t){return(t=t||{}).type?new jo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function Vo(){this.b=null,this.a=[]}ro.prototype.Ha=function(){return this.a?Ce(this.a):Ce(this.b)},ro.prototype.w=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},uo.prototype.ka=function(t){return ya(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,_a(t,n)},uo.prototype.c=function(t,e){return ao(ba(t,co(this)),e)},uo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ho.prototype.ka=function(t){return ya(t,fo(this))},ho.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,_a(t,n)},ho.prototype.c=function(t,e){return ao(ba(t,fo(this)),e)},ho.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Ib=pt(t),this},E(go,vo),E(mo,vo),mo.prototype.Ca=function(t){return G(this.a,t)||this.a.push(t),this},mo.prototype.Qb=function(){return $(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new ho(this.providerId,n,this.providerId)},E(yo,mo),Kr(yo,"PROVIDER_ID","facebook.com"),Kr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(bo,mo),Kr(bo,"PROVIDER_ID","github.com"),Kr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),E(Eo,mo),Kr(Eo,"PROVIDER_ID","google.com"),Kr(Eo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(To,vo),Kr(To,"PROVIDER_ID","twitter.com"),Kr(To,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ka=function(t){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Na,{email:this.a,oobCode:this.f}):nu(t,Xa,{email:this.a,password:this.f})},Co.prototype.b=function(t,e){return this.signInMethod==No.EMAIL_LINK_SIGN_IN_METHOD?nu(t,Aa,{idToken:e,email:this.a,oobCode:this.f}):nu(t,Wa,{idToken:e,email:this.a,password:this.f})},Co.prototype.c=function(t,e){return ao(this.ka(t),e)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(No,{PROVIDER_ID:"password"}),Qr(No,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(No,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ka=function(t){return t.fb(Ro(this))},xo.prototype.b=function(t,e){var n=Ro(this);return n.idToken=e,nu(t,Za,n)},xo.prototype.c=function(t,e){var n=Ro(this);return n.operation="REAUTH",ao(t=nu(t,tu,n),e)},xo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Do.prototype.fb=function(t,e){var n=this.a.a;return Ce(e.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==io?i.Ha().then((function(t){return function(t,e){return nu(t,za,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==oo?i.Ha().then((function(e){return function(t,e){return nu(t,Ga,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return nu(t,qa,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Qr(Do,{PROVIDER_ID:"phone"}),Qr(Do,{PHONE_SIGN_IN_METHOD:"phone"}),jo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},jo.prototype.T=function(){return this.h},jo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qo,Bo=null;function Wo(t){var e="unauthorized-domain",n=void 0,r=Mn(t);t=r.a,"chrome-extension"==(r=r.c)?n=qt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=qt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",T.call(this,e,n)}function Ho(t,e,n){T.call(this,t,n),(t=e||{}).Jb&&Kr(this,"email",t.Jb),t.ea&&Kr(this,"phoneNumber",t.ea),t.credential&&Kr(this,"credential",t.credential),t.Zb&&Kr(this,"tenantId",t.Zb)}function zo(t){if(t.code){var e=t.code||"";0==e.indexOf(k)&&(e=e.substring(k.length));var n={credential:Mo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new T(e,t.message||void 0);return new Ho(e,n,t.message)}return null}function Go(){}function Ko(t){return t.c||(t.c=t.b())}function Qo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(qw){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function $o(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Sb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function ts(t){this.f=t,this.b=this.c=this.a=null}function es(t,e){this.name=t,this.value=e}E(Wo,T),E(Ho,T),Ho.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Ho.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,E(Qo,Go),Qo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},qo=new Qo,E($o,Go),$o.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},$o.prototype.b=function(){return{}},(t=Xo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,r,i){delete this.a},es.prototype.toString=function(){return this.name};var ns=new es("SEVERE",1e3),rs=new es("WARNING",900),is=new es("CONFIG",700),os=new es("FINE",500);function ss(t){return t.c?t.c:t.a?ss(t.a):(D("Root logger has no level set."),null)}ts.prototype.log=function(t,e,n){if(t.value>=ss(this).value)for(p(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var as={},us=null;function cs(t){var e;if(us||(us=new ts(""),as[""]=us,us.c=is),!(e=as[t])){e=new ts(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=cs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,as[t]=e}return e}function ls(t,e){t&&t.log(os,e,void 0)}function hs(t){this.f=t}function fs(t){yn.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=cs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(hs,Go),hs.prototype.a=function(){return new fs(this.f)},hs.prototype.b=function(t){return function(){return t}}({}),E(fs,yn);var ps=0;function ds(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function vs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,gs(t)}function gs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ms(t){yn.call(this),this.headers=new Cn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ys,this.u=this.S=!1}(t=fs.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,gs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,vs(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,gs(this)),this.a&&(this.readyState=3,gs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ds(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?vs(this):gs(this),3==this.readyState&&ds(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,vs(this))},t.sc=function(t){this.a&&(this.response=t,vs(this))},t.Ua=function(t){var e=this.i;e&&e.log(rs,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&vs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(rs,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(rs,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(ms,yn);var ys="";ms.prototype.b=cs("goog.net.XhrIo");var _s=/^https?$/i,bs=["POST","PUT"];function ws(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.C=t.D?Ko(t.D):Ko(qo),t.a.onreadystatechange=_(t.Vb,t);try{ls(t.b,Os(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return ls(t.b,Os(t,"Error opening Xhr: "+a.message)),void Is(t,a)}e=r||"";var o=new Cn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)B(t,e,void 0);else for(var n=Sn(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Es,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!G(bs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ks(t),0<t.g&&(t.u=function(t){return Gt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ls(t.b,Os(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=En(t.Ma,t.g,t)),ls(t.b,Os(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ls(t.b,Os(t,"Send error: "+a.message)),Is(t,a)}}function Es(t){return"content-type"==t.toLowerCase()}function Is(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ts(t),Cs(t)}function Ts(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ss(t){if(t.c&&void 0!==o)if(t.C[1]&&4==Ns(t)&&2==As(t))ls(t.b,Os(t,"Local request error detected and ignored"));else if(t.i&&4==Ns(t))En(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ns(t)){ls(t.b,Os(t,"Request complete")),t.c=!1;try{var e,n=As(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(An)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!_s.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ns(t)?t.a.statusText:""}catch(l){ls(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+As(t)+"]",Ts(t)}}finally{Cs(t)}}}function Cs(t,e){if(t.a){ks(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(qw){(t=t.b)&&t.log(ns,"Problem encountered resetting onreadystatechange: "+qw.message,void 0)}}}function ks(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Ns(t){return t.a?t.a.readyState:0}function As(t){try{return 2<Ns(t)?t.a.status:-1}catch(e){return-1}}function Os(t,e){return e+" ["+t.R+" "+t.l+" "+As(t)+"]"}function xs(t){var e=Bs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ps(t,e,n){t.a=!0,t.c=n,t.f=!e,Ms(t)}function Rs(t){if(t.a){if(!t.v)throw new Fs(t);t.v=!1}}function Ds(t,e,n,r){t.g.push([e,n,r]),t.a&&Ms(t)}function Ls(t){return z(t.g,(function(t){return p(t[1])}))}function Ms(t){if(t.h&&t.a&&Ls(t)){var e=t.h,n=Vs[e];n&&(s.clearTimeout(n.a),delete Vs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(x(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ls(t)||(n=!0)}}t.c=e,r&&(u=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof xs?(Ds(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Us(e),Vs[e.a]=e,t.h=e.a)}function Fs(){P.call(this)}function js(){P.call(this)}function Us(t){this.a=s.setTimeout(_(this.c,this),0),this.b=t}(t=ms.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ls(this.b,Os(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ls(this.b,Os(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cs(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Cs(this,!0)),ms.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ss(this):this.Jc())},t.Jc=function(){Ss(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ns,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ls(this.b,"Can not get response: "+e.message),null}},xs.prototype.cancel=function(t){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new js(this),Rs(this),Ps(this,!1,t))}},xs.prototype.m=function(t,e){this.i=!1,Ps(this,t,e)},xs.prototype.then=function(t,e,n){var r,i,o=new _e((function(t,e){r=t,i=e}));return Ds(this,r,(function(t){t instanceof js?o.cancel():i(t)})),o.then(t,e,n)},xs.prototype.$goog_Thenable=!0,E(Fs,P),Fs.prototype.message="Deferred has already fired",Fs.prototype.name="AlreadyCalledError",E(js,P),js.prototype.message="Deferred was canceled",js.prototype.name="CanceledError",Us.prototype.c=function(){throw delete Vs[this.a],this.b};var Vs={};function qs(t){var e,n=document,r=Tt(t).toString(),i=pe(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new xs(o);return e=window.setTimeout((function(){Ws(i,!0);var t=new Gs(zs,"Timeout reached for loading script "+r);Rs(a),Ps(a,!1,t)}),5e3),o.Ma=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ws(i,!1,e),Rs(a),Ps(a,!0,null))},i.onerror=function(){Ws(i,!0,e);var t=new Gs(Hs,"Error while loading script "+r);Rs(a),Ps(a,!1,t)},vt(o={},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){gt(t,"HTMLScriptElement"),t.src=Tt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Bs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ws(t,!0,this.Ma)}}function Ws(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Hs=0,zs=1;function Gs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Ks(t){this.f=t}function Qs(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xs,this.g=pt(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Zs,this.a=pt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==_r(),!(n=s.XMLHttpRequest||n&&Oa.INTERNAL.node&&Oa.INTERNAL.node.XMLHttpRequest)&&!yr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,yr()?this.f=new hs(self):br()?this.f=new Ks(n):this.f=new $o,this.b=null}E(Gs,P),E(Ks,Go),Ks.prototype.a=function(){return new this.f},Ks.prototype.b=function(){return{}};var Ys,$s="idToken",Xs=new Ur(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Zs=new Ur(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Mn(t),e=Mn(e.url),t.f=t.a+t.f,xn(t,e.c),t.a=e.a,Pn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,a){(function(){var t=Cr();return!((t=Ir(t)!=Er?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&oe&&!(9<oe))})()||yr()?t=_(t.u,t):(Ys||(Ys=new _e((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ds(t,null,e,void 0)}(qs(St(sa,{onload:aa})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=_(t.s,t)),t(e,n,r,i,o,a)}Qs.prototype.T=function(){return this.b},Qs.prototype.u=function(t,e,n,r,i,o){if(yr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ms(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}_n(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ls(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),bn(a,"ready",(function(){u&&clearTimeout(u),Be(this)})),bn(a,"timeout",(function(){u&&clearTimeout(u),Be(this),e&&e(null)})),ws(a,t,n,r,i)};var sa=new mt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t,e,n,r,i,o,s){var a=Mn(e+n);Dn(a,"key",t.c),s&&Dn(a,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Dn(a,c,i[c]);return new _e((function(e,n){oa(t,a.toString(),(function(t){t?t.error?n(iu(t,o||{})):e(t):n(new T("network-request-failed"))}),r,u?void 0:tr(Dr(i)),t.a,t.v.get())}))}function ca(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new T("invalid-email")}function la(t){"email"in t&&ca(t)}function ha(t){if(!t[$s]){if(t.mfaPendingCredential)throw new T("multi-factor-auth-required",null,pt(t));throw new T("internal-error")}}function fa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new T("internal-error")}else{if(!t.sessionInfo)throw new T("missing-verification-id");if(!t.code)throw new T("missing-verification-code")}}Qs.prototype.s=function(t,e,n,r,i){var o=this;Ys.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Qs.prototype.zb=function(){return nu(this,Ha,{})},Qs.prototype.Bb=function(t,e){return nu(this,Ba,{idToken:t,email:e})},Qs.prototype.Cb=function(t,e){return nu(this,Wa,{idToken:t,password:e})};var pa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function da(t){if(!t.phoneVerificationInfo)throw new T("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new T("missing-verification-code")}function va(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new T("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&($n(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=zo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=zo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=zo(t)):t.errorMessage&&(e=ru(t.errorMessage)),e)throw e;ha(t)}function ya(t,e){return e.returnIdpCredential=!0,nu(t,Ka,e)}function _a(t,e){return e.returnIdpCredential=!0,nu(t,Ya,e)}function ba(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,nu(t,Qa,e)}function wa(t){if(!t.oobCode)throw new T("invalid-action-code")}(t=Qs.prototype).Db=function(t,e){var n={idToken:t},r=[];return ht(pa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),nu(this,Ba,n)},t.vb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),nu(this,Fa,t)},t.wb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),nu(this,Da,t)},t.ub=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),nu(this,La,t)},t.Eb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),nu(this,Ma,t)},t.fb=function(t){return nu(this,Ja,t)},t.nb=function(t,e){return nu(this,Va,{oobCode:t,newPassword:e})},t.Ra=function(t){return nu(this,Ia,{oobCode:t})},t.jb=function(t){return nu(this,Ea,{oobCode:t})};var Ea={endpoint:"setAccountInfo",A:wa,Z:"email",B:!0},Ia={endpoint:"resetPassword",A:wa,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new T("internal-error")},B:!0},Ta={endpoint:"signupNewUser",A:function(t){if(ca(t),!t.password)throw new T("weak-password")},G:ha,V:!0,B:!0},Sa={endpoint:"createAuthUri",B:!0},Ca={endpoint:"deleteAccount",N:["idToken"]},ka={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new T("internal-error")}},Na={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ca,G:ha,V:!0,B:!0},Aa={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ca,G:ha,V:!0},xa={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:da,G:ha,B:!0,Na:!0},Pa={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:da,G:ha,B:!0,Na:!0},Ra={endpoint:"getAccountInfo"},Da={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new T("internal-error");ca(t)},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new T("internal-error")},Z:"email",B:!0},Fa={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new T("internal-error");ca(t)},Z:"email",B:!0},ja={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ua={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new T("internal-error")}},Va={endpoint:"resetPassword",A:wa,Z:"email",B:!0},qa={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ba={endpoint:"setAccountInfo",N:["idToken"],A:la,V:!0},Wa={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(la(t),!t.password)throw new T("weak-password")},G:ha,V:!0},Ha={endpoint:"signupNewUser",G:ha,V:!0,B:!0},za={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new T("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ga={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Ka={endpoint:"verifyAssertion",A:va,Ya:ga,G:ma,V:!0,B:!0},Qa={endpoint:"verifyAssertion",A:va,Ya:ga,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new T("user-not-found");if(t.errorMessage)throw ru(t.errorMessage);ha(t)},V:!0,B:!0},Ya={endpoint:"verifyAssertion",A:function(t){if(va(t),!t.idToken)throw new T("internal-error")},Ya:ga,G:ma,V:!0},$a={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new T("invalid-custom-token")},G:ha,V:!0,B:!0},Xa={endpoint:"verifyPassword",A:function(t){if(ca(t),!t.password)throw new T("wrong-password")},G:ha,V:!0,B:!0},Ja={endpoint:"verifyPhoneNumber",A:fa,G:ha,B:!0},Za={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new T("internal-error");fa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",zo(t);ha(t)}},tu={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:fa,G:ha,B:!0},eu={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[$s]^!!t.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function nu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return ke(new T("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ce(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ua(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new T("internal-error");return r[e.Z]}))}function ru(t){return iu({error:{errors:[{message:t}],code:400,message:t}})}function iu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],e);return!e&&t&&(e=Rr(t)),new T("internal-error",e)}function ou(t){this.b=t,this.a=null,this.rb=function(t){return(cu||(cu=new _e((function(t,e){function n(){jr(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){jr(),e(Error("Network Error"))},timeout:au.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Ce(qs(r=St(su,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw cu=null,t})))).then((function(){return new _e((function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),uu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new mt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),au=new Ur(3e4,6e4),uu=new Ur(5e3,15e3),cu=null;function lu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Fn((t=Mn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Fn("https",this.l,null,"/__/auth/iframe"),this.a=t,Dn(this.a,"apiKey",this.h),Dn(this.a,"appName",this.i),this.b=null,this.c=[]}function hu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function pu(t){try{return Oa.app(t).auth().Ga()}catch(e){return[]}}function du(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(t){var e=ar();return function(t){return nu(t,ja,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Mn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Mn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:pr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Wo(ar())}))}function gu(t){return t.m||(t.m=vr().then((function(){if(!t.u){var e=t.c,n=t.i,r=pu(t.b),i=new lu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=$(r||[]),t.u=i.toString()}t.v=new ou(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Uo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ce(n)}return n.status="ERROR",Ce(n)}))}(t)}))),t.m}function mu(t){return t.l||(t.C=t.c?Sr(t.c,pu(t.b)):null,t.l=new Qs(t.g,O(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function yu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new hu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=pt(u||null),t.f=c,t.yb(l).toString()}function _u(t){if(this.a=t||Oa.INTERNAL.reactNative&&Oa.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function bu(t){this.b=t,this.a={},this.f=_(this.c,this)}lu.prototype.toString=function(){return this.f?Dn(this.a,"v",this.f):Yn(this.a.b,"v"),this.b?Dn(this.a,"eid",this.b):Yn(this.a.b,"eid"),this.c.length?Dn(this.a,"fw",this.c.join(",")):Yn(this.a.b,"fw"),this.a.toString()},hu.prototype.yb=function(t){return this.h=t,this},hu.prototype.toString=function(){if(this.v){var t=Mn(this.v.url);t=Fn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Fn("https",this.u,null,"/__/auth/handler");if(Dn(t,"apiKey",this.s),Dn(t,"appName",this.c),Dn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Oa.app(this.c).auth().la()}catch(a){n=null}for(var r in e.ob=n,Dn(t,"providerId",this.a.providerId),e=Dr((n=this.a).Ib))e[r]=e[r].toString();r=n.Qc,e=pt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),ft(e)||Dn(t,"customParameters",Rr(e))}if("function"==typeof this.a.Qb&&((n=this.a.Qb()).length&&Dn(t,"scopes",n.join(","))),this.l?Dn(t,"redirectUrl",this.l):Yn(t.b,"redirectUrl"),this.g?Dn(t,"eventId",this.g):Yn(t.b,"eventId"),this.i?Dn(t,"v",this.i):Yn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ln(t,s)&&Dn(t,s,this.b[s]);return this.h?Dn(t,"tid",this.h):Yn(t.b,"tid"),this.f?Dn(t,"eid",this.f):Yn(t.b,"eid"),(s=pu(this.c)).length&&Dn(t,"fw",s.join(",")),t.toString()},(t=du.prototype).Ob=function(t,e,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return gu(t).then((function(){return function(t,e){return t.rb.then((function(){return new _e((function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&hr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new _e((function(e){return function n(){In(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return In(n).then((function(){e(r)}))}))},t.Xb=function(){var t=Cr();return!Pr(t)&&!Fr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return ke(new T("popup-blocked"));if(s&&!Pr())return this.ma().o((function(e){hr(t),i(e)})),r(),Ce();this.a||(this.a=vu(mu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw hr(t),i(e),e}));return r(),e})).then((function(){(Fo(n),s)||ur(yu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Nb=function(t,e,n,r){this.a||(this.a=vu(mu(this)));var i=this;return this.a.then((function(){Fo(e),ur(yu(i.s,i.g,i.b,t,e,ar(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return gu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new T("network-request-failed")}))},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Q(this.h,(function(e){return e==t}))},(t=_u.prototype).get=function(t){return Ce(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},t.set=function(t,e){return Ce(this.a.setItem(t,Rr(e)))},t.U=function(t){return Ce(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var wu,Eu=[];function Iu(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Tu(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function Cu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return ku(t,c),e})).o((function(e){throw ku(t,c),e}))}function ku(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Q(t.a,(function(t){return t==e}))}}function Nu(){if(!Pu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;yr()&&self?(this.v=function(){var t=yr()?self:null;if(B(Eu,(function(n){n.b==t&&(e=n)})),!e){var e=new bu(t);Eu.push(e)}return e}(),Iu(this.v,"keyChanged",(function(e,n){return Fu(t).then((function(e){return 0<e.length&&B(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),Iu(this.v,"ping",(function(){return Ce(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ce().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ce(null)}().then((function(e){(t.h=e)&&(t.g=new Su(new Tu(e)),Cu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Au(t){return new _e((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new _e((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Au(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ou(t){return t.i||(t.i=Au(t)),t.i}function xu(t,e){var n=0;return new _e((function r(i,o){Ou(t).then(e).then(i).o((function(e){if(!(3<++n))return Ou(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Pu(){try{return!!s.indexedDB}catch(fu){return!1}}function Ru(t){return t.objectStore("firebaseLocalStorage")}function Du(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lu(t){return new _e((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Cu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ce()}function Fu(t){return Ou(t).then((function(t){var e=Ru(Du(t,!1));return e.getAll?Lu(e.getAll()):new _e((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=cr(t.c,n),t.c=n}return r}))}function ju(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Uu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ce().then((function(){if(Pu()){var t=Mr(),r="__sak"+t;return wu||(wu=new Nu),(n=wu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){B(e.a,(function(e){e(t)}))})),t}))}function Vu(){this.a={},this.type="inMemory"}function qu(){if(!function(){var t="Node"==_r();if(!(t=Bu()||t&&Oa.INTERNAL.node&&Oa.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==_r())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Bu()||Oa.INTERNAL.node.localStorage,this.type="localStorage"}function Bu(){try{var t=s.localStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Wu(){this.type="nullStorage"}function Hu(){if(!function(){var t="Node"==_r();if(!(t=zu()||t&&Oa.INTERNAL.node&&Oa.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==_r())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=zu()||Oa.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function zu(){try{var t=s.sessionStorage,e=Mr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Gu(){var t={};t.Browser=Yu,t.Node=$u,t.ReactNative=Xu,t.Worker=Ju,this.a=t[_r()]}bu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];B(r,(function(e){i.push(Ce().then((function(){return e(t.origin,t.data.data)})))})),Ae(i).then((function(r){var i=[];B(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),B(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Tu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},(t=Nu.prototype).set=function(t,e){var n=this,r=!1;return xu(this,(function(e){return Lu((e=Ru(Du(e,!0))).get(t))})).then((function(i){return xu(n,(function(o){if(o=Ru(Du(o,!0)),i)return i.value=e,Lu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Lu(o.add(s))}))})).then((function(){return n.c[t]=e,Mu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return xu(this,(function(e){return Lu(Ru(Du(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return xu(this,(function(r){return n=!0,e.b++,Lu(Ru(Du(r,!0)).delete(t))})).then((function(){return delete e.c[t],Mu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Fu(t).then((function(e){0<e.length&&B(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}ju(t),e()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t})),0==this.a.length&&ju(this)},(t=Uu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,(function(e){return e==t}))},(t=Vu.prototype).get=function(t){return Ce(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ce()},t.U=function(t){return delete this.a[t],Ce()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Ce().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ce().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ce().then((function(){e.a.removeItem(t)}))},t.ca=function(t){s.window&&sn(s.window,"storage",t)},t.ia=function(t){s.window&&cn(s.window,"storage",t)},(t=Wu.prototype).get=function(){return Ce(null)},t.set=function(){return Ce()},t.U=function(){return Ce()},t.ca=function(){},t.ia=function(){},(t=Hu.prototype).get=function(t){var e=this;return Ce().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ce().then((function(){var r=Rr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return Ce().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Ku,Qu,Yu={F:qu,bb:Hu},$u={F:qu,bb:Hu},Xu={F:_u,bb:Wu},Ju={F:qu,bb:Wu},Zu={rd:"local",NONE:"none",td:"session"};function tc(){var t=!(Fr(Cr())||!mr()),e=Pr(),n=Nr();this.m=t,this.h=e,this.l=n,this.a={},Ku||(Ku=new Gu),t=Ku;try{this.g=!sr()&&Br()||!s.indexedDB?new t.a.F:new Uu(yr()?new Vu:new t.a.F)}catch(r){this.g=new Vu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Vu}this.v=new Vu,this.f=_(this.Yb,this),this.b={}}function ec(){return Qu||(Qu=new tc),Qu}function nc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function rc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,n){return n=rc(e,n),"local"==e.F&&(t.b[n]=null),nc(t,e.F).U(n)}function oc(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=ec()}(t=tc.prototype).get=function(t,e){return nc(this,t.F).get(rc(t,e))},t.set=function(t,e,n){var r=rc(t,n),i=this,o=nc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=rc(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),ft(this.a)&&(nc(this,"local").ca(this.f),this.h||(sr()||!Br())&&s.indexedDB||!this.l||function(t){oc(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=rc(t,e),this.a[t]&&(Q(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(nc(this,"local").ia(this.f),oc(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?nc(this,"local").ia(this.f):oc(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Gt&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else B(t,_(this.mb,this))},t.mb=function(t){this.a[t]&&B(this.a[t],(function(t){t()}))};var ac,uc={name:"authEvent",F:"local"};function cc(){this.a=ec()}function lc(t,e){this.b=hc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===ac&&(ac=s.Int32Array?new Int32Array(yc):yc),this.reset()}E(lc,(function(){this.b=-1}));for(var hc=64,fc=hc-1,pc=[],dc=0;dc<fc;dc++)pc[dc]=0;var vc=Y(128,pc);function gc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ac[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function mc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(gc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(gc(t),i=0)}}t.c=i,t.g+=n}lc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):$(this.h)};var yc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _c(){lc.call(this,8,bc)}E(_c,lc);var bc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function wc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new cc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Ec(t){return new T("invalid-cordova-configuration",t)}function Ic(t){var e=new _c;mc(e,t),t=[];var n=8*e.g;56>e.c?mc(e,vc,56-e.c):mc(e,vc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(gc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Tc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Sc(t){return t.f||(t.f=t.ma().then((function(){return new _e((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Cc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Ln(o=Mn(i),"firebaseError")||null))?S(o):null)?new jo(r.c,r.b,null,null,o,null,r.T()):new jo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Tc(t,i)}))}var n=new jo("unknown",null,null,null,new T("no-auth-event")),r=!1,i=In(500).then((function(){return Cc(t).then((function(){r||Tc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new Vo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Cc(t){var e=null;return function(t){return t.b.get(uc,t.a).then((function(t){return Uo(t)}))}(t.g).then((function(n){return e=n,ic((n=t.g).b,uc,n.a)})).then((function(){return e}))}function kc(t){this.a=t,this.b=ec()}(t=wc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?vr().then((function(){return new _e((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):ke(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",s))throw Ec("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",s))throw Ec("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",s))throw Ec("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",s))throw Ec("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},t.Ob=function(t,e){return e(new T("operation-not-supported-in-this-environment")),Ce()},t.Mb=function(){return ke(new T("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return ke(new T("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ce().then((function(){return Fo(e),Sc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new jo(e,r,null,o,new T("no-auth-event"),null,i),u=kr("BuildInfo.packageName",s);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",s),l={};if(Cr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Cr().toLowerCase().match(/android/))return ke(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=Ic(o),l.sessionId=o;var h=yu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(uc,a.w(),e)})).then((function(){var e=kr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new T("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",s)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",s)))throw new T("invalid-cordova-configuration");e=Cr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new _e((function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=In(2e3).then((function(){e(new T("redirect-cancelled-by-user"))})))},l=function(){Vr()&&c()},o.addEventListener("resume",c,!1),Cr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return Cc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null}))},t.Ea=function(t){this.b.push(t),Sc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new jo("unknown",null,null,null,new T("no-auth-event")),t(e))}))},t.Sa=function(t){Q(this.b,(function(e){return e==t}))};var Nc={name:"pendingRedirect",F:"session"};function Ac(t){return ic(t.b,Nc,t.a)}function Oc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new zc,this.C=new $c,this.g=new kc(Wc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xc(this.D,this.v,this.m,C,this.J)}function xc(t,e,n,r,i){var o=Oa.SDK_VERSION||null;return gr()?new wc(t,e,n,o,r,i):new du(t,e,n,o,r,i)}function Pc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Rc(t){t.a.Xb()&&Pc(t).o((function(e){var n=new jo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)})),t.a.Tb()||Gc(t.b)}function Dc(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Nc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Ac(t.g).then((function(){Pc(t).o((function(e){var n=new jo("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Uc(e)&&t.s(n)}))})):Rc(t)})).o((function(){Rc(t)}))}function Lc(t,e){Q(t.h,(function(t){return t==e}))}Oc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=xc(this.D,this.v,this.m,null,this.J),this.i={}},Oc.prototype.s=function(t){if(!t)throw new T("invalid-auth-event");if(6e5<=w()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=w())),e=!0;break}}return Gc(this.b),e};var Mc=new Ur(2e3,1e4),Fc=new Ur(3e4,6e4);function jc(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,s)}function Uc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Vc(t,e,n,r,i){var o;return function(t){return t.b.set(Nc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(Uc(e))throw new T("operation-not-supported-in-this-environment");return o=e,Ac(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new _e((function(){})):Ac(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function qc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Mc.get())}Oc.prototype.qa=function(){return this.b.qa()};var Bc={};function Wc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Hc(t,e,n,r){var i=Wc(e,n,r);return Bc[i]||(Bc[i]=new Oc(t,e,n,r)),Bc[i]}function zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Gc(t){t.g||(t.g=!0,Yc(t,!1,null,null))}function Kc(t){t.g&&!t.i&&Yc(t,!1,null,null)}function Qc(t,e){if(t.b=function(){return Ce(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Yc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Qc(t,n):Qc(t,{user:null}),t.f=[],t.c=[]}function $c(){}function Xc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Jc(t,e){this.a=e,Kr(this,"verificationId",t)}function Zc(t,e,n,r){return new Do(t).fb(e,n).then((function(t){return new Jc(t,r)}))}function tl(t){var e=Bi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:qr(1e3*e.exp),authTime:qr(1e3*e.auth_time),issuedAtTime:qr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function el(t,e,n){var r=e&&e[rl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;B(e[nl]||[],(function(t){(t=Jr(t))&&i.b.push(t)})),Kr(this,"auth",this.a),Kr(this,"session",this.c),Kr(this,"hints",this.b)}zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},zc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Yc(this,!0,null,t.a),Ce()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Yc(t,a,e,null)})).o((function(e){Yc(t,a,null,e)}))}(this,t,e):ke(new T("invalid-auth-event")):(Yc(this,!1,null,null),Ce())}else ke(new T("invalid-auth-event"))},zc.prototype.qa=function(){var t=this;return new _e((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new T("timeout");t.a&&t.a.cancel(),t.a=In(Fc.get()).then((function(){t.b||(t.g=!0,Yc(t,!0,null,e))}))}(t))}))},$c.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ce()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):ke(new T("invalid-auth-event"))}else ke(new T("invalid-auth-event"))},Jc.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var nl="mfaInfo",rl="mfaPendingCredential";function il(t,e,n,r){T.call(this,"multi-factor-auth-required",r,e),this.b=new el(t,e,n),Kr(this,"resolver",this.b)}function ol(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new il(e,t.serverResponse,n,t.message)}catch(r){}return null}function sl(){}function al(t){Kr(this,"factorId",t.fa),this.a=t}function ul(t){if(al.call(this,t),this.a.fa!=Do.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function cl(t,e){for(var n in Ke.call(this,t),e)this[n]=e[n]}function ll(t,e){this.a=t,this.b=[],this.c=_(this.yc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&B(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),hl(this,n)}function hl(t,e){t.b=e,Kr(t,"enrolledFactors",e)}function fl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function pl(t,e){t.stop(),t.b=In(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=s.document,e=null;return Vr()||!t?Ce():new _e((function(n){e=function(){Vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){pl(t,!0)})).o((function(e){t.i(e)&&pl(t,!1)}))}function dl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function vl(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function gl(t,e){t.b=qi(e[$s]||""),t.a=e.refreshToken,vl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function ml(t,e){return function(t,e){return new _e((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(iu(t)):t.access_token&&t.refresh_token?n(t):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new T("internal-error"))}))}(t.f,e).then((function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,vl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function yl(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:qr(e||null),creationTime:qr(t||null)})}function _l(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function bl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Oa.SDK_VERSION?Sr(Oa.SDK_VERSION):null;this.a=new Qs(this.l,O(C),r),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new dl(this.a),Nl(this,e[$s]),gl(this.b,e),Kr(this,"refreshToken",this.b.a),xl(this,n||{}),yn.call(this),this.R=!1,this.s&&Ar()&&(this.i=Hc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new fl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=_(this.hb,this);var i=this;this.ya=null,this.Oa=function(t){i.wa(t.h)},this.ja=null,this.Aa=function(t){na(i.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){Il(i,t.f)},this.ba=null,this.O=new ll(this,n),Kr(this,"multiFactor",this.O)}function wl(t,e){t.ja&&cn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&sn(e,"languageCodeChanged",t.Oa)}function El(t,e){t.X&&cn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&sn(e,"emulatorConfigChanged",t.Aa)}function Il(t,e){t.$=e,ia(t.a,Oa.SDK_VERSION?Sr(Oa.SDK_VERSION,t.$):null)}function Tl(t,e){t.ba&&cn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&sn(e,"frameworkChanged",t.Ba)}function Sl(t){try{return Oa.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Cl(t){t.D||t.u.b||(t.u.start(),cn(t,"tokenChanged",t.aa),sn(t,"tokenChanged",t.aa))}function kl(t){cn(t,"tokenChanged",t.aa),t.u.stop()}function Nl(t,e){t.za=e,Kr(t,"_lat",e)}function Al(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Ae(e).then((function(){return t}))}function Ol(t){t.i&&!t.R&&(t.R=!0,Dc(t.i,t))}function xl(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new yl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Pl(){}function Rl(t){return Ce().then((function(){if(t.D)throw new T("app-deleted")}))}function Dl(t){return H(t.providerData,(function(t){return t.providerId}))}function Ll(t,e){e&&(Ml(t,e.providerId),t.providerData.push(e))}function Ml(t,e){Q(t.providerData,(function(t){return t.providerId==e}))}function Fl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Kr(t,e,n)}function jl(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Kr(t,"metadata",function(t){return new yl(t.a,t.b)}(e.metadata)):Kr(t,"metadata",new yl),B(e.providerData,(function(e){Ll(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Kr(t,"refreshToken",t.b.a),hl(t.O,e.O.b))}function Ul(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return nu(t.a,Ra,{idToken:e}).then(_(t.Kc,t))}(t,e).then((function(){return n||Fl(t,"isAnonymous",!1),e}))}))}function Vl(t,e){e[$s]&&t.za!=e[$s]&&(gl(t.b,e),t.dispatchEvent(new cl("tokenChanged")),Nl(t,e[$s]),Fl(t,"refreshToken",t.b.a))}function ql(t,e){return Ul(t).then((function(){if(G(Dl(t),e))return Al(t).then((function(){throw new T("provider-already-linked")}))}))}function Bl(t,e,n){return Yr({user:t,credential:Mo(e),additionalUserInfo:e=Ki(e),operationType:n})}function Wl(t,e){return Vl(t,e),t.reload().then((function(){return t}))}function Hl(t,e,n,r,i){if(!Ar())return ke(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=Gi(n.providerId),s=Mr(t.uid+":::"),a=null;(!Pr()||mr())&&t.s&&n.isOAuthProvider&&(a=yu(t.s,t.l,t.m,e,n,null,s,Oa.SDK_VERSION||null,null,null,t.tenantId));var u=fr(a,o&&o.ua,o&&o.ta);return r=r().then((function(){if(Gl(t),!i)return t.I().then((function(){}))})).then((function(){return jc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new _e((function(n,r){t.na(e,null,new T("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=qc(t.i,t,e,u,s)}))})).then((function(t){return u&&hr(u),t?Yr(t):null})).o((function(t){throw u&&hr(u),t})),Kl(t,r,i)}function zl(t,e,n,r,i){if(!Ar())return ke(new T("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=null,s=Mr(t.uid+":::");return r=r().then((function(){if(Gl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=s,Al(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set($l,t.w(),e.a)),e})).then((function(){return Vc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ha)return Xl(t.ha);throw o})).then((function(){if(o)throw o})),Kl(t,r,i)}function Gl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Kl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),ke(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new cl("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){K(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),Sl(t),_(t.jc,t))),n||e}))}function Ql(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[$s]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new bl(e,n,t);return t.providerData&&B(t.providerData,(function(t){t&&Ll(i,Yr(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Yl(t){this.a=t,this.b=ec()}el.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=pt(e.f);return delete n[nl],delete n[rl],vt(n,t),e.g(n)}))},E(il,T),sl.prototype.sb=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Ro(t.a)}),nu(e,xa,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Ro(t.a)}),nu(e,Pa,n)}))}(this,t,e)},E(al,sl),E(ul,al),E(cl,Ke),(t=ll.prototype).yc=function(t){hl(this,function(t){var e=[];return B(t.mfaInfo||[],(function(t){(t=Jr(t))&&e.push(t)})),e}(t.hd))},t.Rb=function(){return this.a.I().then((function(t){return new ro(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Vl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return nu(r,eu,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=W(e.b,(function(t){return t.uid!=n}));return hl(e,r),Vl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.w()}))}}},fl.prototype.start=function(){this.a=this.c,pl(this,!0)},fl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new T("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?ml(this,{grant_type:"refresh_token",refresh_token:this.a}):Ce(null):Ce({accessToken:this.b.toString(),refreshToken:this.a})},yl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(bl,yn),bl.prototype.wa=function(t){this.ya=t,ea(this.a,t)},bl.prototype.la=function(){return this.ya},bl.prototype.Ga=function(){return $(this.$)},bl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Kr(bl.prototype,"providerId","firebase"),(t=bl.prototype).reload=function(){var t=this;return Kl(this,Rl(this).then((function(){return Ul(t).then((function(){return Al(t)})).then(Pl)})))},t.oc=function(t){return this.I(t).then((function(t){return new tl(t)}))},t.I=function(t){var e=this;return Kl(this,Rl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new T("internal-error");return t.accessToken!=e.za&&(Nl(e,t.accessToken),e.dispatchEvent(new cl("tokenChanged"))),Fl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new T("internal-error");xl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new _l(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ll(this,e[n]);Fl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new cl("userReloaded",{hd:t}))},t.Lc=function(t){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Kl(this,t.c(this.a,this.uid).then((function(t){return Vl(e,t),n=Bl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Kl(this,ql(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Bl(e,t,"link"),Wl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Kl(this,ql(this,"phone").then((function(){return Zc(Sl(n),t,e,_(n.qb,n))})))},t.Mc=function(t,e){var n=this;return Kl(this,Ce().then((function(){return Zc(Sl(n),t,e,_(n.tb,n))})),!0)},t.Bb=function(t){var e=this;return Kl(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Vl(e,t),e.reload()})))},t.ed=function(t){var e=this;return Kl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Vl(e,t),e.reload()})))},t.Cb=function(t){var e=this;return Kl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Vl(e,t),e.reload()})))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Rl(this);var e=this;return Kl(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Vl(e,t),Fl(e,"displayName",t.displayName||null),Fl(e,"photoURL",t.photoUrl||null),B(e.providerData,(function(t){"password"===t.providerId&&(Kr(t,"displayName",e.displayName),Kr(t,"photoURL",e.photoURL))})),Al(e)})).then(Pl))},t.cd=function(t){var e=this;return Kl(this,Ul(this).then((function(n){return G(Dl(e),t)?function(t,e,n){return nu(t,ka,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return B(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),B(Dl(e),(function(t){n[t]||Ml(e,t)})),n[Do.PROVIDER_ID]||Kr(e,"phoneNumber",null),Al(e)})):Al(e).then((function(){throw new T("no-such-provider")}))})))},t.delete=function(){var t=this;return Kl(this,this.I().then((function(e){return nu(t.a,Ca,{idToken:e})})).then((function(){t.dispatchEvent(new cl("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");wl(t,null),El(t,null),Tl(t,null),t.J=[],t.D=!0,kl(t),Kr(t,"refreshToken",null),t.i&&Lc(t.i,t)}))},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Lb,this):null},t.Ec=function(t){var e=this;return Hl(this,"linkViaPopup",t,(function(){return ql(e,t.providerId).then((function(){return Al(e)}))}),!1)},t.Nc=function(t){return Hl(this,"reauthViaPopup",t,(function(){return Ce()}),!0)},t.Fc=function(t){var e=this;return zl(this,"linkViaRedirect",t,(function(){return ql(e,t.providerId)}),!1)},t.Oc=function(t){return zl(this,"reauthViaRedirect",t,(function(){return Ce()}),!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,this.I().then((function(n){return _a(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Bl(i,t,"link"),Wl(i,t)})).then((function(){return o})))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Kl(this,Ce().then((function(){return ao(ba(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Bl(i,t,"reauthenticate"),Vl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.ub=function(t){var e=this,n=null;return Kl(this,this.I().then((function(e){return n=e,void 0===t||ft(t)?{}:Fi(new ki(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Eb=function(t,e){var n=this,r=null;return Kl(this,this.I().then((function(t){return r=t,void 0===e||ft(e)?{}:Fi(new ki(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Kl(this,t=ao(Ce(t),n.uid).then((function(t){return e=Bl(n,t,"reauthenticate"),Vl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),B(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),vt(t,this.O.w()),t};var $l={name:"redirectUser",F:"session"};function Xl(t){return ic(t.b,$l,t.a)}function Jl(t){this.a=t,this.b=ec(),this.c=null,this.f=function(t){var e=eh("local"),n=eh("session"),r=eh("none");return function(t,e,n){var r=rc(e,n),i=nc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Lr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(th,t.a).then((function(t){return t?eh(t):e}))}))}))})).then((function(e){return t.c=e,Zl(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(eh("local"),this.a,_(this.g,this))}function Zl(t,e){var n,r=[];for(n in Zu)Zu[n]!==e&&r.push(ic(t.b,eh(Zu[n]),t.a));return r.push(ic(t.b,th,t.a)),function(t){return new _e((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ne(t[a],b(o,a),s);else e(i)}))}(r)}Jl.prototype.g=function(){var t=this,e=eh("local");oh(this,(function(){return Ce().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Zl(t,"local").then((function(){t.c=e}))}))}))};var th={name:"persistence",F:"session"};function eh(t){return{name:"authUser",F:t}}function nh(t,e){return oh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function rh(t){return oh(t,(function(){return ic(t.b,t.c,t.a)}))}function ih(t,e,n){return oh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Ql(t||{})}))}))}function oh(t,e){return t.f=t.f.then(e,e),t.f}function sh(t){if(this.l=!1,Kr(this,"settings",new Xc),Kr(this,"app",t),!vh(this).options||!vh(this).options.apiKey)throw new T("invalid-api-key");t=Oa.SDK_VERSION?Sr(Oa.SDK_VERSION):null,this.a=new Qs(vh(this).options&&vh(this).options.apiKey,O(C),t),this.R=[],this.s=[],this.O=[],this.hb=Oa.INTERNAL.createSubscribe(_(this.zc,this)),this.X=void 0,this.bc=Oa.INTERNAL.createSubscribe(_(this.Ac,this)),ph(this,null),this.i=new Jl(vh(this).options.apiKey+":"+vh(this).name),this.D=new Yl(vh(this).options.apiKey+":"+vh(this).name),this.$=_h(this,function(t){var e=vh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get($l,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ql(t||{})}))}(t.D,vh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),Xl(t.D)}));return _h(t,e)}(t).then((function(){return ih(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return nh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:rh(t.i)}))):null})).then((function(e){ph(t,e||null)}));return _h(t,n)}(this)),this.h=_h(this,function(t){return t.$.then((function(){return hh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(eh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.ya=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(t){var e=vh(t).options.authDomain,n=vh(t).options.apiKey;e&&Ar()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Hc(e,n,vh(t).name,t.P),Dc(t.b,t),gh(t)&&Ol(gh(t)),t.m){Ol(t.m);var r=t.m;r.wa(t.la()),wl(r,t),Il(r=t.m,t.J),Tl(r,t),na((r=t.m).a,t.P),El(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Mn(this.P.url);t=Yr({protocol:t.c,host:t.a,port:t.g,options:Yr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function ah(t){Ke.call(this,"languageCodeChanged"),this.h=t}function uh(t){Ke.call(this,"emulatorConfigChanged"),this.c=t}function ch(t){Ke.call(this,"frameworkChanged"),this.f=t}function lh(t){return t.Oa||ke(new T("auth-domain-config-required"))}function hh(t){if(!Ar())return ke(new T("operation-not-supported-in-this-environment"));var e=lh(t).then((function(){return t.b.qa()})).then((function(t){return t?Yr(t):null}));return _h(t,e)}function fh(t,e){var n={};return n.apiKey=vh(t).options.apiKey,n.authDomain=vh(t).options.authDomain,n.appName=vh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new bl(t,e);return n&&(i.ha=n),r&&Il(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return gh(t)&&e.uid==gh(t).uid?(jl(gh(t),e),t.da(e)):(ph(t,e),Ol(e),t.da(e))})).then((function(){yh(t)}))}function ph(t,e){gh(t)&&(function(t,e){Q(t.S,(function(t){return t==e}))}(gh(t),t.Ba),cn(gh(t),"tokenChanged",t.ya),cn(gh(t),"userDeleted",t.za),cn(gh(t),"userInvalidated",t.Aa),kl(gh(t))),e&&(e.S.push(t.Ba),sn(e,"tokenChanged",t.ya),sn(e,"userDeleted",t.za),sn(e,"userInvalidated",t.Aa),0<t.u&&Cl(e)),Kr(t,"currentUser",e),e&&(e.wa(t.la()),wl(e,t),Il(e,t.J),Tl(e,t),na(e.a,t.P),El(e,t))}function dh(t,e){var n=null,r=null;return _h(t,e.then((function(e){return n=Mo(e),r=Ki(e),fh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ol(e.w(),t,_(t.kc,t))),n||e})).then((function(){return Yr({user:gh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function vh(t){return t.app}function gh(t){return t.currentUser}function mh(t){return gh(t)&&gh(t)._lat||null}function yh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](mh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](mh(t))}}function _h(t,e){return t.R.push(e),e.oa((function(){K(t.R,e)})),e}function bh(){}function wh(){this.a={},this.b=1e12}Jl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");t:{for(r in Zu)if(Zu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(_r()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Pu()&&"none"!==t)throw n;break;default:if(!Nr()&&"none"!==t)throw n}}(t),oh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Zl(n,t)})).then((function(){if(n.c=eh(t),e)return n.b.set(n.c,e,n.a)})):Ce()}))},E(sh,yn),E(ah,Ke),E(uh,Ke),E(ch,Ke),(t=sh.prototype).xb=function(t){return _h(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new ah(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&vr().then((function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,na(this.a,this.P),this.dispatchEvent(new uh(this.P))}},t.Gc=function(t){this.J.push(t),ia(this.a,Oa.SDK_VERSION?Sr(Oa.SDK_VERSION,this.J):null),this.dispatchEvent(new ch(this.J))},t.Ga=function(){return $(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:vh(this).options.apiKey,authDomain:vh(this).options.authDomain,appName:vh(this).name,currentUser:gh(this)&&gh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return dh(i,ya(i.a,o))}))},t.Xc=function(t){if(!Ar())return ke(new T("operation-not-supported-in-this-environment"));var e=this,n=Gi(t.providerId),r=Mr(),i=null;(!Pr()||mr())&&vh(this).options.authDomain&&t.isOAuthProvider&&(i=yu(vh(this).options.authDomain,vh(this).options.apiKey,vh(this).name,"signInViaPopup",t,null,r,Oa.SDK_VERSION||null,null,null,this.T(),this.P));var o=fr(i,n&&n.ua,n&&n.ta);return _h(this,n=lh(this).then((function(n){return jc(n,o,"signInViaPopup",t,r,!!i,e.T())})).then((function(){return new _e((function(t,n){e.na("signInViaPopup",null,new T("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=qc(e.b,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&hr(o),t?Yr(t):null})).o((function(t){throw o&&hr(o),t})))},t.Yc=function(t){if(!Ar())return ke(new T("operation-not-supported-in-this-environment"));var e=this;return _h(this,lh(this).then((function(){return function(t){return oh(t,(function(){return t.b.set(th,t.c.F,t.a)}))}(e.i)})).then((function(){return Vc(e.b,"signInViaRedirect",t,void 0,e.T())})))},t.qa=function(){var t=this;return hh(this).then((function(e){return t.b&&Kc(t.b.b),e})).o((function(e){throw t.b&&Kc(t.b.b),e}))},t.dd=function(t){if(!t)return ke(new T("null-user"));if(this.S!=t.tenantId)return ke(new T("tenant-id-mismatch"));var e=this,n={};n.apiKey=vh(this).options.apiKey,n.authDomain=vh(this).options.authDomain,n.appName=vh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[$s]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new bl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Il(e,r),jl(e,t),e}(t,n,e.D,e.Ga());return _h(this,this.h.then((function(){if(vh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return gh(e)&&t.uid==gh(e).uid?(jl(gh(e),t),e.da(t)):(ph(e,r),Ol(r),e.da(r))})).then((function(){yh(e)})))},t.Ab=function(){var t=this;return _h(this,this.h.then((function(){return t.b&&Kc(t.b.b),gh(t)?(ph(t,null),rh(t.i).then((function(){yh(t)}))):Ce()})))},t.Zc=function(){var t=this;return ih(this.i,vh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=gh(t)&&e){n=gh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return jl(gh(t),e),gh(t).I();(gh(t)||e)&&(ph(t,e),e&&(Ol(e),e.ha=t.D),t.b&&Dc(t.b,t),yh(t))}}))},t.da=function(t){return nh(this.i,t)},t.mc=function(){yh(this),this.da(gh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then((function(){return dh(e,Ce(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(gh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),_h(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(mh(t)))})))}(this,(function(){t.next(gh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof t?t(gh(r)):"function"==typeof t.next&&t.next(gh(r))})),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof t?t(gh(r)):"function"==typeof t.next&&t.next(gh(r))})),this.bc(t,e,n)},t.nc=function(t){var e=this;return _h(this,this.h.then((function(){return gh(e)?gh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return dh(e,nu(e.a,$a,{token:t}))})).then((function(t){var n=t.user;return Fl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return dh(n,nu(n.a,Xa,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return dh(n,nu(n.a,Ta,{email:t,password:e}))}))},t.$a=function(t){var e=this;return this.h.then((function(){return dh(e,t.ka(e.a))}))},t.Sc=function(t){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then((function(){var e=gh(t);if(e&&e.isAnonymous){var n=Yr({providerId:null,isNewUser:!1});return Yr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return dh(t,t.a.zb()).then((function(e){var n=e.user;return Fl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return gh(this)&&gh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&gh(this)&&Cl(gh(this))},t.Pc=function(t){var e=this;B(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&gh(this)&&kl(gh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),_h(this,this.h.then((function(){e.l||G(e.s,t)&&t(mh(e))})))},t.removeAuthTokenListener=function(t){Q(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(eh("local"),t.a,this.ja),this.b&&(Lc(this.b,this),Kc(this.b.b)),Promise.resolve()},t.hc=function(t){return _h(this,function(t,e){return nu(t,Sa,{identifier:e,continueUri:Or()?ar():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Oo(t)},t.wb=function(t,e){var n=this;return _h(this,Ce().then((function(){var t=new ki(e);if(!t.c)throw new T("argument-error",Oi+" must be true when sending sign in link to email");return Fi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},t.nb=function(t,e){return _h(this,this.a.nb(t,e).then((function(){})))},t.Ra=function(t){return _h(this,this.a.Ra(t).then((function(t){return new ii(t)})))},t.jb=function(t){return _h(this,this.a.jb(t).then((function(){})))},t.vb=function(t,e){var n=this;return _h(this,Ce().then((function(){return void 0===e||ft(e)?{}:Fi(new ki(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},t.Wc=function(t,e){return _h(this,Zc(this,t,e,_(this.$a,this)))},t.Vc=function(t,e){var n=this;return _h(this,Ce().then((function(){var r=e||ar(),i=Ao(t,r);if(!(r=Oo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.$a(i)})))},bh.prototype.render=function(){},bh.prototype.reset=function(){},bh.prototype.getResponse=function(){},bh.prototype.execute=function(){};var Eh=null;function Ih(t,e){return(e=Th(e))&&t.a[e]||null}function Th(t){return(t=void 0===t?1e12:t)?t.toString():null}function Sh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function Ch(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function kh(){}function Nh(){}wh.prototype.render=function(t,e){return this.a[this.b.toString()]=new Sh(t,e),this.b++},wh.prototype.reset=function(t){var e=Ih(this,t);t=Th(t),e&&t&&(e.delete(),delete this.a[t])},wh.prototype.getResponse=function(t){return(t=Ih(this,t))?t.getResponse():null},wh.prototype.execute=function(t){(t=Ih(this,t))&&t.execute()},Sh.prototype.getResponse=function(){return Ch(this),this.b},Sh.prototype.execute=function(){Ch(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Sh.prototype.delete=function(){Ch(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},Kr(kh,"FACTOR_ID","phone"),Nh.prototype.g=function(){return Eh||(Eh=new wh),Ce(Eh)},Nh.prototype.c=function(){};var Ah=null;function Oh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xh=new mt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ph=new Ur(3e4,6e4);Oh.prototype.g=function(t){var e=this;return new _e((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Ph.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete s[e.a]},Ce(qs(St(xh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},Oh.prototype.c=function(){this.b--};var Rh=null;function Dh(t,e,n,r,i,o,a){if(Kr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Ah||(Ah=new Nh),a=Ah):(Rh||(Rh=new Oh),a=Rh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Fh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[jh],!s.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qs(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Lh];this.a[Lh]=function(t){if(Uh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Mh];this.a[Mh]=function(){if(Uh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=kr(l,s);"function"==typeof t&&t()}}}var Lh="callback",Mh="expired-callback",Fh="sitekey",jh="size";function Uh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Vh(t,e){return t.h.push(e),e.oa((function(){K(t.h,e)})),e}function qh(t){if(t.D)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Bh(t,e,n){var r=!1;try{this.b=n||Oa.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=Oa.SDK_VERSION?Sr(Oa.SDK_VERSION,o):null,Dh.call(this,n,t,e,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,O(C),r)}function Wh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Hh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Hh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new T("argument-error",t+" failed: "+r)}(t=Dh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Vh(this,Ce().then((function(){if(Or()&&!yr())return vr();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,nu(t.s,Ua,{})})).then((function(e){t.a[Fh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){qh(this);var t=this;return Vh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){qh(this);var t=this;return Vh(this,this.render().then((function(e){return new _e((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Q(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){qh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){qh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Bh,Dh);var Hh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function zh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Gh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Kh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:d}}function Qh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Yh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function $h(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Xh(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Jh(t){return d(t)&&"string"==typeof t.uid}function Zh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function tf(t,e){for(var n in e){var r=e[n].name;t[r]=rf(r,t[n],e[n].j)}}function ef(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){Wh(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function nf(t,e,n,r){t[e]=rf(e,n,r)}function rf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Wh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}tf(sh.prototype,{jb:{name:"applyActionCode",j:[zh("code")]},Ra:{name:"checkActionCode",j:[zh("code")]},nb:{name:"confirmPasswordReset",j:[zh("code"),zh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[zh("email"),zh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[zh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[zh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Zh(Kh(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Zh(Kh(),Qh(),"nextOrObserver"),Qh("opt_error",!0),Qh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[zh("email"),Zh(Kh("opt_actionCodeSettings",!0),Yh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[zh("email"),Kh("actionCodeSettings")]},xb:{name:"setPersistence",j:[zh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[$h()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[$h()]},Tc:{name:"signInWithCustomToken",j:[zh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[zh("email"),zh("password")]},Vc:{name:"signInWithEmailLink",j:[zh("email"),zh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Zh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof bl)}},Yh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[zh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[zh("url"),Kh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[zh("code")]}}),ef(sh.prototype,{lc:{name:"languageCode",kb:Zh(zh(),Yh(),"languageCode")},ti:{name:"tenantId",kb:Zh(zh(),Yh(),"tenantId")}}),sh.Persistence=Zu,sh.Persistence.LOCAL="local",sh.Persistence.SESSION="session",sh.Persistence.NONE="none",tf(bl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Gh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Gh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[$h()]},qb:{name:"linkWithCredential",j:[$h()]},Dc:{name:"linkWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[$h()]},tb:{name:"reauthenticateWithCredential",j:[$h()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[zh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Zh(Kh("opt_actionCodeSettings",!0),Yh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[zh(null,!0)]},cd:{name:"unlink",j:[zh("provider")]},Bb:{name:"updateEmail",j:[zh("email")]},Cb:{name:"updatePassword",j:[zh("password")]},ed:{name:"updatePhoneNumber",j:[$h("phone")]},Db:{name:"updateProfile",j:[Kh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[zh("email"),Zh(Kh("opt_actionCodeSettings",!0),Yh(null,!0),"opt_actionCodeSettings",!0)]}}),tf(wh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(bh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ef(Xc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Gh("appVerificationDisabledForTesting")}}),tf(Jc.prototype,{confirm:{name:"confirm",j:[zh("verificationCode")]}}),nf(so,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[po,ko,Po,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Zh(zh(),Kh(),"json")]),nf(No,"credential",(function(t,e){return new Co(t,e)}),[zh("email"),zh("password")]),tf(Co.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),tf(yo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(yo,"credential",_o,[Zh(zh(),Kh(),"token")]),nf(No,"credentialWithLink",Ao,[zh("email"),zh("emailLink")]),tf(bo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(bo,"credential",wo,[Zh(zh(),Kh(),"token")]),tf(Eo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(Eo,"credential",Io,[Zh(zh(),Zh(Kh(),Yh()),"idToken"),Zh(zh(),Yh(),"accessToken",!0)]),tf(To.prototype,{Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),nf(To,"credential",So,[Zh(zh(),Kh(),"token"),zh("secret",!0)]),tf(mo.prototype,{Ca:{name:"addScope",j:[zh("scope")]},credential:{name:"credential",j:[Zh(zh(),Zh(Kh(),Yh()),"optionsOrIdToken"),Zh(zh(),Yh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Kh("customOAuthParameters")]}}),tf(ho.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),tf(uo.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),nf(Do,"credential",Lo,[zh("verificationId"),zh("verificationCode")]),tf(Do.prototype,{fb:{name:"verifyPhoneNumber",j:[Zh(zh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Xh(t.session,io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Xh(t.session,oo)&&Jh(t.multiFactorHint):t.session&&t.multiFactorUid?Xh(t.session,oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),tf(xo.prototype,{w:{name:"toJSON",j:[zh(null,!0)]}}),tf(T.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),tf(Ho.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),tf(Wo.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),tf(il.prototype,{toJSON:{name:"toJSON",j:[zh(null,!0)]}}),tf(el.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),tf(ll.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},zh("displayName",!0)]},bd:{name:"unenroll",j:[Zh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Jh},zh(),"multiFactorInfoIdentifier")]}}),tf(Bh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),nf(yi,"parseLink",Ci,[zh("link")]),nf(kh,"assertion",(function(t){return new ul(t)}),[$h("phone")]),function(){if(void 0===Oa||!Oa.INTERNAL||!Oa.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sh,AuthCredential:so,Error:T};nf(t,"EmailAuthProvider",No,[]),nf(t,"FacebookAuthProvider",yo,[]),nf(t,"GithubAuthProvider",bo,[]),nf(t,"GoogleAuthProvider",Eo,[]),nf(t,"TwitterAuthProvider",To,[]),nf(t,"OAuthProvider",mo,[zh("providerId")]),nf(t,"SAMLAuthProvider",go,[zh("providerId")]),nf(t,"PhoneAuthProvider",Do,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof sh)}}]),nf(t,"RecaptchaVerifier",Bh,[Zh(zh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Kh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Oa.app.App)}}]),nf(t,"ActionCodeURL",yi,[]),nf(t,"PhoneMultiFactorGenerator",kh,[]),Oa.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new sh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Oa.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.nc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Oa.registerVersion("@firebase/auth","0.16.4"),Oa.INTERNAL.extendNamespace({User:bl})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var KS=function(t){function e(n,r){var i=t.call(this,QS(n),"Firebase Storage: "+r+" ("+QS(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return as(e,t),e.prototype._codeEquals=function(t){return QS(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Ds);function QS(t){return"storage/"+t}function YS(){return new KS("unknown","An unknown error occurred, please check the error payload for server response.")}function $S(){return new KS("canceled","User canceled the upload/download.")}function XS(){return new KS("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function JS(t){return new KS("invalid-argument",t)}function ZS(){return new KS("app-deleted","The Firebase app was deleted.")}function tC(t){return new KS("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eC(t,e){return new KS("invalid-format","String does not match format '"+t+"': "+e)}function nC(t){throw new KS("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},iC=function(t,e){this.data=t,this.contentType=e||null};function oC(t,e){switch(t){case rC.RAW:return new iC(sC(e));case rC.BASE64:case rC.BASE64URL:return new iC(aC(t,e));case rC.DATA_URL:return new iC((n=new uC(e)).base64?aC(rC.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(qw){throw eC(rC.DATA_URL,"Malformed data URL.")}return sC(e)}(n.rest),function(t){return new uC(t).contentType}(e))}var n;throw YS()}function sC(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function aC(t,e){switch(t){case rC.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw eC(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case rC.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw eC(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(qw){throw eC(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var uC=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw eC(rC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var cC,lC,hC={STATE_CHANGED:"state_changed"},fC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pC(t){switch(t){case"running":case"pausing":case"canceling":return fC.RUNNING;case"paused":return fC.PAUSED;case"success":return fC.SUCCESS;case"canceled":return fC.CANCELED;case"error":default:return fC.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(lC=cC||(cC={}))[lC.NO_ERROR=0]="NO_ERROR",lC[lC.NETWORK_ERROR=1]="NETWORK_ERROR",lC[lC.ABORT=2]="ABORT";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var dC=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=cC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=cC.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=cC.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw nC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw nC("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw nC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(qw){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw nC("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),vC=function(){function t(){}return t.prototype.createXhrIo=function(){return new dC},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){return"string"==typeof t||t instanceof String}function mC(t){return yC()&&t instanceof Blob}function yC(){return"undefined"!=typeof Blob}function _C(t,e,n,r){if(r<e)throw JS("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw JS("Invalid value for '"+t+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function wC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=bC();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(yC())return new Blob(t);throw new KS("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var EC=function(){function t(t,e){var n=0,r="";mC(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(mC(this.data_)){var r=this.data_,i=(s=e,a=n,(o=r).webkitSlice?o.webkitSlice(s,a):o.mozSlice?o.mozSlice(s,a):o.slice?o.slice(s,a):null);return null===i?null:new t(i)}var o,s,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(yC()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(wC.apply(null,r))}var i=e.map((function(t){return gC(t)?oC(rC.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),IC=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(qw){return new t(e,"")}if(""===n.path)return n;throw new KS("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)";var i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.bucket],f=l[c.indices.path];f||(f=""),n=new t(h,f),c.postModify(n);break}}if(null==n)throw function(t){return new KS("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function TC(t){var e,n;try{e=JSON.parse(t)}catch(qw){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){return"https://firebasestorage.googleapis.com/v0"+t}function kC(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e){return e}var AC=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||NC},OC=null;function xC(){if(OC)return OC;var t=[];t.push(new AC("bucket")),t.push(new AC("generation")),t.push(new AC("metageneration")),t.push(new AC("name","fullPath",!0));var e=new AC("name");e.xform=function(t,e){return function(t){return!gC(t)||t.length<2?t:SC(t)}(e)},t.push(e);var n=new AC("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new AC("timeCreated")),t.push(new AC("updated")),t.push(new AC("md5Hash",null,!0)),t.push(new AC("cacheControl",null,!0)),t.push(new AC("contentDisposition",null,!0)),t.push(new AC("contentEncoding",null,!0)),t.push(new AC("contentLanguage",null,!0)),t.push(new AC("contentType",null,!0)),t.push(new AC("metadata","customMetadata",!0)),OC=t}function PC(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new IC(n,r);return e._makeStorageReference(i)}})}(r,t),r}function RC(t,e,n){var r=TC(e);return null===r?null:PC(t,r,n)}function DC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e,n){var r=TC(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new IC(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];a=t._makeStorageReference(new IC(e,l.name)),r.items.push(a)}return r}(t,e,r)}var MC=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){if(!t)throw YS()}function jC(t,e){return function(n,r){var i=RC(t,r,e);return FC(null!==i),i}}function UC(t,e){return function(n,r){var i=RC(t,r,e);return FC(null!==i),function(t,e){var n=TC(e);if(null===n)return null;if(!gC(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return CC("/b/"+i(n)+"/o/"+i(r))+kC({alt:"media",token:e})}))[0]}(i,r)}}function VC(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new KS("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new KS("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new KS("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function qC(t){var e=VC(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new KS("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function BC(t,e,n){var r=CC(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new MC(r,"GET",jC(t,n),i);return o.errorHandler=qC(e),o}function WC(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=CC(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new MC(s,"GET",function(t,e){return function(n,r){var i=LC(t,e,r);return FC(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=VC(e),u}function HC(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var zC=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function GC(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(qw){FC(!1)}return FC(!!n&&-1!==(e||["active"]).indexOf(n)),n}function KC(t,e,n,r,i,o,s,a){var u=new zC(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new KS("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw XS();var v=e.maxUploadRetryTime,g=new MC(n,"POST",(function(t,n){var i,s=GC(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?jC(e,o)(t,n):null,new zC(a,c,"final"===s,i)}),v);return g.headers=p,g.body=d.uploadData(),g.progressCallback=a||null,g.errorHandler=VC(t),g}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QC=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $C=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=xC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then((function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=HC(e,r,i),a={name:s.fullPath},u=CC(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=DC(s,n),h=t.maxUploadRetryTime,f=new MC(u,"POST",(function(t){var e;GC(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(qw){FC(!1)}return FC(gC(e)),e}),h);return f.urlParams=a,f.headers=c,f.body=l,f.errorHandler=VC(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new MC(n,"POST",(function(t){var e=GC(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(qw){FC(!1)}n||FC(!1);var i=Number(n);return FC(!isNaN(i)),new zC(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=VC(e),o}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new zC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var o;try{o=KC(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(qw){return t._error=qw,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=BC(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=HC(e,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+DC(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+a+"--",h=EC.getBlob(c,r,l);if(null===h)throw XS();var f={name:u.fullPath},p=CC(o),d=t.maxUploadRetryTime,v=new MC(p,"POST",jC(t,n),d);return v.urlParams=f,v.headers=s,v.body=h.uploadData(),v.errorHandler=VC(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=$S(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=pC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new QC(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(pC(this._state)){case fC.SUCCESS:YC(this._resolve.bind(null,this.snapshot))();break;case fC.CANCELED:case fC.ERROR:YC(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(pC(this._state)){case fC.RUNNING:case fC.PAUSED:t.next&&YC(t.next.bind(t,this.snapshot))();break;case fC.SUCCESS:t.complete&&YC(t.complete.bind(t))();break;case fC.CANCELED:case fC.ERROR:t.error&&YC(t.error.bind(t,this._error))();break;default:t.error&&YC(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),XC=function(){function t(t,e){this._service=t,this._location=e instanceof IC?e:IC.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new IC(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return SC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new IC(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw tC(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t){var e={prefixes:[],items:[]};return ZC(t,e).then((function(){return e}))}function ZC(t,e,n){return cs(this,void 0,void 0,(function(){var r,i,o;return ls(this,(function(s){switch(s.label){case 0:return[4,tk(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,ZC(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function tk(t,e){return cs(this,void 0,void 0,(function(){var n,r,i;return ls(this,(function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&_C("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),r=e||{},i=WC(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}}))}))}function ek(t,e){return cs(this,void 0,void 0,(function(){var n,r;return ls(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=CC(e.fullServerUrl()),o=DC(n,r),s=t.maxOperationRetryTime,a=new MC(i,"PATCH",jC(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=qC(e),a}(t.storage,t._location,e,xC()),[2,t.storage._makeRequest(r,n).getPromise()]}}))}))}function nk(t){return cs(this,void 0,void 0,(function(){var e,n;return ls(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=CC(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new MC(r,"GET",UC(t,n),i);return o.errorHandler=qC(e),o}(t.storage,t._location,xC()),[2,t.storage._makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new KS("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function rk(t){return cs(this,void 0,void 0,(function(){var e,n;return ls(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=CC(e.fullServerUrl()),r=t.maxOperationRetryTime,i=new MC(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=qC(e),i}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}function ik(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new IC(t._location.bucket,n);return new XC(t.storage,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ok=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),sk=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new ok(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new ok(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new ok(t,i,i._ref))}:{next:e.next?function(t){return e.next(new ok(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),ak=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new uk(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new uk(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),uk=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(ik(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new sk(function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new $C(t,new EC(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=rC.RAW),this._throwIfRoot("putString");var r=oC(e,t),i=us({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new sk(new $C(this._delegate,new EC(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return JC(this._delegate).then((function(e){return new ak(e,t.storage)}))},t.prototype.list=function(t){var e=this;return tk(this._delegate,t).then((function(t){return new ak(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return cs(this,void 0,void 0,(function(){var e,n;return ls(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=BC(t.storage,t._location,xC()),[2,t.storage._makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return ek(this._delegate,t)},t.prototype.getDownloadURL=function(){return nk(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),rk(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw tC(t)},t}(),ck=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var lk=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(qw){o(qw)}else null!==s?((r=YS()).serverResponse=s.getResponseText(),t.errorCallback_?o(t.errorCallback_(s,r)):o(r)):n.canceled?o(r=t.appDelete_?ZS():$S()):o(r=new KS("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new hk(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function l(e){i=setTimeout((function(){i=null,t(h,a())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,ds([null,t],e));else{var i;a()||o?c.call.apply(c,ds([null,t],e)):(r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),l(i))}}var f=!1;function p(t){f||(f=!0,u||(null!==i?(t||(s=2),clearTimeout(i),l(0)):t||(s=1)))}return l(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new hk(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===cC.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new hk(s,n))}else{var a=n.getErrorCode()===cC.ABORT;e(!1,new hk(!1,null,a))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),hk=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fk(t){return/^[A-Za-z]+:\/\//.test(t)}function pk(t,e){if(t instanceof vk){var n=t;if(null==n._bucket)throw new KS("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new XC(n,n._bucket);return null!=e?pk(r,e):r}if(void 0!==e){if(e.includes(".."))throw JS('`path` param cannot contain ".."');return ik(t,e)}return t}function dk(t,e){if(e&&fk(e)){if(t instanceof vk)return new XC(t,e);throw JS("To use ref(service, url), the first argument must be a Storage instance.")}return pk(t,e)}var vk=function(){function t(t,e,n,r,i){var o,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?IC.makeFromBucketSpec(r):(o=this.app.options,null==(s=null==o?void 0:o.storageBucket)?null:IC.makeFromBucketSpec(s))}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){_C("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){_C("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return cs(this,void 0,void 0,(function(){var t,e;return ls(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new XC(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new ck(ZS());var r=function(t,e,n,r,i){var o=kC(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new lk(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),gk=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(fk(t))throw JS("ref() expected a child path but got a URL, use refFromURL instead.");return new uk(dk(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!fk(t))throw JS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{IC.makeFromUrl(t)}catch(qw){throw JS("refFromUrl() expected a valid full URL but got an invalid one.")}return new uk(dk(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new gk(n,new vk(n,r,new vC,e,Oa.SDK_VERSION))}function yk(t){return Array.prototype.slice.call(t)}function _k(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function bk(t,e,n){var r,i=new Promise((function(i,o){_k(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function wk(t,e,n){var r=bk(t,e,n);return r.then((function(t){if(t)return new kk(t,r.request)}))}function Ek(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function Ik(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return bk(this[e],r,arguments)})}))}function Tk(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function Sk(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return wk(this[e],r,arguments)})}))}function Ck(t){this._index=t}function kk(t,e){this._cursor=t,this._request=e}function Nk(t){this._store=t}function Ak(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function Ok(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Ak(n)}function xk(t){this._db=t}!function(t){var e={TaskState:fC,TaskEvent:hC,StringFormat:rC,Storage:vk,Reference:uk};t.INTERNAL.registerComponent(new ea("storage",mk,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.3")}(Oa),Ek(Ck,"_index",["name","keyPath","multiEntry","unique"]),Ik(Ck,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Sk(Ck,"_index",IDBIndex,["openCursor","openKeyCursor"]),Ek(kk,"_cursor",["direction","key","primaryKey","value"]),Ik(kk,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(kk.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),_k(e._request).then((function(t){if(t)return new kk(t,e._request)}))}))})})),Nk.prototype.createIndex=function(){return new Ck(this._store.createIndex.apply(this._store,arguments))},Nk.prototype.index=function(){return new Ck(this._store.index.apply(this._store,arguments))},Ek(Nk,"_store",["name","keyPath","indexNames","autoIncrement"]),Ik(Nk,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Sk(Nk,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Tk(Nk,"_store",IDBObjectStore,["deleteIndex"]),Ak.prototype.objectStore=function(){return new Nk(this._tx.objectStore.apply(this._tx,arguments))},Ek(Ak,"_tx",["objectStoreNames","mode"]),Tk(Ak,"_tx",IDBTransaction,["abort"]),Ok.prototype.createObjectStore=function(){return new Nk(this._db.createObjectStore.apply(this._db,arguments))},Ek(Ok,"_db",["name","version","objectStoreNames"]),Tk(Ok,"_db",IDBDatabase,["deleteObjectStore","close"]),xk.prototype.transaction=function(){return new Ak(this._db.transaction.apply(this._db,arguments))},Ek(xk,"_db",["name","version","objectStoreNames"]),Tk(xk,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[Nk,Ck].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=yk(arguments),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[Ck,Nk].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var Pk,Rk=((Pk={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Pk["not-registered"]="Firebase Installation is not registered.",Pk["installation-not-found"]="Firebase Installation not found.",Pk["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Pk["app-offline"]="Could not process request. Application offline.",Pk["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Pk),Dk=new Ls("installations","Installations",Rk);function Lk(t){return t instanceof Ds&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Fk(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function jk(t,e){return cs(this,void 0,void 0,(function(){var n,r;return ls(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Dk.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Uk(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Vk(t,e){var n=e.refreshToken,r=Uk(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function qk(t){return cs(this,void 0,void 0,(function(){var e;return ls(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function Bk(t,e){var n=e.fid;return cs(this,void 0,void 0,(function(){var e,r,i,o,s,a;return ls(this,(function(u){switch(u.label){case 0:return e=Mk(t),r=Uk(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.20"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,qk((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:Fk(a.authToken)}];case 3:return[4,jk("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Hk=/^[cdef][\w-]{21}$/;function zk(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,ps(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return Hk.test(e)?e:""}catch(n){return""}}function Gk(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kk=new Map;function Qk(t,e){var n=Gk(t);Yk(n,e),function(t,e){var n=Xk();n&&n.postMessage({key:t,fid:e});Jk()}(n,e)}function Yk(t,e){var n,r,i=Kk.get(t);if(i)try{for(var o=hs(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var $k=null;function Xk(){return!$k&&"BroadcastChannel"in self&&(($k=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){Yk(t.data.key,t.data.fid)}),$k}function Jk(){0===Kk.size&&$k&&($k.close(),$k=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zk="firebase-installations-store",tN=null;function eN(){var t,e,n;return tN||(t=function(t){switch(t.oldVersion){case 0:t.createObjectStore(Zk)}},e=bk(indexedDB,"open",["firebase-installations-database",1]),(n=e.request)&&(n.onupgradeneeded=function(e){t&&t(new Ok(n.result,e.oldVersion,n.transaction))}),tN=e.then((function(t){return new xk(t)}))),tN}function nN(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o,s;return ls(this,(function(a){switch(a.label){case 0:return n=Gk(t),[4,eN()];case 1:return r=a.sent(),i=r.transaction(Zk,"readwrite"),[4,(o=i.objectStore(Zk)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||Qk(t,e.fid),[2,e]}}))}))}function rN(t){return cs(this,void 0,void 0,(function(){var e,n,r;return ls(this,(function(i){switch(i.label){case 0:return e=Gk(t),[4,eN()];case 1:return n=i.sent(),[4,(r=n.transaction(Zk,"readwrite")).objectStore(Zk).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function iN(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o,s,a;return ls(this,(function(u){switch(u.label){case 0:return n=Gk(t),[4,eN()];case 1:return r=u.sent(),i=r.transaction(Zk,"readwrite"),[4,(o=i.objectStore(Zk)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||Qk(t,a.fid),[2,a]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){return cs(this,void 0,void 0,(function(){var e,n,r;return ls(this,(function(i){switch(i.label){case 0:return[4,iN(t,(function(n){var r=function(t){return uN(t||{fid:zk(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Dk.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return cs(this,void 0,void 0,(function(){var n,r;return ls(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Bk(t,e)];case 1:return n=i.sent(),[2,nN(t,n)];case 2:return Lk(r=i.sent())&&409===r.customData.serverCode?[4,rN(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,nN(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:sN(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function sN(t){return cs(this,void 0,void 0,(function(){var e,n,r,i;return ls(this,(function(o){switch(o.label){case 0:return[4,aN(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Wk(100)];case 3:return o.sent(),[4,aN(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,oN(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function aN(t){return iN(t,(function(t){if(!t)throw Dk.create("installation-not-found");return uN(t)}))}function uN(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function cN(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return cs(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return ls(this,(function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return Mk(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=Vk(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.20"}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,qk((function(){return fetch(t,a)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,Fk(c)];case 3:return[4,jk("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function lN(t,e){return void 0===e&&(e=!1),cs(this,void 0,void 0,(function(){var n,r,i;return ls(this,(function(o){switch(o.label){case 0:return[4,iN(t.appConfig,(function(r){if(!fN(r))throw Dk.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return cs(this,void 0,void 0,(function(){var n,r;return ls(this,(function(i){switch(i.label){case 0:return[4,hN(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Wk(100)];case 3:return i.sent(),[4,hN(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,lN(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw Dk.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return us(us({},t),{authToken:e})}(r);return n=function(t,e){return cs(this,void 0,void 0,(function(){var n,r,i;return ls(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,cN(t,e)];case 1:return n=o.sent(),i=us(us({},e),{authToken:n}),[4,nN(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Lk(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,rN(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=us(us({},e),{authToken:{requestStatus:0}}),[4,nN(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function hN(t){return iN(t,(function(t){if(!fN(t))throw Dk.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?us(us({},t),{authToken:{requestStatus:0}}):t}))}function fN(t){return void 0!==t&&2===t.registrationStatus}function pN(t){return cs(this,void 0,void 0,(function(){var e;return ls(this,(function(n){switch(n.label){case 0:return[4,oN(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t,e){return cs(this,void 0,void 0,(function(){var n,r,i,o;return ls(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return Mk(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=Vk(t,e),i={method:"DELETE",headers:r},[4,qk((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,jk("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function vN(t,e){var n=t.appConfig;return function(t,e){Xk();var n=Gk(t),r=Kk.get(n);r||(r=new Set,Kk.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=Gk(t),r=Kk.get(n);r&&(r.delete(e),0===r.size&&Kk.delete(n),Jk())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){return Dk.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new ea("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw gN("App Configuration");if(!t.name)throw gN("App Name");try{for(var r=hs(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw gN(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t){return cs(this,void 0,void 0,(function(){var e,n,r;return ls(this,(function(i){switch(i.label){case 0:return[4,oN(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):lN(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),cs(this,void 0,void 0,(function(){return ls(this,(function(n){switch(n.label){case 0:return[4,pN(t.appConfig)];case 1:return n.sent(),[4,lN(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return cs(this,void 0,void 0,(function(){var e,n;return ls(this,(function(r){switch(r.label){case 0:return[4,iN(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Dk.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Dk.create("app-offline");case 3:return[4,dN(e,n)];case 4:return r.sent(),[4,rN(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return vN(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.20")}(Oa);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var mN,yN,_N,bN,wN="https://www.googletagmanager.com/gtag/js";(yN=mN||(mN={})).EVENT="event",yN.SET="set",yN.CONFIG="config",(bN=_N||(_N={})).ADD_SHIPPING_INFO="add_shipping_info",bN.ADD_PAYMENT_INFO="add_payment_info",bN.ADD_TO_CART="add_to_cart",bN.ADD_TO_WISHLIST="add_to_wishlist",bN.BEGIN_CHECKOUT="begin_checkout",bN.CHECKOUT_PROGRESS="checkout_progress",bN.EXCEPTION="exception",bN.GENERATE_LEAD="generate_lead",bN.LOGIN="login",bN.PAGE_VIEW="page_view",bN.PURCHASE="purchase",bN.REFUND="refund",bN.REMOVE_FROM_CART="remove_from_cart",bN.SCREEN_VIEW="screen_view",bN.SEARCH="search",bN.SELECT_CONTENT="select_content",bN.SELECT_ITEM="select_item",bN.SELECT_PROMOTION="select_promotion",bN.SET_CHECKOUT_OPTION="set_checkout_option",bN.SHARE="share",bN.SIGN_UP="sign_up",bN.TIMING_COMPLETE="timing_complete",bN.VIEW_CART="view_cart",bN.VIEW_ITEM="view_item",bN.VIEW_ITEM_LIST="view_item_list",bN.VIEW_PROMOTION="view_promotion",bN.VIEW_SEARCH_RESULTS="view_search_results";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var EN,IN=new da("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t,e,n,r,i,o){return cs(this,void 0,void 0,(function(){var s,a,u,c;return ls(this,(function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(u=a.find((function(t){return t.measurementId===i})))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),IN.error(c),[3,8];case 8:return t(mN.CONFIG,i,o),[2]}}))}))}function SN(t,e,n,r,i){return cs(this,void 0,void 0,(function(){var o,s,a,u,c,l,h,f;return ls(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=p.sent(),u=function(t){var n=a.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=s;c<l.length&&(h=l[c],"break"!==u(h));c++);p.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return p.sent(),t(mN.EVENT,r,i||{}),[3,5];case 4:return f=p.sent(),IN.error(f),[3,5];case 5:return[2]}}))}))}function CN(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return cs(this,void 0,void 0,(function(){var a;return ls(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==mN.EVENT?[3,2]:[4,SN(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==mN.CONFIG?[3,4]:[4,TN(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(mN.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),IN.error(a),[3,7];case 7:return[2]}}))}))}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}var kN=((EN={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",EN["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",EN["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",EN["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",EN["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",EN["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",EN["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",EN["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',EN["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',EN),NN=new Ls("analytics","Analytics",kN),AN=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function ON(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function xN(t){var e;return cs(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return ls(this,(function(c){switch(c.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:ON(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=c.sent()).status||304===s.status)return[3,6];a="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,s.json()];case 3:return u=c.sent(),(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw NN.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a});case 6:return[2,s.json()]}}))}))}function PN(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=AN),cs(this,void 0,void 0,(function(){var e,s,a,u,c,l,h;return ls(this,(function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,RN(n,i)];case 2:return f.sent(),[3,4];case 3:if(a=f.sent(),s)return IN.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return f.trys.push([4,6,,7]),[4,xN(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof Ds&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),s)return IN.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return l=503===Number(c.customData.httpStatus)?ta(o,r.intervalMillis,30):ta(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),IN.debug("Calling attemptFetch again in "+l+" millis"),[2,PN(t,h,n,r)];case 7:return[2]}}))}))}function RN(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(NN.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var DN=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e,n,r,i,o){return cs(this,void 0,void 0,(function(){var s,a,u,c,l,h,f;return ls(this,(function(p){switch(p.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=AN),cs(this,void 0,void 0,(function(){var r,i,o,s,a,u,c=this;return ls(this,(function(l){if(r=t.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw NN.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw NN.create("no-api-key")}return a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new DN,setTimeout((function(){return cs(c,void 0,void 0,(function(){return ls(this,(function(t){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,PN({appId:i,apiKey:o,measurementId:s},a,u,e)]}))}))}(t)).then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&IN.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return IN.error(t)})),e.push(s),a=function(){return cs(this,void 0,void 0,(function(){var t;return ls(this,(function(e){switch(e.label){case 0:return xs()?[3,1]:(IN.warn(NN.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Ps()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),IN.warn(NN.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(t){return t?r.getId():void 0})),[4,Promise.all([s,a])];case 1:return u=p.sent(),c=u[0],l=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(wN))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(t,e){var n=document.createElement("script");n.src=wN+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(mN.CONFIG,c.measurementId,h),[2,c.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MN,FN,jN={},UN=[],VN={},qN="dataLayer",BN="gtag",WN=!1;function HN(t){if(WN)throw NN.create("already-initialized");t.dataLayerName&&(qN=t.dataLayerName),t.gtagName&&(BN=t.gtagName)}function zN(t,e){!function(){var t=[];if(Ns()&&t.push("This is a browser extension environment."),Rs()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=NN.create("invalid-analytics-context",{errorInfo:e});IN.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw NN.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw NN.create("no-api-key");IN.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=jN[i])throw NN.create("already-exists",{id:i});if(!WN){n=qN,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=CN(jN,UN,VN,qN,BN),s=o.wrappedGtag,a=o.gtagCore;FN=s,MN=a,WN=!0}return jN[i]=LN(t,UN,VN,e,MN,qN),{app:t,logEvent:function(t,e,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n,r,i){return cs(this,void 0,void 0,(function(){var o,s;return ls(this,(function(a){switch(a.label){case 0:return i&&i.global?(t(mN.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=us(us({},r),{send_to:o}),t(mN.EVENT,n,s),a.label=3;case 3:return[2]}}))}))})(FN,jN[i],t,e,n).catch((function(t){return IN.error(t)}))},setCurrentScreen:function(t,e){(function(t,e,n,r){return cs(this,void 0,void 0,(function(){var i;return ls(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(mN.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(mN.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(FN,jN[i],t,e).catch((function(t){return IN.error(t)}))},setUserId:function(t,e){(function(t,e,n,r){return cs(this,void 0,void 0,(function(){var i;return ls(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(mN.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(mN.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(FN,jN[i],t,e).catch((function(t){return IN.error(t)}))},setUserProperties:function(t,e){(function(t,e,n,r){return cs(this,void 0,void 0,(function(){var i,o,s,a,u;return ls(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)a=s[o],i["user_properties."+a]=n[a];return t(mN.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(mN.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(FN,jN[i],t,e).catch((function(t){return IN.error(t)}))},setAnalyticsCollectionEnabled:function(t){(function(t,e){return cs(this,void 0,void 0,(function(){var n;return ls(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))})(jN[i],t).catch((function(t){return IN.error(t)}))},INTERNAL:{delete:function(){return delete jN[i],Promise.resolve()}}}}function GN(){return cs(this,void 0,void 0,(function(){return ls(this,(function(t){switch(t.label){case 0:if(Ns())return[2,!1];if(!Rs())return[2,!1];if(!xs())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Ps()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}!function(t){t.INTERNAL.registerComponent(new ea("analytics",(function(t){return zN(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:HN,EventName:_N,isSupported:GN})),t.INTERNAL.registerComponent(new ea("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(qw){throw NN.create("interop-component-reg-failed",{reason:qw})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.4")}(Oa);var KN="top",QN="bottom",YN="right",$N="left",XN=[KN,QN,YN,$N],JN=XN.reduce((function(t,e){return t.concat([e+"-start",e+"-end"])}),[]),ZN=[].concat(XN,["auto"]).reduce((function(t,e){return t.concat([e,e+"-start",e+"-end"])}),[]),tA=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function eA(t){return t?(t.nodeName||"").toLowerCase():null}function nA(t){if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function rA(t){return t instanceof nA(t).Element||t instanceof Element}function iA(t){return t instanceof nA(t).HTMLElement||t instanceof HTMLElement}function oA(t){return"undefined"!=typeof ShadowRoot&&(t instanceof nA(t).ShadowRoot||t instanceof ShadowRoot)}var sA={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];iA(i)&&eA(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});iA(r)&&eA(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]};function aA(t){return t.split("-")[0]}function uA(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function cA(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&oA(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function lA(t){return nA(t).getComputedStyle(t)}function hA(t){return["table","td","th"].indexOf(eA(t))>=0}function fA(t){return((rA(t)?t.ownerDocument:t.document)||window.document).documentElement}function pA(t){return"html"===eA(t)?t:t.assignedSlot||t.parentNode||(oA(t)?t.host:null)||fA(t)}function dA(t){return iA(t)&&"fixed"!==lA(t).position?t.offsetParent:null}function vA(t){for(var e=nA(t),n=dA(t);n&&hA(n)&&"static"===lA(n).position;)n=dA(n);return n&&("html"===eA(n)||"body"===eA(n)&&"static"===lA(n).position)?e:n||function(t){for(var e=navigator.userAgent.toLowerCase().includes("firefox"),n=pA(t);iA(n)&&["html","body"].indexOf(eA(n))<0;){var r=lA(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||["transform","perspective"].includes(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}function gA(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}var mA=Math.max,yA=Math.min,_A=Math.round;function bA(t,e,n){return mA(t,yA(e,n))}function wA(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function EA(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var IA={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=aA(n.placement),u=gA(a),c=[$N,YN].indexOf(a)>=0?"height":"width";if(o&&s){var l=function(t,e){return wA("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:EA(t,XN))}(i.padding,n),h=uA(o),f="y"===u?KN:$N,p="y"===u?QN:YN,d=n.rects.reference[c]+n.rects.reference[u]-s[u]-n.rects.popper[c],v=s[u]-n.rects.reference[u],g=vA(o),m=g?"y"===u?g.clientHeight||0:g.clientWidth||0:0,y=d/2-v/2,_=l[f],b=m-h[c]-l[p],w=m/2-h[c]/2+y,E=bA(_,w,b),I=u;n.modifiersData[r]=((e={})[I]=E,e.centerOffset=E-w,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&cA(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},TA={top:"auto",right:"auto",bottom:"auto",left:"auto"};function SA(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.offsets,s=t.position,a=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,l=!0===c?function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:_A(_A(e*r)/r)||0,y:_A(_A(n*r)/r)||0}}(o):"function"==typeof c?c(o):o,h=l.x,f=void 0===h?0:h,p=l.y,d=void 0===p?0:p,v=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),m=$N,y=KN,_=window;if(u){var b=vA(n),w="clientHeight",E="clientWidth";b===nA(n)&&"static"!==lA(b=fA(n)).position&&(w="scrollHeight",E="scrollWidth"),i===KN&&(y=QN,d-=b[w]-r.height,d*=a?1:-1),i===$N&&(m=YN,f-=b[E]-r.width,f*=a?1:-1)}var I,T=Object.assign({position:s},u&&TA);return a?Object.assign({},T,((I={})[y]=g?"0":"",I[m]=v?"0":"",I.transform=(_.devicePixelRatio||1)<2?"translate("+f+"px, "+d+"px)":"translate3d("+f+"px, "+d+"px, 0)",I)):Object.assign({},T,((e={})[y]=g?d+"px":"",e[m]=v?f+"px":"",e.transform="",e))}var CA={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,u=void 0===a||a,c={placement:aA(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,SA(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,SA(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},kA={passive:!0};var NA={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,u=nA(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach((function(t){t.addEventListener("scroll",n.update,kA)})),a&&u.addEventListener("resize",n.update,kA),function(){o&&c.forEach((function(t){t.removeEventListener("scroll",n.update,kA)})),a&&u.removeEventListener("resize",n.update,kA)}},data:{}},AA={left:"right",right:"left",bottom:"top",top:"bottom"};function OA(t){return t.replace(/left|right|bottom|top/g,(function(t){return AA[t]}))}var xA={start:"end",end:"start"};function PA(t){return t.replace(/start|end/g,(function(t){return xA[t]}))}function RA(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function DA(t){var e=nA(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function LA(t){return RA(fA(t)).left+DA(t).scrollLeft}function MA(t){var e=lA(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function FA(t){return["html","body","#document"].indexOf(eA(t))>=0?t.ownerDocument.body:iA(t)&&MA(t)?t:FA(pA(t))}function jA(t,e){var n;void 0===e&&(e=[]);var r=FA(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),o=nA(r),s=i?[o].concat(o.visualViewport||[],MA(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(jA(pA(s)))}function UA(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function VA(t,e){return"viewport"===e?UA(function(t){var e=nA(t),n=fA(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,a=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:i,height:o,x:s+LA(t),y:a}}(t)):iA(e)?function(t){var e=RA(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):UA(function(t){var e,n=fA(t),r=DA(t),i=null==(e=t.ownerDocument)?void 0:e.body,o=mA(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=mA(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+LA(t),u=-r.scrollTop;return"rtl"===lA(i||n).direction&&(a+=mA(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:u}}(fA(t)))}function qA(t,e,n){var r="clippingParents"===e?function(t){var e=jA(pA(t)),n=["absolute","fixed"].indexOf(lA(t).position)>=0&&iA(t)?vA(t):t;return rA(n)?e.filter((function(t){return rA(t)&&cA(t,n)&&"body"!==eA(t)})):[]}(t):[].concat(e),i=[].concat(r,[n]),o=i[0],s=i.reduce((function(e,n){var r=VA(t,n);return e.top=mA(r.top,e.top),e.right=yA(r.right,e.right),e.bottom=yA(r.bottom,e.bottom),e.left=mA(r.left,e.left),e}),VA(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function BA(t){return t.split("-")[1]}function WA(t){var e,n=t.reference,r=t.element,i=t.placement,o=i?aA(i):null,s=i?BA(i):null,a=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(o){case KN:e={x:a,y:n.y-r.height};break;case QN:e={x:a,y:n.y+n.height};break;case YN:e={x:n.x+n.width,y:u};break;case $N:e={x:n.x-r.width,y:u};break;default:e={x:n.x,y:n.y}}var c=o?gA(o):null;if(null!=c){var l="y"===c?"height":"width";switch(s){case"start":e[c]=e[c]-(n[l]/2-r[l]/2);break;case"end":e[c]=e[c]+(n[l]/2-r[l]/2)}}return e}function HA(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=void 0===r?t.placement:r,o=n.boundary,s=void 0===o?"clippingParents":o,a=n.rootBoundary,u=void 0===a?"viewport":a,c=n.elementContext,l=void 0===c?"popper":c,h=n.altBoundary,f=void 0!==h&&h,p=n.padding,d=void 0===p?0:p,v=wA("number"!=typeof d?d:EA(d,XN)),g="popper"===l?"reference":"popper",m=t.elements.reference,y=t.rects.popper,_=t.elements[f?g:l],b=qA(rA(_)?_:_.contextElement||fA(t.elements.popper),s,u),w=RA(m),E=WA({reference:w,element:y,strategy:"absolute",placement:i}),I=UA(Object.assign({},y,E)),T="popper"===l?I:w,S={top:b.top-T.top+v.top,bottom:T.bottom-b.bottom+v.bottom,left:b.left-T.left+v.left,right:T.right-b.right+v.right},C=t.modifiersData.offset;if("popper"===l&&C){var k=C[i];Object.keys(S).forEach((function(t){var e=[YN,QN].indexOf(t)>=0?1:-1,n=[KN,QN].indexOf(t)>=0?"y":"x";S[t]+=k[n]*e}))}return S}var zA={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,u=n.fallbackPlacements,c=n.padding,l=n.boundary,h=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,d=void 0===p||p,v=n.allowedAutoPlacements,g=e.options.placement,m=aA(g),y=u||(m===g||!d?[OA(g)]:function(t){if("auto"===aA(t))return[];var e=OA(t);return[PA(t),e,PA(e)]}(g)),_=[g].concat(y).reduce((function(t,n){return t.concat("auto"===aA(n)?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?ZN:u,l=BA(r),h=l?a?JN:JN.filter((function(t){return BA(t)===l})):XN,f=h.filter((function(t){return c.indexOf(t)>=0}));0===f.length&&(f=h);var p=f.reduce((function(e,n){return e[n]=HA(t,{placement:n,boundary:i,rootBoundary:o,padding:s})[aA(n)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}(e,{placement:n,boundary:l,rootBoundary:h,padding:c,flipVariations:d,allowedAutoPlacements:v}):n)}),[]),b=e.rects.reference,w=e.rects.popper,E=new Map,I=!0,T=_[0],S=0;S<_.length;S++){var C=_[S],k=aA(C),N="start"===BA(C),A=[KN,QN].indexOf(k)>=0,O=A?"width":"height",x=HA(e,{placement:C,boundary:l,rootBoundary:h,altBoundary:f,padding:c}),P=A?N?YN:$N:N?QN:KN;b[O]>w[O]&&(P=OA(P));var R=OA(P),D=[];if(o&&D.push(x[k]<=0),a&&D.push(x[P]<=0,x[R]<=0),D.every((function(t){return t}))){T=C,I=!1;break}E.set(C,D)}if(I)for(var L=function(t){var e=_.find((function(e){var n=E.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return T=e,"break"},M=d?3:1;M>0;M--){if("break"===L(M))break}e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function GA(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function KA(t){return[KN,YN,QN,$N].some((function(e){return t[e]>=0}))}var QA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=HA(e,{elementContext:"reference"}),a=HA(e,{altBoundary:!0}),u=GA(s,r),c=GA(a,i,o),l=KA(u),h=KA(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":h})}};var YA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=void 0===i?[0,0]:i,s=ZN.reduce((function(t,n){return t[n]=function(t,e,n){var r=aA(t),i=[$N,KN].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[$N,YN].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,e.rects,o),t}),{}),a=s[e.placement],u=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}};var $A={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=WA({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var XA={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,h=n.padding,f=n.tether,p=void 0===f||f,d=n.tetherOffset,v=void 0===d?0:d,g=HA(e,{boundary:u,rootBoundary:c,padding:h,altBoundary:l}),m=aA(e.placement),y=BA(e.placement),_=!y,b=gA(m),w="x"===b?"y":"x",E=e.modifiersData.popperOffsets,I=e.rects.reference,T=e.rects.popper,S="function"==typeof v?v(Object.assign({},e.rects,{placement:e.placement})):v,C={x:0,y:0};if(E){if(o||a){var k="y"===b?KN:$N,N="y"===b?QN:YN,A="y"===b?"height":"width",O=E[b],x=E[b]+g[k],P=E[b]-g[N],R=p?-T[A]/2:0,D="start"===y?I[A]:T[A],L="start"===y?-T[A]:-I[A],M=e.elements.arrow,F=p&&M?uA(M):{width:0,height:0},j=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=j[k],V=j[N],q=bA(0,I[A],F[A]),B=_?I[A]/2-R-q-U-S:D-q-U-S,W=_?-I[A]/2+R+q+V+S:L+q+V+S,H=e.elements.arrow&&vA(e.elements.arrow),z=H?"y"===b?H.clientTop||0:H.clientLeft||0:0,G=e.modifiersData.offset?e.modifiersData.offset[e.placement][b]:0,K=E[b]+B-G-z,Q=E[b]+W-G;if(o){var Y=bA(p?yA(x,K):x,O,p?mA(P,Q):P);E[b]=Y,C[b]=Y-O}if(a){var $="x"===b?KN:$N,X="x"===b?QN:YN,J=E[w],Z=J+g[$],tt=J-g[X],et=bA(p?yA(Z,K):Z,J,p?mA(tt,Q):tt);E[w]=et,C[w]=et-J}}e.modifiersData[r]=C}},requiresIfExists:["offset"]};function JA(t,e,n){void 0===n&&(n=!1);var r,i,o=fA(e),s=RA(t),a=iA(e),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(a||!a&&!n)&&(("body"!==eA(e)||MA(o))&&(u=(r=e)!==nA(r)&&iA(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:DA(r)),iA(e)?((c=RA(e)).x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=LA(o))),{x:s.left+u.scrollLeft-c.x,y:s.top+u.scrollTop-c.y,width:s.width,height:s.height}}function ZA(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}var tO={placement:"bottom",modifiers:[],strategy:"absolute"};function eO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function nO(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,o=void 0===i?tO:i;return function(t,e,n){void 0===n&&(n=o);var i,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},tO,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},u=[],c=!1,l={state:a,setOptions:function(n){h(),a.options=Object.assign({},o,a.options,n),a.scrollParents={reference:rA(t)?jA(t):t.contextElement?jA(t.contextElement):[],popper:jA(e)};var i,s,c=function(t){var e=ZA(t);return tA.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((i=[].concat(r,a.options.modifiers),s=i.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(s).map((function(t){return s[t]}))));return a.orderedModifiers=c.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var o=i({state:a,name:e,instance:l,options:r}),s=function(){};u.push(o||s)}})),l.update()},forceUpdate:function(){if(!c){var t=a.elements,e=t.reference,n=t.popper;if(eO(e,n)){a.rects={reference:JA(e,vA(n),"fixed"===a.options.strategy),popper:uA(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],o=i.fn,s=i.options,u=void 0===s?{}:s,h=i.name;"function"==typeof o&&(a=o({state:a,options:u,name:h,instance:l})||a)}else a.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(t){l.forceUpdate(),t(a)}))},function(){return s||(s=new Promise((function(t){Promise.resolve().then((function(){s=void 0,t(i())}))}))),s}),destroy:function(){h(),c=!0}};if(!eO(t,e))return l;function h(){u.forEach((function(t){return t()})),u=[]}return l.setOptions(n).then((function(t){!c&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var rO=nO(),iO=nO({defaultModifiers:[NA,$A,CA,sA]}),oO=nO({defaultModifiers:[NA,$A,CA,sA,YA,zA,XA,IA,QA]}),sO=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",popperGenerator:nO,detectOverflow:HA,createPopperBase:rO,createPopper:oO,createPopperLite:iO,top:KN,bottom:QN,right:YN,left:$N,auto:"auto",basePlacements:XN,start:"start",end:"end",clippingParents:"clippingParents",viewport:"viewport",popper:"popper",reference:"reference",variationPlacements:JN,placements:ZN,beforeRead:"beforeRead",read:"read",afterRead:"afterRead",beforeMain:"beforeMain",main:"main",afterMain:"afterMain",beforeWrite:"beforeWrite",write:"write",afterWrite:"afterWrite",modifierPhases:tA,applyStyles:sA,arrow:IA,computeStyles:CA,eventListeners:NA,flip:zA,hide:QA,offset:YA,popperOffsets:$A,preventOverflow:XA});
/*!
  * Bootstrap v5.0.0-beta2 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function aO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uO(t,e,n){return e&&aO(t.prototype,e),n&&aO(t,n),t}function cO(){return(cO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function lO(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,hO(t,e)}function hO(t,e){return(hO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fO=function(t){do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t},pO=function(t){var e=t.getAttribute("data-bs-target");if(!e||"#"===e){var n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#"+n.split("#")[1]),e=n&&"#"!==n?n.trim():null}return e},dO=function(t){var e=pO(t);return e&&document.querySelector(e)?e:null},vO=function(t){var e=pO(t);return e?document.querySelector(e):null},gO=function(t){if(!t)return 0;var e=window.getComputedStyle(t),n=e.transitionDuration,r=e.transitionDelay,i=Number.parseFloat(n),o=Number.parseFloat(r);return i||o?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0},mO=function(t){t.dispatchEvent(new Event("transitionend"))},yO=function(t){return(t[0]||t).nodeType},_O=function(t,e){var n=!1,r=e+5;t.addEventListener("transitionend",(function e(){n=!0,t.removeEventListener("transitionend",e)})),setTimeout((function(){n||mO(t)}),r)},bO=function(t,e,n){Object.keys(n).forEach((function(r){var i,o=n[r],s=e[r],a=s&&yO(s)?"element":null==(i=s)?""+i:{}.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new TypeError(t.toUpperCase()+': Option "'+r+'" provided type "'+a+'" but expected type "'+o+'".')}))},wO=function(t){if(!t)return!1;if(t.style&&t.parentNode&&t.parentNode.style){var e=getComputedStyle(t),n=getComputedStyle(t.parentNode);return"none"!==e.display&&"none"!==n.display&&"hidden"!==e.visibility}return!1},EO=function t(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var n=e.getRootNode();return n instanceof ShadowRoot?n:null}return e instanceof ShadowRoot?e:e.parentNode?t(e.parentNode):null},IO=function(){return function(){}},TO=function(t){return t.offsetHeight},SO=function(){var t=window.jQuery;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},CO="rtl"===document.documentElement.dir,kO=function(t,e){var n;n=function(){var n=SO();if(n){var r=n.fn[t];n.fn[t]=e.jQueryInterface,n.fn[t].Constructor=e,n.fn[t].noConflict=function(){return n.fn[t]=r,e.jQueryInterface}}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()},NO=function(){var t={},e=1;return{set:function(n,r,i){void 0===n.bsKey&&(n.bsKey={key:r,id:e},e++),t[n.bsKey.id]=i},get:function(e,n){if(!e||void 0===e.bsKey)return null;var r=e.bsKey;return r.key===n?t[r.id]:null},delete:function(e,n){if(void 0!==e.bsKey){var r=e.bsKey;r.key===n&&(delete t[r.id],delete e.bsKey)}}}}(),AO=function(t,e,n){NO.set(t,e,n)},OO=function(t,e){return NO.get(t,e)},xO=function(t,e){NO.delete(t,e)},PO=/[^.]*(?=\..*)\.|.*/,RO=/\..*/,DO=/::\d+$/,LO={},MO=1,FO={mouseenter:"mouseover",mouseleave:"mouseout"},jO=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function UO(t,e){return e&&e+"::"+MO++||t.uidEvent||MO++}function VO(t){var e=UO(t);return t.uidEvent=e,LO[e]=LO[e]||{},LO[e]}function qO(t,e,n){void 0===n&&(n=null);for(var r=Object.keys(t),i=0,o=r.length;i<o;i++){var s=t[r[i]];if(s.originalHandler===e&&s.delegationSelector===n)return s}return null}function BO(t,e,n){var r="string"==typeof e,i=r?n:e,o=t.replace(RO,""),s=FO[o];return s&&(o=s),jO.has(o)||(o=t),[r,i,o]}function WO(t,e,n,r,i){if("string"==typeof e&&t){n||(n=r,r=null);var o=BO(e,n,r),s=o[0],a=o[1],u=o[2],c=VO(t),l=c[u]||(c[u]={}),h=qO(l,a,s?n:null);if(h)h.oneOff=h.oneOff&&i;else{var f=UO(a,e.replace(PO,"")),p=s?function(t,e,n){return function r(i){for(var o=t.querySelectorAll(e),s=i.target;s&&s!==this;s=s.parentNode)for(var a=o.length;a--;)if(o[a]===s)return i.delegateTarget=s,r.oneOff&&zO.off(t,i.type,n),n.apply(s,[i]);return null}}(t,n,r):function(t,e){return function n(r){return r.delegateTarget=t,n.oneOff&&zO.off(t,r.type,e),e.apply(t,[r])}}(t,n);p.delegationSelector=s?n:null,p.originalHandler=a,p.oneOff=i,p.uidEvent=f,l[f]=p,t.addEventListener(u,p,s)}}}function HO(t,e,n,r,i){var o=qO(e[n],r,i);o&&(t.removeEventListener(n,o,Boolean(i)),delete e[n][o.uidEvent])}var zO={on:function(t,e,n,r){WO(t,e,n,r,!1)},one:function(t,e,n,r){WO(t,e,n,r,!0)},off:function(t,e,n,r){if("string"==typeof e&&t){var i=BO(e,n,r),o=i[0],s=i[1],a=i[2],u=a!==e,c=VO(t),l=e.startsWith(".");if(void 0===s){l&&Object.keys(c).forEach((function(n){!function(t,e,n,r){var i=e[n]||{};Object.keys(i).forEach((function(o){if(o.includes(r)){var s=i[o];HO(t,e,n,s.originalHandler,s.delegationSelector)}}))}(t,c,n,e.slice(1))}));var h=c[a]||{};Object.keys(h).forEach((function(n){var r=n.replace(DO,"");if(!u||e.includes(r)){var i=h[n];HO(t,c,a,i.originalHandler,i.delegationSelector)}}))}else{if(!c||!c[a])return;HO(t,c,a,s,o?n:null)}}},trigger:function(t,e,n){if("string"!=typeof e||!t)return null;var r,i=SO(),o=e.replace(RO,""),s=e!==o,a=jO.has(o),u=!0,c=!0,l=!1,h=null;return s&&i&&(r=i.Event(e,n),i(t).trigger(r),u=!r.isPropagationStopped(),c=!r.isImmediatePropagationStopped(),l=r.isDefaultPrevented()),a?(h=document.createEvent("HTMLEvents")).initEvent(o,u,!0):h=new CustomEvent(e,{bubbles:u,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((function(t){Object.defineProperty(h,t,{get:function(){return n[t]}})})),l&&h.preventDefault(),c&&t.dispatchEvent(h),h.defaultPrevented&&void 0!==r&&r.preventDefault(),h}},GO=function(){function t(t){t&&(this._element=t,AO(t,this.constructor.DATA_KEY,this))}return t.prototype.dispose=function(){xO(this._element,this.constructor.DATA_KEY),this._element=null},t.getInstance=function(t){return OO(t,this.DATA_KEY)},uO(t,null,[{key:"VERSION",get:function(){return"5.0.0-beta2"}}]),t}(),KO=function(t){function e(){return t.apply(this,arguments)||this}lO(e,t);var n=e.prototype;return n.close=function(t){var e=t?this._getRootElement(t):this._element,n=this._triggerCloseEvent(e);null===n||n.defaultPrevented||this._removeElement(e)},n._getRootElement=function(t){return vO(t)||t.closest(".alert")},n._triggerCloseEvent=function(t){return zO.trigger(t,"close.bs.alert")},n._removeElement=function(t){var e=this;if(t.classList.remove("show"),t.classList.contains("fade")){var n=gO(t);zO.one(t,"transitionend",(function(){return e._destroyElement(t)})),_O(t,n)}else this._destroyElement(t)},n._destroyElement=function(t){t.parentNode&&t.parentNode.removeChild(t),zO.trigger(t,"closed.bs.alert")},e.jQueryInterface=function(t){return this.each((function(){var n=OO(this,"bs.alert");n||(n=new e(this)),"close"===t&&n[t](this)}))},e.handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},uO(e,null,[{key:"DATA_KEY",get:function(){return"bs.alert"}}]),e}(GO);zO.on(document,"click.bs.alert.data-api",'[data-bs-dismiss="alert"]',KO.handleDismiss(new KO)),kO("alert",KO);var QO=function(t){function e(){return t.apply(this,arguments)||this}return lO(e,t),e.prototype.toggle=function(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))},e.jQueryInterface=function(t){return this.each((function(){var n=OO(this,"bs.button");n||(n=new e(this)),"toggle"===t&&n[t]()}))},uO(e,null,[{key:"DATA_KEY",get:function(){return"bs.button"}}]),e}(GO);function YO(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function $O(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))}zO.on(document,"click.bs.button.data-api",'[data-bs-toggle="button"]',(function(t){t.preventDefault();var e=t.target.closest('[data-bs-toggle="button"]'),n=OO(e,"bs.button");n||(n=new QO(e)),n.toggle()})),kO("button",QO);var XO={setDataAttribute:function(t,e,n){t.setAttribute("data-bs-"+$O(e),n)},removeDataAttribute:function(t,e){t.removeAttribute("data-bs-"+$O(e))},getDataAttributes:function(t){if(!t)return{};var e={};return Object.keys(t.dataset).filter((function(t){return t.startsWith("bs")})).forEach((function(n){var r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),e[r]=YO(t.dataset[n])})),e},getDataAttribute:function(t,e){return YO(t.getAttribute("data-bs-"+$O(e)))},offset:function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},position:function(t){return{top:t.offsetTop,left:t.offsetLeft}}},JO=function(t,e){var n;return void 0===e&&(e=document.documentElement),(n=[]).concat.apply(n,Element.prototype.querySelectorAll.call(e,t))},ZO=function(t,e){return void 0===e&&(e=document.documentElement),Element.prototype.querySelector.call(e,t)},tx=function(t,e){var n;return(n=[]).concat.apply(n,t.children).filter((function(t){return t.matches(e)}))},ex=function(t,e){for(var n=[],r=t.parentNode;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(e)&&n.push(r),r=r.parentNode;return n},nx=function(t,e){for(var n=t.previousElementSibling;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},rx=function(t,e){for(var n=t.nextElementSibling;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},ix=".bs.carousel",ox={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},sx={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},ax=function(t){function e(e,n){var r;return(r=t.call(this,e)||this)._items=null,r._interval=null,r._activeElement=null,r._isPaused=!1,r._isSliding=!1,r.touchTimeout=null,r.touchStartX=0,r.touchDeltaX=0,r._config=r._getConfig(n),r._indicatorsElement=ZO(".carousel-indicators",r._element),r._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,r._pointerEvent=Boolean(window.PointerEvent),r._addEventListeners(),r}lO(e,t);var n=e.prototype;return n.next=function(){this._isSliding||this._slide("next")},n.nextWhenVisible=function(){!document.hidden&&wO(this._element)&&this.next()},n.prev=function(){this._isSliding||this._slide("prev")},n.pause=function(t){t||(this._isPaused=!0),ZO(".carousel-item-next, .carousel-item-prev",this._element)&&(mO(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(t){var e=this;this._activeElement=ZO(".active.carousel-item",this._element);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)zO.one(this._element,"slid.bs.carousel",(function(){return e.to(t)}));else{if(n===t)return this.pause(),void this.cycle();var r=t>n?"next":"prev";this._slide(r,this._items[t])}},n.dispose=function(){t.prototype.dispose.call(this),zO.off(this._element,ix),this._items=null,this._config=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(t){return t=cO({},ox,t),bO("carousel",t,sx),t},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&(CO?this.next():this.prev()),e<0&&(CO?this.prev():this.next())}},n._addEventListeners=function(){var t=this;this._config.keyboard&&zO.on(this._element,"keydown.bs.carousel",(function(e){return t._keydown(e)})),"hover"===this._config.pause&&(zO.on(this._element,"mouseenter.bs.carousel",(function(e){return t.pause(e)})),zO.on(this._element,"mouseleave.bs.carousel",(function(e){return t.cycle(e)}))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var t=this,e=function(e){!t._pointerEvent||"pen"!==e.pointerType&&"touch"!==e.pointerType?t._pointerEvent||(t.touchStartX=e.touches[0].clientX):t.touchStartX=e.clientX},n=function(e){!t._pointerEvent||"pen"!==e.pointerType&&"touch"!==e.pointerType||(t.touchDeltaX=e.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};JO(".carousel-item img",this._element).forEach((function(t){zO.on(t,"dragstart.bs.carousel",(function(t){return t.preventDefault()}))})),this._pointerEvent?(zO.on(this._element,"pointerdown.bs.carousel",(function(t){return e(t)})),zO.on(this._element,"pointerup.bs.carousel",(function(t){return n(t)})),this._element.classList.add("pointer-event")):(zO.on(this._element,"touchstart.bs.carousel",(function(t){return e(t)})),zO.on(this._element,"touchmove.bs.carousel",(function(e){return function(e){e.touches&&e.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.touches[0].clientX-t.touchStartX}(e)})),zO.on(this._element,"touchend.bs.carousel",(function(t){return n(t)})))},n._keydown=function(t){/input|textarea/i.test(t.target.tagName)||("ArrowLeft"===t.key?(t.preventDefault(),CO?this.next():this.prev()):"ArrowRight"===t.key&&(t.preventDefault(),CO?this.prev():this.next()))},n._getItemIndex=function(t){return this._items=t&&t.parentNode?JO(".carousel-item",t.parentNode):[],this._items.indexOf(t)},n._getItemByDirection=function(t,e){var n="next"===t,r="prev"===t,i=this._getItemIndex(e),o=this._items.length-1;if((r&&0===i||n&&i===o)&&!this._config.wrap)return e;var s=(i+("prev"===t?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},n._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),r=this._getItemIndex(ZO(".active.carousel-item",this._element));return zO.trigger(this._element,"slide.bs.carousel",{relatedTarget:t,direction:e,from:r,to:n})},n._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=ZO(".active",this._indicatorsElement);e.classList.remove("active"),e.removeAttribute("aria-current");for(var n=JO("[data-bs-target]",this._indicatorsElement),r=0;r<n.length;r++)if(Number.parseInt(n[r].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[r].classList.add("active"),n[r].setAttribute("aria-current","true");break}}},n._updateInterval=function(){var t=this._activeElement||ZO(".active.carousel-item",this._element);if(t){var e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}},n._slide=function(t,e){var n=this,r=ZO(".active.carousel-item",this._element),i=this._getItemIndex(r),o=e||r&&this._getItemByDirection(t,r),s=this._getItemIndex(o),a=Boolean(this._interval),u="next"===t?"carousel-item-start":"carousel-item-end",c="next"===t?"carousel-item-next":"carousel-item-prev",l="next"===t?"left":"right";if(o&&o.classList.contains("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(o,l).defaultPrevented&&r&&o){if(this._isSliding=!0,a&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o,this._element.classList.contains("slide")){o.classList.add(c),TO(o),r.classList.add(u),o.classList.add(u);var h=gO(r);zO.one(r,"transitionend",(function(){o.classList.remove(u,c),o.classList.add("active"),r.classList.remove("active",c,u),n._isSliding=!1,setTimeout((function(){zO.trigger(n._element,"slid.bs.carousel",{relatedTarget:o,direction:l,from:i,to:s})}),0)})),_O(r,h)}else r.classList.remove("active"),o.classList.add("active"),this._isSliding=!1,zO.trigger(this._element,"slid.bs.carousel",{relatedTarget:o,direction:l,from:i,to:s});a&&this.cycle()}},e.carouselInterface=function(t,n){var r=OO(t,"bs.carousel"),i=cO({},ox,XO.getDataAttributes(t));"object"==typeof n&&(i=cO({},i,n));var o="string"==typeof n?n:i.slide;if(r||(r=new e(t,i)),"number"==typeof n)r.to(n);else if("string"==typeof o){if(void 0===r[o])throw new TypeError('No method named "'+o+'"');r[o]()}else i.interval&&i.ride&&(r.pause(),r.cycle())},e.jQueryInterface=function(t){return this.each((function(){e.carouselInterface(this,t)}))},e.dataApiClickHandler=function(t){var n=vO(this);if(n&&n.classList.contains("carousel")){var r=cO({},XO.getDataAttributes(n),XO.getDataAttributes(this)),i=this.getAttribute("data-bs-slide-to");i&&(r.interval=!1),e.carouselInterface(n,r),i&&OO(n,"bs.carousel").to(i),t.preventDefault()}},uO(e,null,[{key:"Default",get:function(){return ox}},{key:"DATA_KEY",get:function(){return"bs.carousel"}}]),e}(GO);zO.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",ax.dataApiClickHandler),zO.on(window,"load.bs.carousel.data-api",(function(){for(var t=JO('[data-bs-ride="carousel"]'),e=0,n=t.length;e<n;e++)ax.carouselInterface(t[e],OO(t[e],"bs.carousel"))})),kO("carousel",ax);var ux={toggle:!0,parent:""},cx={toggle:"boolean",parent:"(string|element)"},lx=function(t){function e(e,n){var r;(r=t.call(this,e)||this)._isTransitioning=!1,r._config=r._getConfig(n),r._triggerArray=JO('[data-bs-toggle="collapse"][href="#'+e.id+'"],[data-bs-toggle="collapse"][data-bs-target="#'+e.id+'"]');for(var i=JO('[data-bs-toggle="collapse"]'),o=0,s=i.length;o<s;o++){var a=i[o],u=dO(a),c=JO(u).filter((function(t){return t===e}));null!==u&&c.length&&(r._selector=u,r._triggerArray.push(a))}return r._parent=r._config.parent?r._getParent():null,r._config.parent||r._addAriaAndCollapsedClass(r._element,r._triggerArray),r._config.toggle&&r.toggle(),r}lO(e,t);var n=e.prototype;return n.toggle=function(){this._element.classList.contains("show")?this.hide():this.show()},n.show=function(){var t=this;if(!this._isTransitioning&&!this._element.classList.contains("show")){var n,r;this._parent&&0===(n=JO(".show, .collapsing",this._parent).filter((function(e){return"string"==typeof t._config.parent?e.getAttribute("data-bs-parent")===t._config.parent:e.classList.contains("collapse")}))).length&&(n=null);var i=ZO(this._selector);if(n){var o=n.find((function(t){return i!==t}));if((r=o?OO(o,"bs.collapse"):null)&&r._isTransitioning)return}if(!zO.trigger(this._element,"show.bs.collapse").defaultPrevented){n&&n.forEach((function(t){i!==t&&e.collapseInterface(t,"hide"),r||AO(t,"bs.collapse",null)}));var s=this._getDimension();this._element.classList.remove("collapse"),this._element.classList.add("collapsing"),this._element.style[s]=0,this._triggerArray.length&&this._triggerArray.forEach((function(t){t.classList.remove("collapsed"),t.setAttribute("aria-expanded",!0)})),this.setTransitioning(!0);var a="scroll"+(s[0].toUpperCase()+s.slice(1)),u=gO(this._element);zO.one(this._element,"transitionend",(function(){t._element.classList.remove("collapsing"),t._element.classList.add("collapse","show"),t._element.style[s]="",t.setTransitioning(!1),zO.trigger(t._element,"shown.bs.collapse")})),_O(this._element,u),this._element.style[s]=this._element[a]+"px"}}},n.hide=function(){var t=this;if(!this._isTransitioning&&this._element.classList.contains("show")&&!zO.trigger(this._element,"hide.bs.collapse").defaultPrevented){var e=this._getDimension();this._element.style[e]=this._element.getBoundingClientRect()[e]+"px",TO(this._element),this._element.classList.add("collapsing"),this._element.classList.remove("collapse","show");var n=this._triggerArray.length;if(n>0)for(var r=0;r<n;r++){var i=this._triggerArray[r],o=vO(i);o&&!o.classList.contains("show")&&(i.classList.add("collapsed"),i.setAttribute("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[e]="";var s=gO(this._element);zO.one(this._element,"transitionend",(function(){t.setTransitioning(!1),t._element.classList.remove("collapsing"),t._element.classList.add("collapse"),zO.trigger(t._element,"hidden.bs.collapse")})),_O(this._element,s)}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){t.prototype.dispose.call(this),this._config=null,this._parent=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return(t=cO({},ux,t)).toggle=Boolean(t.toggle),bO("collapse",t,cx),t},n._getDimension=function(){return this._element.classList.contains("width")?"width":"height"},n._getParent=function(){var t=this,e=this._config.parent;return yO(e)?void 0===e.jquery&&void 0===e[0]||(e=e[0]):e=ZO(e),JO('[data-bs-toggle="collapse"][data-bs-parent="'+e+'"]',e).forEach((function(e){var n=vO(e);t._addAriaAndCollapsedClass(n,[e])})),e},n._addAriaAndCollapsedClass=function(t,e){if(t&&e.length){var n=t.classList.contains("show");e.forEach((function(t){n?t.classList.remove("collapsed"):t.classList.add("collapsed"),t.setAttribute("aria-expanded",n)}))}},e.collapseInterface=function(t,n){var r=OO(t,"bs.collapse"),i=cO({},ux,XO.getDataAttributes(t),"object"==typeof n&&n?n:{});if(!r&&i.toggle&&"string"==typeof n&&/show|hide/.test(n)&&(i.toggle=!1),r||(r=new e(t,i)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}},e.jQueryInterface=function(t){return this.each((function(){e.collapseInterface(this,t)}))},uO(e,null,[{key:"Default",get:function(){return ux}},{key:"DATA_KEY",get:function(){return"bs.collapse"}}]),e}(GO);zO.on(document,"click.bs.collapse.data-api",'[data-bs-toggle="collapse"]',(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();var e=XO.getDataAttributes(this),n=dO(this);JO(n).forEach((function(t){var n,r=OO(t,"bs.collapse");r?(null===r._parent&&"string"==typeof e.parent&&(r._config.parent=e.parent,r._parent=r._getParent()),n="toggle"):n=e,lx.collapseInterface(t,n)}))})),kO("collapse",lx);var hx=new RegExp("ArrowUp|ArrowDown|Escape"),fx=CO?"top-end":"top-start",px=CO?"top-start":"top-end",dx=CO?"bottom-end":"bottom-start",vx=CO?"bottom-start":"bottom-end",gx=CO?"left-start":"right-start",mx=CO?"right-start":"left-start",yx={offset:[0,2],flip:!0,boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null},_x={offset:"(array|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)"},bx=function(t){function e(e,n){var r;return(r=t.call(this,e)||this)._popper=null,r._config=r._getConfig(n),r._menu=r._getMenuElement(),r._inNavbar=r._detectNavbar(),r._addEventListeners(),r}lO(e,t);var n=e.prototype;return n.toggle=function(){if(!this._element.disabled&&!this._element.classList.contains("disabled")){var t=this._element.classList.contains("show");e.clearMenus(),t||this.show()}},n.show=function(){if(!(this._element.disabled||this._element.classList.contains("disabled")||this._menu.classList.contains("show"))){var t=e.getParentFromElement(this._element),n={relatedTarget:this._element};if(!zO.trigger(this._element,"show.bs.dropdown",n).defaultPrevented){if(this._inNavbar)XO.setDataAttribute(this._menu,"popper","none");else{if(void 0===sO)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var r=this._element;"parent"===this._config.reference?r=t:yO(this._config.reference)?(r=this._config.reference,void 0!==this._config.reference.jquery&&(r=this._config.reference[0])):"object"==typeof this._config.reference&&(r=this._config.reference);var i=this._getPopperConfig(),o=i.modifiers.find((function(t){return"applyStyles"===t.name&&!1===t.enabled}));this._popper=oO(r,this._menu,i),o&&XO.setDataAttribute(this._menu,"popper","static")}var s;if("ontouchstart"in document.documentElement&&!t.closest(".navbar-nav"))(s=[]).concat.apply(s,document.body.children).forEach((function(t){return zO.on(t,"mouseover",null,(function(){}))}));this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.toggle("show"),this._element.classList.toggle("show"),zO.trigger(this._element,"shown.bs.dropdown",n)}}},n.hide=function(){if(!this._element.disabled&&!this._element.classList.contains("disabled")&&this._menu.classList.contains("show")){var t={relatedTarget:this._element};zO.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented||(this._popper&&this._popper.destroy(),this._menu.classList.toggle("show"),this._element.classList.toggle("show"),XO.removeDataAttribute(this._menu,"popper"),zO.trigger(this._element,"hidden.bs.dropdown",t))}},n.dispose=function(){t.prototype.dispose.call(this),zO.off(this._element,".bs.dropdown"),this._menu=null,this._popper&&(this._popper.destroy(),this._popper=null)},n.update=function(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()},n._addEventListeners=function(){var t=this;zO.on(this._element,"click.bs.dropdown",(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},n._getConfig=function(t){if(t=cO({},this.constructor.Default,XO.getDataAttributes(this._element),t),bO("dropdown",t,this.constructor.DefaultType),"object"==typeof t.reference&&!yO(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError("dropdown".toUpperCase()+': Option "reference" provided type "object" without a required "getBoundingClientRect" method.');return t},n._getMenuElement=function(){return rx(this._element,".dropdown-menu")[0]},n._getPlacement=function(){var t=this._element.parentNode;if(t.classList.contains("dropend"))return gx;if(t.classList.contains("dropstart"))return mx;var e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?px:fx:e?vx:dx},n._detectNavbar=function(){return null!==this._element.closest(".navbar")},n._getOffset=function(){var t=this,e=this._config.offset;return"string"==typeof e?e.split(",").map((function(t){return Number.parseInt(t,10)})):"function"==typeof e?function(n){return e(n,t._element)}:e},n._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{altBoundary:this._config.flip,boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),cO({},t,"function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig)},e.dropdownInterface=function(t,n){var r=OO(t,"bs.dropdown");if(r||(r=new e(t,"object"==typeof n?n:null)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}},e.jQueryInterface=function(t){return this.each((function(){e.dropdownInterface(this,t)}))},e.clearMenus=function(t){if(!t||2!==t.button&&("keyup"!==t.type||"Tab"===t.key))for(var e=JO('[data-bs-toggle="dropdown"]'),n=0,r=e.length;n<r;n++){var i=OO(e[n],"bs.dropdown"),o={relatedTarget:e[n]};if(t&&"click"===t.type&&(o.clickEvent=t),i){var s=i._menu;if(e[n].classList.contains("show"))if(!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&"Tab"===t.key)&&s.contains(t.target)))if(!zO.trigger(e[n],"hide.bs.dropdown",o).defaultPrevented){var a;if("ontouchstart"in document.documentElement)(a=[]).concat.apply(a,document.body.children).forEach((function(t){return zO.off(t,"mouseover",null,(function(){}))}));e[n].setAttribute("aria-expanded","false"),i._popper&&i._popper.destroy(),s.classList.remove("show"),e[n].classList.remove("show"),XO.removeDataAttribute(s,"popper"),zO.trigger(e[n],"hidden.bs.dropdown",o)}}}},e.getParentFromElement=function(t){return vO(t)||t.parentNode},e.dataApiKeydownHandler=function(t){if(!(/input|textarea/i.test(t.target.tagName)?"Space"===t.key||"Escape"!==t.key&&("ArrowDown"!==t.key&&"ArrowUp"!==t.key||t.target.closest(".dropdown-menu")):!hx.test(t.key))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!this.classList.contains("disabled"))){var n=e.getParentFromElement(this),r=this.classList.contains("show");if("Escape"===t.key)return(this.matches('[data-bs-toggle="dropdown"]')?this:nx(this,'[data-bs-toggle="dropdown"]')[0]).focus(),void e.clearMenus();if(r||"ArrowUp"!==t.key&&"ArrowDown"!==t.key)if(r&&"Space"!==t.key){var i=JO(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",n).filter(wO);if(i.length){var o=i.indexOf(t.target);"ArrowUp"===t.key&&o>0&&o--,"ArrowDown"===t.key&&o<i.length-1&&o++,i[o=-1===o?0:o].focus()}}else e.clearMenus();else(this.matches('[data-bs-toggle="dropdown"]')?this:nx(this,'[data-bs-toggle="dropdown"]')[0]).click()}},uO(e,null,[{key:"Default",get:function(){return yx}},{key:"DefaultType",get:function(){return _x}},{key:"DATA_KEY",get:function(){return"bs.dropdown"}}]),e}(GO);zO.on(document,"keydown.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]',bx.dataApiKeydownHandler),zO.on(document,"keydown.bs.dropdown.data-api",".dropdown-menu",bx.dataApiKeydownHandler),zO.on(document,"click.bs.dropdown.data-api",bx.clearMenus),zO.on(document,"keyup.bs.dropdown.data-api",bx.clearMenus),zO.on(document,"click.bs.dropdown.data-api",'[data-bs-toggle="dropdown"]',(function(t){t.preventDefault(),t.stopPropagation(),bx.dropdownInterface(this,"toggle")})),zO.on(document,"click.bs.dropdown.data-api",".dropdown form",(function(t){return t.stopPropagation()})),kO("dropdown",bx);var wx={backdrop:!0,keyboard:!0,focus:!0},Ex={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Ix=function(t){function e(e,n){var r;return(r=t.call(this,e)||this)._config=r._getConfig(n),r._dialog=ZO(".modal-dialog",e),r._backdrop=null,r._isShown=!1,r._isBodyOverflowing=!1,r._ignoreBackdropClick=!1,r._isTransitioning=!1,r._scrollbarWidth=0,r}lO(e,t);var n=e.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){this._element.classList.contains("fade")&&(this._isTransitioning=!0);var n=zO.trigger(this._element,"show.bs.modal",{relatedTarget:t});this._isShown||n.defaultPrevented||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),zO.on(this._element,"click.dismiss.bs.modal",'[data-bs-dismiss="modal"]',(function(t){return e.hide(t)})),zO.on(this._dialog,"mousedown.dismiss.bs.modal",(function(){zO.one(e._element,"mouseup.dismiss.bs.modal",(function(t){t.target===e._element&&(e._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return e._showElement(t)})))}},n.hide=function(t){var e=this;if((t&&t.preventDefault(),this._isShown&&!this._isTransitioning)&&!zO.trigger(this._element,"hide.bs.modal").defaultPrevented){this._isShown=!1;var n=this._element.classList.contains("fade");if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),zO.off(document,"focusin.bs.modal"),this._element.classList.remove("show"),zO.off(this._element,"click.dismiss.bs.modal"),zO.off(this._dialog,"mousedown.dismiss.bs.modal"),n){var r=gO(this._element);zO.one(this._element,"transitionend",(function(t){return e._hideModal(t)})),_O(this._element,r)}else this._hideModal()}},n.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return zO.off(t,".bs.modal")})),t.prototype.dispose.call(this),zO.off(document,"focusin.bs.modal"),this._config=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=cO({},wx,t),bO("modal",t,Ex),t},n._showElement=function(t){var e=this,n=this._element.classList.contains("fade"),r=ZO(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),n&&TO(this._element),this._element.classList.add("show"),this._config.focus&&this._enforceFocus();var i=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,zO.trigger(e._element,"shown.bs.modal",{relatedTarget:t})};if(n){var o=gO(this._dialog);zO.one(this._dialog,"transitionend",i),_O(this._dialog,o)}else i()},n._enforceFocus=function(){var t=this;zO.off(document,"focusin.bs.modal"),zO.on(document,"focusin.bs.modal",(function(e){document===e.target||t._element===e.target||t._element.contains(e.target)||t._element.focus()}))},n._setEscapeEvent=function(){var t=this;this._isShown?zO.on(this._element,"keydown.dismiss.bs.modal",(function(e){t._config.keyboard&&"Escape"===e.key?(e.preventDefault(),t.hide()):t._config.keyboard||"Escape"!==e.key||t._triggerBackdropTransition()})):zO.off(this._element,"keydown.dismiss.bs.modal")},n._setResizeEvent=function(){var t=this;this._isShown?zO.on(window,"resize.bs.modal",(function(){return t._adjustDialog()})):zO.off(window,"resize.bs.modal")},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop((function(){document.body.classList.remove("modal-open"),t._resetAdjustments(),t._resetScrollbar(),zO.trigger(t._element,"hidden.bs.modal")}))},n._removeBackdrop=function(){this._backdrop.parentNode.removeChild(this._backdrop),this._backdrop=null},n._showBackdrop=function(t){var e=this,n=this._element.classList.contains("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&this._backdrop.classList.add(n),document.body.appendChild(this._backdrop),zO.on(this._element,"click.dismiss.bs.modal",(function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._triggerBackdropTransition():e.hide())})),n&&TO(this._backdrop),this._backdrop.classList.add("show"),!n)return void t();var r=gO(this._backdrop);zO.one(this._backdrop,"transitionend",t),_O(this._backdrop,r)}else if(!this._isShown&&this._backdrop){this._backdrop.classList.remove("show");var i=function(){e._removeBackdrop(),t()};if(this._element.classList.contains("fade")){var o=gO(this._backdrop);zO.one(this._backdrop,"transitionend",i),_O(this._backdrop,o)}else i()}else t()},n._triggerBackdropTransition=function(){var t=this;if(!zO.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented){var e=this._element.scrollHeight>document.documentElement.clientHeight;e||(this._element.style.overflowY="hidden"),this._element.classList.add("modal-static");var n=gO(this._dialog);zO.off(this._element,"transitionend"),zO.one(this._element,"transitionend",(function(){t._element.classList.remove("modal-static"),e||(zO.one(t._element,"transitionend",(function(){t._element.style.overflowY=""})),_O(t._element,n))})),_O(this._element,n),this._element.focus()}},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;(!this._isBodyOverflowing&&t&&!CO||this._isBodyOverflowing&&!t&&CO)&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),(this._isBodyOverflowing&&!t&&!CO||!this._isBodyOverflowing&&t&&CO)&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;this._isBodyOverflowing&&(this._setElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","paddingRight",(function(e){return e+t._scrollbarWidth})),this._setElementAttributes(".sticky-top","marginRight",(function(e){return e-t._scrollbarWidth})),this._setElementAttributes("body","paddingRight",(function(e){return e+t._scrollbarWidth}))),document.body.classList.add("modal-open")},n._setElementAttributes=function(t,e,n){JO(t).forEach((function(t){var r=t.style[e],i=window.getComputedStyle(t)[e];XO.setDataAttribute(t,e,r),t.style[e]=n(Number.parseFloat(i))+"px"}))},n._resetScrollbar=function(){this._resetElementAttributes(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top","paddingRight"),this._resetElementAttributes(".sticky-top","marginRight"),this._resetElementAttributes("body","paddingRight")},n._resetElementAttributes=function(t,e){JO(t).forEach((function(t){var n=XO.getDataAttribute(t,e);void 0===n&&t===document.body?t.style[e]="":(XO.removeDataAttribute(t,e),t.style[e]=n)}))},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},e.jQueryInterface=function(t,n){return this.each((function(){var r=OO(this,"bs.modal"),i=cO({},wx,XO.getDataAttributes(this),"object"==typeof t&&t?t:{});if(r||(r=new e(this,i)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t](n)}}))},uO(e,null,[{key:"Default",get:function(){return wx}},{key:"DATA_KEY",get:function(){return"bs.modal"}}]),e}(GO);zO.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(t){var e=this,n=vO(this);"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault(),zO.one(n,"show.bs.modal",(function(t){t.defaultPrevented||zO.one(n,"hidden.bs.modal",(function(){wO(e)&&e.focus()}))}));var r=OO(n,"bs.modal");if(!r){var i=cO({},XO.getDataAttributes(n),XO.getDataAttributes(this));r=new Ix(n,i)}r.toggle(this)})),kO("modal",Ix);var Tx=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Sx=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,Cx=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,kx={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function Nx(t,e,n){var r;if(!t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),o=Object.keys(e),s=(r=[]).concat.apply(r,i.body.querySelectorAll("*")),a=function(t,n){var r,i=s[t],a=i.nodeName.toLowerCase();if(!o.includes(a))return i.parentNode.removeChild(i),"continue";var u=(r=[]).concat.apply(r,i.attributes),c=[].concat(e["*"]||[],e[a]||[]);u.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(e.includes(n))return!Tx.has(n)||Boolean(Sx.test(t.nodeValue)||Cx.test(t.nodeValue));for(var r=e.filter((function(t){return t instanceof RegExp})),i=0,o=r.length;i<o;i++)if(r[i].test(n))return!0;return!1})(t,c)||i.removeAttribute(t.nodeName)}))},u=0,c=s.length;u<c;u++)a(u);return i.body.innerHTML}var Ax=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Ox=new Set(["sanitize","allowList","sanitizeFn"]),xx={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},Px={AUTO:"auto",TOP:"top",RIGHT:CO?"left":"right",BOTTOM:"bottom",LEFT:CO?"right":"left"},Rx={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:kx,popperConfig:null},Dx={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Lx=function(t){function e(e,n){var r;if(void 0===sO)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");return(r=t.call(this,e)||this)._isEnabled=!0,r._timeout=0,r._hoverState="",r._activeTrigger={},r._popper=null,r.config=r._getConfig(n),r.tip=null,r._setListeners(),r}lO(e,t);var n=e.prototype;return n.enable=function(){this._isEnabled=!0},n.disable=function(){this._isEnabled=!1},n.toggleEnabled=function(){this._isEnabled=!this._isEnabled},n.toggle=function(t){if(this._isEnabled)if(t){var e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains("show"))return void this._leave(null,this);this._enter(null,this)}},n.dispose=function(){clearTimeout(this._timeout),zO.off(this._element,this.constructor.EVENT_KEY),zO.off(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.tip&&this.tip.parentNode&&this.tip.parentNode.removeChild(this.tip),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.config=null,this.tip=null,t.prototype.dispose.call(this)},n.show=function(){var t=this;if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this.isWithContent()&&this._isEnabled){var e=zO.trigger(this._element,this.constructor.Event.SHOW),n=EO(this._element),r=null===n?this._element.ownerDocument.documentElement.contains(this._element):n.contains(this._element);if(!e.defaultPrevented&&r){var i=this.getTipElement(),o=fO(this.constructor.NAME);i.setAttribute("id",o),this._element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&i.classList.add("fade");var s="function"==typeof this.config.placement?this.config.placement.call(this,i,this._element):this.config.placement,a=this._getAttachment(s);this._addAttachmentClass(a);var u=this._getContainer();AO(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||u.appendChild(i),zO.trigger(this._element,this.constructor.Event.INSERTED),this._popper=oO(this._element,i,this._getPopperConfig(a)),i.classList.add("show");var c,l,h="function"==typeof this.config.customClass?this.config.customClass():this.config.customClass;if(h)(c=i.classList).add.apply(c,h.split(" "));if("ontouchstart"in document.documentElement)(l=[]).concat.apply(l,document.body.children).forEach((function(t){zO.on(t,"mouseover",(function(){}))}));var f=function(){var e=t._hoverState;t._hoverState=null,zO.trigger(t._element,t.constructor.Event.SHOWN),"out"===e&&t._leave(null,t)};if(this.tip.classList.contains("fade")){var p=gO(this.tip);zO.one(this.tip,"transitionend",f),_O(this.tip,p)}else f()}}},n.hide=function(){var t=this;if(this._popper){var e=this.getTipElement(),n=function(){"show"!==t._hoverState&&e.parentNode&&e.parentNode.removeChild(e),t._cleanTipClass(),t._element.removeAttribute("aria-describedby"),zO.trigger(t._element,t.constructor.Event.HIDDEN),t._popper&&(t._popper.destroy(),t._popper=null)};if(!zO.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented){var r;if(e.classList.remove("show"),"ontouchstart"in document.documentElement)(r=[]).concat.apply(r,document.body.children).forEach((function(t){return zO.off(t,"mouseover",IO)}));if(this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this.tip.classList.contains("fade")){var i=gO(e);zO.one(e,"transitionend",n),_O(e,i)}else n();this._hoverState=""}}},n.update=function(){null!==this._popper&&this._popper.update()},n.isWithContent=function(){return Boolean(this.getTitle())},n.getTipElement=function(){if(this.tip)return this.tip;var t=document.createElement("div");return t.innerHTML=this.config.template,this.tip=t.children[0],this.tip},n.setContent=function(){var t=this.getTipElement();this.setElementContent(ZO(".tooltip-inner",t),this.getTitle()),t.classList.remove("fade","show")},n.setElementContent=function(t,e){if(null!==t)return"object"==typeof e&&yO(e)?(e.jquery&&(e=e[0]),void(this.config.html?e.parentNode!==t&&(t.innerHTML="",t.appendChild(e)):t.textContent=e.textContent)):void(this.config.html?(this.config.sanitize&&(e=Nx(e,this.config.allowList,this.config.sanitizeFn)),t.innerHTML=e):t.textContent=e)},n.getTitle=function(){var t=this._element.getAttribute("data-bs-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this._element):this.config.title),t},n.updateAttachment=function(t){return"right"===t?"end":"left"===t?"start":t},n._initializeOnDelegatedTarget=function(t,e){var n=this.constructor.DATA_KEY;return(e=e||OO(t.delegateTarget,n))||(e=new this.constructor(t.delegateTarget,this._getDelegateConfig()),AO(t.delegateTarget,n,e)),e},n._getOffset=function(){var t=this,e=this.config.offset;return"string"==typeof e?e.split(",").map((function(t){return Number.parseInt(t,10)})):"function"==typeof e?function(n){return e(n,t._element)}:e},n._getPopperConfig=function(t){var e=this,n={placement:t,modifiers:[{name:"flip",options:{altBoundary:!0,fallbackPlacements:this.config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this.config.boundary}},{name:"arrow",options:{element:"."+this.constructor.NAME+"-arrow"}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:function(t){return e._handlePopperPlacementChange(t)}}],onFirstUpdate:function(t){t.options.placement!==t.placement&&e._handlePopperPlacementChange(t)}};return cO({},n,"function"==typeof this.config.popperConfig?this.config.popperConfig(n):this.config.popperConfig)},n._addAttachmentClass=function(t){this.getTipElement().classList.add("bs-tooltip-"+this.updateAttachment(t))},n._getContainer=function(){return!1===this.config.container?document.body:yO(this.config.container)?this.config.container:ZO(this.config.container)},n._getAttachment=function(t){return Px[t.toUpperCase()]},n._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(e){if("click"===e)zO.on(t._element,t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if("manual"!==e){var n="hover"===e?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r="hover"===e?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;zO.on(t._element,n,t.config.selector,(function(e){return t._enter(e)})),zO.on(t._element,r,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t._element&&t.hide()},zO.on(this._element.closest(".modal"),"hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=cO({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},n._fixTitle=function(){var t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))},n._enter=function(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),e.getTipElement().classList.contains("show")||"show"===e._hoverState?e._hoverState="show":(clearTimeout(e._timeout),e._hoverState="show",e.config.delay&&e.config.delay.show?e._timeout=setTimeout((function(){"show"===e._hoverState&&e.show()}),e.config.delay.show):e.show())},n._leave=function(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?"focus":"hover"]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout((function(){"out"===e._hoverState&&e.hide()}),e.config.delay.hide):e.hide())},n._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},n._getConfig=function(t){var e=XO.getDataAttributes(this._element);return Object.keys(e).forEach((function(t){Ox.has(t)&&delete e[t]})),t&&"object"==typeof t.container&&t.container.jquery&&(t.container=t.container[0]),"number"==typeof(t=cO({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),bO("tooltip",t,this.constructor.DefaultType),t.sanitize&&(t.template=Nx(t.template,t.allowList,t.sanitizeFn)),t},n._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},n._cleanTipClass=function(){var t=this.getTipElement(),e=t.getAttribute("class").match(Ax);null!==e&&e.length>0&&e.map((function(t){return t.trim()})).forEach((function(e){return t.classList.remove(e)}))},n._handlePopperPlacementChange=function(t){var e=t.state;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))},e.jQueryInterface=function(t){return this.each((function(){var n=OO(this,"bs.tooltip"),r="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new e(this,r)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},uO(e,null,[{key:"Default",get:function(){return Rx}},{key:"NAME",get:function(){return"tooltip"}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return Dx}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return xx}}]),e}(GO);kO("tooltip",Lx);var Mx=new RegExp("(^|\\s)bs-popover\\S+","g"),Fx=cO({},Lx.Default,{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),jx=cO({},Lx.DefaultType,{content:"(string|element|function)"}),Ux={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};kO("popover",function(t){function e(){return t.apply(this,arguments)||this}lO(e,t);var n=e.prototype;return n.isWithContent=function(){return this.getTitle()||this._getContent()},n.setContent=function(){var t=this.getTipElement();this.setElementContent(ZO(".popover-header",t),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this._element)),this.setElementContent(ZO(".popover-body",t),e),t.classList.remove("fade","show")},n._addAttachmentClass=function(t){this.getTipElement().classList.add("bs-popover-"+this.updateAttachment(t))},n._getContent=function(){return this._element.getAttribute("data-bs-content")||this.config.content},n._cleanTipClass=function(){var t=this.getTipElement(),e=t.getAttribute("class").match(Mx);null!==e&&e.length>0&&e.map((function(t){return t.trim()})).forEach((function(e){return t.classList.remove(e)}))},e.jQueryInterface=function(t){return this.each((function(){var n=OO(this,"bs.popover"),r="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new e(this,r),AO(this,"bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},uO(e,null,[{key:"Default",get:function(){return Fx}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Ux}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return jx}}]),e}(Lx));var Vx={offset:10,method:"auto",target:""},qx={offset:"number",method:"string",target:"(string|element)"},Bx=function(t){function e(e,n){var r;return(r=t.call(this,e)||this)._scrollElement="BODY"===e.tagName?window:e,r._config=r._getConfig(n),r._selector=r._config.target+" .nav-link, "+r._config.target+" .list-group-item, "+r._config.target+" .dropdown-item",r._offsets=[],r._targets=[],r._activeTarget=null,r._scrollHeight=0,zO.on(r._scrollElement,"scroll.bs.scrollspy",(function(){return r._process()})),r.refresh(),r._process(),r}lO(e,t);var n=e.prototype;return n.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?"offset":"position",n="auto"===this._config.method?e:this._config.method,r="position"===n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),JO(this._selector).map((function(t){var e=dO(t),i=e?ZO(e):null;if(i){var o=i.getBoundingClientRect();if(o.width||o.height)return[XO[n](i).top+r,e]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},n.dispose=function(){t.prototype.dispose.call(this),zO.off(this._scrollElement,".bs.scrollspy"),this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){if("string"!=typeof(t=cO({},Vx,"object"==typeof t&&t?t:{})).target&&yO(t.target)){var e=t.target.id;e||(e=fO("scrollspy"),t.target.id=e),t.target="#"+e}return bO("scrollspy",t,qx),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var i=this._offsets.length;i--;){this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&(void 0===this._offsets[i+1]||t<this._offsets[i+1])&&this._activate(this._targets[i])}}},n._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map((function(e){return e+'[data-bs-target="'+t+'"],'+e+'[href="'+t+'"]'})),n=ZO(e.join(","));n.classList.contains("dropdown-item")?(ZO(".dropdown-toggle",n.closest(".dropdown")).classList.add("active"),n.classList.add("active")):(n.classList.add("active"),ex(n,".nav, .list-group").forEach((function(t){nx(t,".nav-link, .list-group-item").forEach((function(t){return t.classList.add("active")})),nx(t,".nav-item").forEach((function(t){tx(t,".nav-link").forEach((function(t){return t.classList.add("active")}))}))}))),zO.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:t})},n._clear=function(){JO(this._selector).filter((function(t){return t.classList.contains("active")})).forEach((function(t){return t.classList.remove("active")}))},e.jQueryInterface=function(t){return this.each((function(){var n=OO(this,"bs.scrollspy");if(n||(n=new e(this,"object"==typeof t&&t)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},uO(e,null,[{key:"Default",get:function(){return Vx}},{key:"DATA_KEY",get:function(){return"bs.scrollspy"}}]),e}(GO);zO.on(window,"load.bs.scrollspy.data-api",(function(){JO('[data-bs-spy="scroll"]').forEach((function(t){return new Bx(t,XO.getDataAttributes(t))}))})),kO("scrollspy",Bx);var Wx=function(t){function e(){return t.apply(this,arguments)||this}lO(e,t);var n=e.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains("active")||this._element.classList.contains("disabled"))){var e,n=vO(this._element),r=this._element.closest(".nav, .list-group");if(r){var i="UL"===r.nodeName||"OL"===r.nodeName?":scope > li > .active":".active";e=(e=JO(i,r))[e.length-1]}var o=e?zO.trigger(e,"hide.bs.tab",{relatedTarget:this._element}):null;if(!(zO.trigger(this._element,"show.bs.tab",{relatedTarget:e}).defaultPrevented||null!==o&&o.defaultPrevented)){this._activate(this._element,r);var s=function(){zO.trigger(e,"hidden.bs.tab",{relatedTarget:t._element}),zO.trigger(t._element,"shown.bs.tab",{relatedTarget:e})};n?this._activate(n,n.parentNode,s):s()}}},n._activate=function(t,e,n){var r=this,i=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?tx(e,".active"):JO(":scope > li > .active",e))[0],o=n&&i&&i.classList.contains("fade"),s=function(){return r._transitionComplete(t,i,n)};if(i&&o){var a=gO(i);i.classList.remove("show"),zO.one(i,"transitionend",s),_O(i,a)}else s()},n._transitionComplete=function(t,e,n){if(e){e.classList.remove("active");var r=ZO(":scope > .dropdown-menu .active",e.parentNode);r&&r.classList.remove("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}(t.classList.add("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),TO(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&t.parentNode.classList.contains("dropdown-menu"))&&(t.closest(".dropdown")&&JO(".dropdown-toggle").forEach((function(t){return t.classList.add("active")})),t.setAttribute("aria-expanded",!0));n&&n()},e.jQueryInterface=function(t){return this.each((function(){var n=OO(this,"bs.tab")||new e(this);if("string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},uO(e,null,[{key:"DATA_KEY",get:function(){return"bs.tab"}}]),e}(GO);zO.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(t){t.preventDefault(),(OO(this,"bs.tab")||new Wx(this)).show()})),kO("tab",Wx);var Hx={animation:"boolean",autohide:"boolean",delay:"number"},zx={animation:!0,autohide:!0,delay:5e3};kO("toast",function(t){function e(e,n){var r;return(r=t.call(this,e)||this)._config=r._getConfig(n),r._timeout=null,r._setListeners(),r}lO(e,t);var n=e.prototype;return n.show=function(){var t=this;if(!zO.trigger(this._element,"show.bs.toast").defaultPrevented){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var e=function(){t._element.classList.remove("showing"),t._element.classList.add("show"),zO.trigger(t._element,"shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove("hide"),TO(this._element),this._element.classList.add("showing"),this._config.animation){var n=gO(this._element);zO.one(this._element,"transitionend",e),_O(this._element,n)}else e()}},n.hide=function(){var t=this;if(this._element.classList.contains("show")&&!zO.trigger(this._element,"hide.bs.toast").defaultPrevented){var e=function(){t._element.classList.add("hide"),zO.trigger(t._element,"hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var n=gO(this._element);zO.one(this._element,"transitionend",e),_O(this._element,n)}else e()}},n.dispose=function(){this._clearTimeout(),this._element.classList.contains("show")&&this._element.classList.remove("show"),zO.off(this._element,"click.dismiss.bs.toast"),t.prototype.dispose.call(this),this._config=null},n._getConfig=function(t){return t=cO({},zx,XO.getDataAttributes(this._element),"object"==typeof t&&t?t:{}),bO("toast",t,this.constructor.DefaultType),t},n._setListeners=function(){var t=this;zO.on(this._element,"click.dismiss.bs.toast",'[data-bs-dismiss="toast"]',(function(){return t.hide()}))},n._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},e.jQueryInterface=function(t){return this.each((function(){var n=OO(this,"bs.toast");if(n||(n=new e(this,"object"==typeof t&&t)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t](this)}}))},uO(e,null,[{key:"DefaultType",get:function(){return Hx}},{key:"Default",get:function(){return zx}},{key:"DATA_KEY",get:function(){return"bs.toast"}}]),e}(GO));
/*!
  * @intlify/shared v9.0.0
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */
const Gx="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Kx=t=>Gx?Symbol(t):t,Qx=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Yx=t=>"number"==typeof t&&isFinite(t),$x=t=>"[object RegExp]"===uP(t),Xx=t=>cP(t)&&0===Object.keys(t).length;function Jx(t,e){"undefined"!=typeof console&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}let Zx;const tP=()=>Zx||(Zx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function eP(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const nP=Array.isArray,rP=t=>"function"==typeof t,iP=t=>"string"==typeof t,oP=t=>"boolean"==typeof t,sP=t=>null!==t&&"object"==typeof t,aP=Object.prototype.toString,uP=t=>aP.call(t),cP=t=>"[object Object]"===uP(t),lP=[];lP[0]={w:[0],i:[3,0],"[":[4],o:[7]},lP[1]={w:[1],".":[2],"[":[4],o:[7]},lP[2]={w:[2],i:[3,0],0:[3,0]},lP[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},lP[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},lP[5]={"'":[4,0],o:8,l:[5,0]},lP[6]={'"':[4,0],o:8,l:[6,0]};const hP=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function fP(t){if(null==t)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function pP(t){const e=t.trim();return("0"!==t.charAt(0)||!isNaN(parseInt(t)))&&(n=e,hP.test(n)?function(t){const e=t.charCodeAt(0);return e!==t.charCodeAt(t.length-1)||34!==e&&39!==e?t:t.slice(1,-1)}(e):"*"+e);var n}const dP=new Map;function vP(t,e){if(!(t=>null!==t&&"object"==typeof t)(t))return null;let n=dP.get(e);if(n||(n=function(t){const e=[];let n,r,i,o,s,a,u,c=-1,l=0,h=0;const f=[];function p(){const e=t[c+1];if(5===l&&"'"===e||6===l&&'"'===e)return c++,i="\\"+e,f[0](),!0}for(f[0]=()=>{void 0===r?r=i:r+=i},f[1]=()=>{void 0!==r&&(e.push(r),r=void 0)},f[2]=()=>{f[0](),h++},f[3]=()=>{if(h>0)h--,l=4,f[0]();else{if(h=0,void 0===r)return!1;if(r=pP(r),!1===r)return!1;f[1]()}};null!==l;)if(c++,n=t[c],"\\"!==n||!p()){if(o=fP(n),u=lP[l],s=u[o]||u.l||8,8===s)return;if(l=s[0],void 0!==s[1]&&(a=f[s[1]],a&&(i=n,!1===a())))return;if(7===l)return e}}(e),n&&dP.set(e,n)),!n)return null;const r=n.length;let i=t,o=0;for(;o<r;){const t=i[n[o]];if(void 0===t)return null;i=t,o++}return i}
/*!
  * @intlify/runtime v9.0.0
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const gP=t=>t,mP=t=>"",yP=t=>0===t.length?"":t.join(""),_P=t=>null==t?"":nP(t)||cP(t)&&t.toString===aP?JSON.stringify(t,null,2):String(t);function bP(t,e){return t=Math.abs(t),2===e?t?t>1?1:0:1:t?Math.min(t,2):0}function wP(t={}){const e=t.locale,n=function(t){const e=Yx(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Yx(t.named.count)||Yx(t.named.n))?Yx(t.named.count)?t.named.count:Yx(t.named.n)?t.named.n:e:e}(t),r=sP(t.pluralRules)&&iP(e)&&rP(t.pluralRules[e])?t.pluralRules[e]:bP,i=sP(t.pluralRules)&&iP(e)&&rP(t.pluralRules[e])?bP:void 0,o=t.list||[],s=t.named||{};Yx(t.pluralIndex)&&function(t,e){e.count||(e.count=t),e.n||(e.n=t)}(n,s);function a(e){const n=rP(t.messages)?t.messages(e):!!sP(t.messages)&&t.messages[e];return n||(t.parent?t.parent.message(e):mP)}const u=cP(t.processor)&&rP(t.processor.normalize)?t.processor.normalize:yP,c=cP(t.processor)&&rP(t.processor.interpolate)?t.processor.interpolate:_P,l={list:t=>o[t],named:t=>s[t],plural:t=>t[r(n,t.length,i)],linked:(e,n)=>{const r=a(e)(l);return iP(n)?(i=n,t.modifiers?t.modifiers[i]:gP)(r):r;var i},message:a,type:cP(t.processor)&&iP(t.processor.type)?t.processor.type:"text",interpolate:c,normalize:u};return l}
/*!
  * @intlify/message-compiler v9.0.0
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function EP(t,e,n={}){const{domain:r,messages:i,args:o}=n,s=new SyntaxError(String(t));return s.code=t,e&&(s.location=e),s.domain=r,s}function IP(t){throw t}function TP(t,e,n){const r={start:t,end:e};return null!=n&&(r.source=n),r}const SP=String.fromCharCode(8232),CP=String.fromCharCode(8233);function kP(t){const e=t;let n=0,r=1,i=1,o=0;const s=t=>"\r"===e[t]&&"\n"===e[t+1],a=t=>e[t]===CP,u=t=>e[t]===SP,c=t=>s(t)||(t=>"\n"===e[t])(t)||a(t)||u(t),l=t=>s(t)||a(t)||u(t)?"\n":e[t];function h(){return o=0,c(n)&&(r++,i=0),s(n)&&n++,n++,i++,e[n]}return{index:()=>n,line:()=>r,column:()=>i,peekOffset:()=>o,charAt:l,currentChar:()=>l(n),currentPeek:()=>l(n+o),next:h,peek:function(){return s(n+o)&&o++,o++,e[n+o]},reset:function(){n=0,r=1,i=1,o=0},resetPeek:function(t=0){o=t},skipToPeek:function(){const t=n+o;for(;t!==n;)h();o=0}}}const NP=void 0;function AP(t,e={}){const n=!1!==e.location,r=kP(t),i=()=>r.index(),o=()=>{return t=r.line(),e=r.column(),n=r.index(),{line:t,column:e,offset:n};var t,e,n},s=o(),a=i(),u={currentType:14,offset:a,startLoc:s,endLoc:s,lastType:14,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},c=()=>u,{onError:l}=e;function h(t,e,n,...r){const i=c();if(e.column+=n,e.offset+=n,l){const n=EP(t,TP(i.startLoc,e),{domain:"tokenizer",args:r});l(n)}}function f(t,e,r){t.endLoc=o(),t.currentType=e;const i={type:e};return n&&(i.loc=TP(t.startLoc,t.endLoc)),null!=r&&(i.value=r),i}const p=t=>f(t,14);function d(t,e){return t.currentChar()===e?(t.next(),e):(h(0,o(),0,e),"")}function v(t){let e="";for(;" "===t.currentPeek()||"\n"===t.currentPeek();)e+=t.currentPeek(),t.peek();return e}function g(t){const e=v(t);return t.skipToPeek(),e}function m(t){if(t===NP)return!1;const e=t.charCodeAt(0);return e>=97&&e<=122||e>=65&&e<=90}function y(t,e){const{currentType:n}=e;if(2!==n)return!1;v(t);const r=function(t){if(t===NP)return!1;const e=t.charCodeAt(0);return e>=48&&e<=57}("-"===t.currentPeek()?t.peek():t.currentPeek());return t.resetPeek(),r}function _(t){v(t);const e="|"===t.currentPeek();return t.resetPeek(),e}function b(t,e=!0){const n=(e=!1,r="",i=!1)=>{const o=t.currentPeek();return"{"===o?"%"!==r&&e:"@"!==o&&o?"%"===o?(t.peek(),n(e,"%",!0)):"|"===o?!("%"!==r&&!i)||!(" "===r||"\n"===r):" "===o?(t.peek(),n(!0," ",i)):"\n"!==o||(t.peek(),n(!0,"\n",i)):"%"===r||e},r=n();return e&&t.resetPeek(),r}function w(t,e){const n=t.currentChar();return n===NP?NP:e(n)?(t.next(),n):null}function E(t){return w(t,(t=>{const e=t.charCodeAt(0);return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57||95===e||36===e}))}function I(t){return w(t,(t=>{const e=t.charCodeAt(0);return e>=48&&e<=57}))}function T(t){return w(t,(t=>{const e=t.charCodeAt(0);return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}))}function S(t){let e="",n="";for(;e=I(t);)n+=e;return n}function C(t){const e=t.currentChar();switch(e){case"\\":case"'":return t.next(),`\\${e}`;case"u":return k(t,e,4);case"U":return k(t,e,6);default:return h(3,o(),0,e),""}}function k(t,e,n){d(t,e);let r="";for(let i=0;i<n;i++){const n=T(t);if(!n){h(4,o(),0,`\\${e}${r}${t.currentChar()}`);break}r+=n}return`\\${e}${r}`}function N(t){g(t);const e=d(t,"|");return g(t),e}function A(t,e){let n=null;switch(t.currentChar()){case"{":return e.braceNest>=1&&h(8,o(),0),t.next(),n=f(e,2,"{"),g(t),e.braceNest++,n;case"}":return e.braceNest>0&&2===e.currentType&&h(7,o(),0),t.next(),n=f(e,3,"}"),e.braceNest--,e.braceNest>0&&g(t),e.inLinked&&0===e.braceNest&&(e.inLinked=!1),n;case"@":return e.braceNest>0&&h(6,o(),0),n=O(t,e)||p(e),e.braceNest=0,n;default:let r=!0,i=!0,s=!0;if(_(t))return e.braceNest>0&&h(6,o(),0),n=f(e,1,N(t)),e.braceNest=0,e.inLinked=!1,n;if(e.braceNest>0&&(5===e.currentType||6===e.currentType||7===e.currentType))return h(6,o(),0),e.braceNest=0,x(t,e);if(r=function(t,e){const{currentType:n}=e;if(2!==n)return!1;v(t);const r=m(t.currentPeek());return t.resetPeek(),r}(t,e))return n=f(e,5,function(t){g(t);let e="",n="";for(;e=E(t);)n+=e;return t.currentChar()===NP&&h(6,o(),0),n}(t)),g(t),n;if(i=y(t,e))return n=f(e,6,function(t){g(t);let e="";return"-"===t.currentChar()?(t.next(),e+=`-${S(t)}`):e+=S(t),t.currentChar()===NP&&h(6,o(),0),e}(t)),g(t),n;if(s=function(t,e){const{currentType:n}=e;if(2!==n)return!1;v(t);const r="'"===t.currentPeek();return t.resetPeek(),r}(t,e))return n=f(e,7,function(t){g(t),d(t,"'");let e="",n="";const r=t=>"'"!==t&&"\n"!==t;for(;e=w(t,r);)n+="\\"===e?C(t):e;const i=t.currentChar();return"\n"===i||i===NP?(h(2,o(),0),"\n"===i&&(t.next(),d(t,"'")),n):(d(t,"'"),n)}(t)),g(t),n;if(!r&&!i&&!s)return n=f(e,13,function(t){g(t);let e="",n="";const r=t=>"{"!==t&&"}"!==t&&" "!==t&&"\n"!==t;for(;e=w(t,r);)n+=e;return n}(t)),h(1,o(),0,n.value),g(t),n}return n}function O(t,e){const{currentType:n}=e;let r=null;const i=t.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||"\n"!==i&&" "!==i||h(9,o(),0),i){case"@":return t.next(),r=f(e,8,"@"),e.inLinked=!0,r;case".":return g(t),t.next(),f(e,9,".");case":":return g(t),t.next(),f(e,10,":");default:return _(t)?(r=f(e,1,N(t)),e.braceNest=0,e.inLinked=!1,r):function(t,e){const{currentType:n}=e;if(8!==n)return!1;v(t);const r="."===t.currentPeek();return t.resetPeek(),r}(t,e)||function(t,e){const{currentType:n}=e;if(8!==n&&12!==n)return!1;v(t);const r=":"===t.currentPeek();return t.resetPeek(),r}(t,e)?(g(t),O(t,e)):function(t,e){const{currentType:n}=e;if(9!==n)return!1;v(t);const r=m(t.currentPeek());return t.resetPeek(),r}(t,e)?(g(t),f(e,12,function(t){let e="",n="";for(;e=E(t);)n+=e;return n}(t))):function(t,e){const{currentType:n}=e;if(10!==n)return!1;const r=()=>{const e=t.currentPeek();return"{"===e?m(t.peek()):!("@"===e||"%"===e||"|"===e||":"===e||"."===e||" "===e||!e)&&("\n"===e?(t.peek(),r()):m(e))},i=r();return t.resetPeek(),i}(t,e)?(g(t),"{"===i?A(t,e)||r:f(e,11,function(t){const e=(n=!1,r)=>{const i=t.currentChar();return"{"!==i&&"%"!==i&&"@"!==i&&"|"!==i&&i?" "===i?r:"\n"===i?(r+=i,t.next(),e(n,r)):(r+=i,t.next(),e(!0,r)):r};return e(!1,"")}(t))):(8===n&&h(9,o(),0),e.braceNest=0,e.inLinked=!1,x(t,e))}}function x(t,e){let n={type:14};if(e.braceNest>0)return A(t,e)||p(e);if(e.inLinked)return O(t,e)||p(e);const r=t.currentChar();switch(r){case"{":return A(t,e)||p(e);case"}":return h(5,o(),0),t.next(),f(e,3,"}");case"@":return O(t,e)||p(e);default:if(_(t))return n=f(e,1,N(t)),e.braceNest=0,e.inLinked=!1,n;if(b(t))return f(e,0,function(t){const e=n=>{const r=t.currentChar();return"{"!==r&&"}"!==r&&"@"!==r&&r?"%"===r?b(t)?(n+=r,t.next(),e(n)):n:"|"===r?n:" "===r||"\n"===r?b(t)?(n+=r,t.next(),e(n)):_(t)?n:(n+=r,t.next(),e(n)):(n+=r,t.next(),e(n)):n};return e("")}(t));if("%"===r)return t.next(),f(e,4,"%")}return n}return{nextToken:function(){const{currentType:t,offset:e,startLoc:n,endLoc:s}=u;return u.lastType=t,u.lastOffset=e,u.lastStartLoc=n,u.lastEndLoc=s,u.offset=i(),u.startLoc=o(),r.currentChar()===NP?f(u,14):x(r,u)},currentOffset:i,currentPosition:o,context:c}}const OP=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function xP(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const t=parseInt(e||n,16);return t<=55295||t>=57344?String.fromCodePoint(t):"�"}}}function PP(e={}){const n=!1!==e.location,{onError:r}=e;function i(t,e,n,i,...o){const s=t.currentPosition();if(s.offset+=i,s.column+=i,r){const t=EP(e,TP(n,s),{domain:"parser",args:o});r(t)}}function o(t,e,r){const i={type:t,start:e,end:e};return n&&(i.loc={start:r,end:r}),i}function s(t,e,r,i){t.end=e,i&&(t.type=i),n&&t.loc&&(t.loc.end=r)}function a(t,e){const n=t.context(),r=o(3,n.offset,n.startLoc);return r.value=e,s(r,t.currentOffset(),t.currentPosition()),r}function u(t,e){const n=t.context(),{lastOffset:r,lastStartLoc:i}=n,a=o(5,r,i);return a.index=parseInt(e,10),t.nextToken(),s(a,t.currentOffset(),t.currentPosition()),a}function c(t,e){const n=t.context(),{lastOffset:r,lastStartLoc:i}=n,a=o(4,r,i);return a.key=e,t.nextToken(),s(a,t.currentOffset(),t.currentPosition()),a}function l(t,e){const n=t.context(),{lastOffset:r,lastStartLoc:i}=n,a=o(9,r,i);return a.value=e.replace(OP,xP),t.nextToken(),s(a,t.currentOffset(),t.currentPosition()),a}function h(t){const e=t.context(),n=o(6,e.offset,e.startLoc);let r=t.nextToken();if(9===r.type){const e=function(t){const e=t.nextToken(),n=t.context(),{lastOffset:r,lastStartLoc:a}=n,u=o(8,r,a);return 12!==e.type?(i(t,11,n.lastStartLoc,0),u.value="",s(u,r,a),{nextConsumeToken:e,node:u}):(null==e.value&&i(t,13,n.lastStartLoc,0,RP(e)),u.value=e.value||"",s(u,t.currentOffset(),t.currentPosition()),{node:u})}(t);n.modifier=e.node,r=e.nextConsumeToken||t.nextToken()}switch(10!==r.type&&i(t,13,e.lastStartLoc,0,RP(r)),r=t.nextToken(),2===r.type&&(r=t.nextToken()),r.type){case 11:null==r.value&&i(t,13,e.lastStartLoc,0,RP(r)),n.key=function(t,e){const n=t.context(),r=o(7,n.offset,n.startLoc);return r.value=e,s(r,t.currentOffset(),t.currentPosition()),r}(t,r.value||"");break;case 5:null==r.value&&i(t,13,e.lastStartLoc,0,RP(r)),n.key=c(t,r.value||"");break;case 6:null==r.value&&i(t,13,e.lastStartLoc,0,RP(r)),n.key=u(t,r.value||"");break;case 7:null==r.value&&i(t,13,e.lastStartLoc,0,RP(r)),n.key=l(t,r.value||"");break;default:i(t,12,e.lastStartLoc,0);const a=t.context(),h=o(7,a.offset,a.startLoc);return h.value="",s(h,a.offset,a.startLoc),n.key=h,s(n,a.offset,a.startLoc),{nextConsumeToken:r,node:n}}return s(n,t.currentOffset(),t.currentPosition()),{node:n}}function f(t){const e=t.context(),n=o(2,1===e.currentType?t.currentOffset():e.offset,1===e.currentType?e.endLoc:e.startLoc);n.items=[];let r=null;do{const o=r||t.nextToken();switch(r=null,o.type){case 0:null==o.value&&i(t,13,e.lastStartLoc,0,RP(o)),n.items.push(a(t,o.value||""));break;case 6:null==o.value&&i(t,13,e.lastStartLoc,0,RP(o)),n.items.push(u(t,o.value||""));break;case 5:null==o.value&&i(t,13,e.lastStartLoc,0,RP(o)),n.items.push(c(t,o.value||""));break;case 7:null==o.value&&i(t,13,e.lastStartLoc,0,RP(o)),n.items.push(l(t,o.value||""));break;case 8:const s=h(t);n.items.push(s.node),r=s.nextConsumeToken||null}}while(14!==e.currentType&&1!==e.currentType);return s(n,1===e.currentType?e.lastOffset:t.currentOffset(),1===e.currentType?e.lastEndLoc:t.currentPosition()),n}function p(t){const e=t.context(),{offset:n,startLoc:r}=e,a=f(t);return 14===e.currentType?a:function(t,e,n,r){const a=t.context();let u=0===r.items.length;const c=o(1,e,n);c.cases=[],c.cases.push(r);do{const e=f(t);u||(u=0===e.items.length),c.cases.push(e)}while(14!==a.currentType);return u&&i(t,10,n,0),s(c,t.currentOffset(),t.currentPosition()),c}(t,n,r,a)}return{parse:function(r){const a=AP(r,t({},e)),u=a.context(),c=o(0,u.offset,u.startLoc);return n&&c.loc&&(c.loc.source=r),c.body=p(a),14!==u.currentType&&i(a,13,u.lastStartLoc,0,r[u.offset]||""),s(c,a.currentOffset(),a.currentPosition()),c}}}function RP(t){if(14===t.type)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function DP(t,e){for(let n=0;n<t.length;n++)LP(t[n],e)}function LP(t,e){switch(t.type){case 1:DP(t.cases,e),e.helper("plural");break;case 2:DP(t.items,e);break;case 6:LP(t.key,e),e.helper("linked");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named")}}function MP(t,e={}){const n=function(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:t=>(n.helpers.add(t),t)}}(t);n.helper("normalize"),t.body&&LP(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function FP(t,e){const{helper:n}=t;switch(e.type){case 0:!function(t,e){e.body?FP(t,e.body):t.push("null")}(t,e);break;case 1:!function(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const i=e.cases.length;for(let n=0;n<i&&(FP(t,e.cases[n]),n!==i-1);n++)t.push(", ");t.deindent(r()),t.push("])")}}(t,e);break;case 2:!function(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const i=e.items.length;for(let o=0;o<i&&(FP(t,e.items[o]),o!==i-1);o++)t.push(", ");t.deindent(r()),t.push("])")}(t,e);break;case 6:!function(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),FP(t,e.key),e.modifier&&(t.push(", "),FP(t,e.modifier)),t.push(")")}(t,e);break;case 8:case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:case 3:t.push(JSON.stringify(e.value),e)}}function jP(e,n={}){const r=PP(t({},n)).parse(e);return MP(r,t({},n)),((t,e={})=>{const n=iP(e.mode)?e.mode:"normal",r=iP(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,o=null!=e.breakLineCode?e.breakLineCode:"arrow"===n?";":"\n",s=e.needIndent?e.needIndent:"arrow"!==n,a=t.helpers||[],u=function(t,e){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:o}=e,s={source:t.loc.source,filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:o,indentLevel:0};function a(t,e){s.code+=t}function u(t,e=!0){const n=e?i:"";a(o?n+"  ".repeat(t):n)}return{context:()=>s,push:a,indent:function(t=!0){const e=++s.indentLevel;t&&u(e)},deindent:function(t=!0){const e=--s.indentLevel;t&&u(e)},newline:function(){u(s.indentLevel)},helper:t=>`_${t}`,needIndent:()=>s.needIndent}}(t,{mode:n,filename:r,sourceMap:i,breakLineCode:o,needIndent:s});u.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(s),a.length>0&&(u.push(`const { ${a.map((t=>`${t}: _${t}`)).join(", ")} } = ctx`),u.newline()),u.push("return "),FP(u,t),u.deindent(s),u.push("}");const{code:c,map:l}=u.context();return{ast:t,code:c,map:l?l.toJSON():void 0}})(r,t({},n))}
/*!
  * @intlify/core-base v9.0.0
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let UP;function VP(t={}){const e=iP(t.locale)?t.locale:"en-US",n=t;return{locale:e,fallbackLocale:nP(t.fallbackLocale)||cP(t.fallbackLocale)||iP(t.fallbackLocale)||!1===t.fallbackLocale?t.fallbackLocale:e,messages:cP(t.messages)?t.messages:{[e]:{}},datetimeFormats:cP(t.datetimeFormats)?t.datetimeFormats:{[e]:{}},numberFormats:cP(t.numberFormats)?t.numberFormats:{[e]:{}},modifiers:Object.assign({},t.modifiers||{},{upper:t=>iP(t)?t.toUpperCase():t,lower:t=>iP(t)?t.toLowerCase():t,capitalize:t=>iP(t)?`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`:t}),pluralRules:t.pluralRules||{},missing:rP(t.missing)?t.missing:null,missingWarn:!oP(t.missingWarn)&&!$x(t.missingWarn)||t.missingWarn,fallbackWarn:!oP(t.fallbackWarn)&&!$x(t.fallbackWarn)||t.fallbackWarn,fallbackFormat:!!t.fallbackFormat,unresolving:!!t.unresolving,postTranslation:rP(t.postTranslation)?t.postTranslation:null,processor:cP(t.processor)?t.processor:null,warnHtmlMessage:!oP(t.warnHtmlMessage)||t.warnHtmlMessage,escapeParameter:!!t.escapeParameter,messageCompiler:rP(t.messageCompiler)?t.messageCompiler:UP,onWarn:rP(t.onWarn)?t.onWarn:Jx,__datetimeFormatters:sP(n.__datetimeFormatters)?n.__datetimeFormatters:new Map,__numberFormatters:sP(n.__numberFormatters)?n.__numberFormatters:new Map}}function qP(t,e,n,r,i){const{missing:o,onWarn:s}=t;if(null!==o){const r=o(t,n,e,i);return iP(r)?r:e}return e}function BP(t,e,n){const r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let i=r.__localeChainCache.get(n);if(!i){i=[];let t=[n];for(;nP(t);)t=WP(i,t,e);const o=nP(e)?e:cP(e)?e.default?e.default:null:e;t=iP(o)?[o]:o,nP(t)&&WP(i,t,!1),r.__localeChainCache.set(n,i)}return i}function WP(t,e,n){let r=!0;for(let i=0;i<e.length&&oP(r);i++){const o=e[i];iP(o)&&(r=HP(t,e[i],n))}return r}function HP(t,e,n){let r;const i=e.split("-");do{r=zP(t,i.join("-"),n),i.splice(-1,1)}while(i.length&&!0===r);return r}function zP(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r="!"!==e[e.length-1];const i=e.replace(/!/g,"");t.push(i),(nP(n)||cP(n))&&n[i]&&(r=n[i])}return r}function GP(t,e,n){t.__localeChainCache=new Map,BP(t,n,e)}const KP=t=>t;let QP=Object.create(null);function YP(t){return EP(t,null,void 0)}const $P=()=>"",XP=t=>rP(t);function JP(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:i,fallbackLocale:o}=t,[s,a]=tR(...e),u=(oP(a.missingWarn)?a.missingWarn:t.missingWarn,oP(a.fallbackWarn)?a.fallbackWarn:t.fallbackWarn,oP(a.escapeParameter)?a.escapeParameter:t.escapeParameter),c=iP(a.default)||oP(a.default)?oP(a.default)?s:a.default:n?s:"",l=n||""!==c,h=iP(a.locale)?a.locale:t.locale;u&&function(t){nP(t.list)?t.list=t.list.map((t=>iP(t)?eP(t):t)):sP(t.named)&&Object.keys(t.named).forEach((e=>{iP(t.named[e])&&(t.named[e]=eP(t.named[e]))}))}(a);let[f,p,d]=function(t,e,n,r,i,o){const{messages:s,onWarn:a}=t,u=BP(t,r,n);let c,l={},h=null;const f="translate";for(let p=0;p<u.length&&(c=u[p],l=s[c]||{},null===(h=vP(l,e))&&(h=l[e]),!iP(h)&&!rP(h));p++){const n=qP(t,e,c,0,f);n!==e&&(h=n)}return[h,c,l]}(t,s,h,o),v=s;if(iP(f)||XP(f)||l&&(f=c,v=f),!iP(f)&&!XP(f)||!iP(p))return i?-1:s;let g=!1;const m=ZP(t,s,p,f,v,(()=>{g=!0}));if(g)return f;const y=function(t,e,n){return e(n)}(0,m,wP(function(t,e,n,r){const{modifiers:i,pluralRules:o}=t,s={locale:e,modifiers:i,pluralRules:o,messages:r=>{const i=vP(n,r);if(iP(i)){let n=!1;const o=ZP(t,r,e,i,r,(()=>{n=!0}));return n?$P:o}return XP(i)?i:$P}};t.processor&&(s.processor=t.processor);r.list&&(s.list=r.list);r.named&&(s.named=r.named);Yx(r.plural)&&(s.pluralIndex=r.plural);return s}(t,p,d,a)));return r?r(y):y}function ZP(t,e,n,r,i,o){const{messageCompiler:s,warnHtmlMessage:a}=t;if(XP(r)){const t=r;return t.locale=t.locale||n,t.key=t.key||e,t}const u=s(r,function(t,e,n,r,i,o){return{warnHtmlMessage:i,onError:t=>{throw o&&o(t),t},onCacheKey:t=>((t,e,n)=>Qx({l:t,k:e,s:n}))(e,n,t)}}(0,n,i,0,a,o));return u.locale=n,u.key=e,u.source=r,u}function tR(...t){const[e,n,r]=t,i={};if(!iP(e)&&!Yx(e))throw YP(14);const o=Yx(e)?String(e):e;return Yx(n)?i.plural=n:iP(n)?i.default=n:cP(n)&&!Xx(n)?i.named=n:nP(n)&&(i.list=n),Yx(r)?i.plural=r:iP(r)?i.default=r:cP(r)&&Object.assign(i,r),[o,i]}function eR(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:o}=t,{__datetimeFormatters:s}=t,[a,u,c,l]=nR(...e);oP(c.missingWarn)?c.missingWarn:t.missingWarn;oP(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const h=!!c.part,f=iP(c.locale)?c.locale:t.locale,p=BP(t,i,f);if(!iP(a)||""===a)return new Intl.DateTimeFormat(f).format(u);let d,v={},g=null;for(let _=0;_<p.length&&(d=p[_],v=n[d]||{},g=v[a],!cP(g));_++)qP(t,a,d,0,"datetime format");if(!cP(g)||!iP(d))return r?-1:a;let m=`${d}__${a}`;Xx(l)||(m=`${m}__${JSON.stringify(l)}`);let y=s.get(m);return y||(y=new Intl.DateTimeFormat(d,Object.assign({},g,l)),s.set(m,y)),h?y.formatToParts(u):y.format(u)}function nR(...t){const[e,n,r,i]=t;let o,s={},a={};if(iP(e)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(e))throw YP(16);o=new Date(e);try{o.toISOString()}catch(qw){throw YP(16)}}else if((t=>"[object Date]"===uP(t))(e)){if(isNaN(e.getTime()))throw YP(15);o=e}else{if(!Yx(e))throw YP(14);o=e}return iP(n)?s.key=n:cP(n)&&(s=n),iP(r)?s.locale=r:cP(r)&&(a=r),cP(i)&&(a=i),[s.key||"",o,s,a]}function rR(t,e,n){const r=t;for(const i in n){const t=`${e}__${i}`;r.__datetimeFormatters.has(t)&&r.__datetimeFormatters.delete(t)}}function iR(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:o}=t,{__numberFormatters:s}=t,[a,u,c,l]=oR(...e);oP(c.missingWarn)?c.missingWarn:t.missingWarn;oP(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn;const h=!!c.part,f=iP(c.locale)?c.locale:t.locale,p=BP(t,i,f);if(!iP(a)||""===a)return new Intl.NumberFormat(f).format(u);let d,v={},g=null;for(let _=0;_<p.length&&(d=p[_],v=n[d]||{},g=v[a],!cP(g));_++)qP(t,a,d,0,"number format");if(!cP(g)||!iP(d))return r?-1:a;let m=`${d}__${a}`;Xx(l)||(m=`${m}__${JSON.stringify(l)}`);let y=s.get(m);return y||(y=new Intl.NumberFormat(d,Object.assign({},g,l)),s.set(m,y)),h?y.formatToParts(u):y.format(u)}function oR(...t){const[e,n,r,i]=t;let o={},s={};if(!Yx(e))throw YP(14);const a=e;return iP(n)?o.key=n:cP(n)&&(o=n),iP(r)?o.locale=r:cP(r)&&(s=r),cP(i)&&(s=i),[o.key||"",a,o,s]}function sR(t,e,n){const r=t;for(const i in n){const t=`${e}__${i}`;r.__numberFormatters.has(t)&&r.__numberFormatters.delete(t)}}const aR={"vue-devtools-plugin-vue-i18n":"Vue I18n devtools","vue-i18n-resource-inspector":"I18n Resources","vue-i18n-timeline":"Vue I18n"},uR={"vue-i18n-resource-inspector":"Search for scopes ..."},cR={"vue-i18n-timeline":16764185};function lR(){const t=new Map;return{events:t,on(e,n){const r=t.get(e);r&&r.push(n)||t.set(e,[n])},off(e,n){const r=t.get(e);r&&r.splice(r.indexOf(n)>>>0,1)},emit(e,n){(t.get(e)||[]).slice().map((t=>t(n))),(t.get("*")||[]).slice().map((t=>t(e,n)))}}}function hR(){return"undefined"!=typeof navigator?window:"undefined"!=typeof global?global:{}}function fR(t,e){const n=hR().__VUE_DEVTOOLS_GLOBAL_HOOK__;if(n)n.emit("devtools-plugin:setup",t,e);else{const n=hR();(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:t,setupFn:e})}}
/*!
  * vue-i18n v9.0.0
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function pR(t,...e){return EP(t,null,void 0)}const dR=Kx("__transrateVNode"),vR=Kx("__datetimeParts"),gR=Kx("__numberParts"),mR=Kx("__enableEmitter"),yR=Kx("__disableEmitter"),_R=Kx("__setPluralRules");let bR=0;function wR(t){return(e,n,r,i)=>t(n,r,xr()||void 0,i)}function ER(t,e){const{messages:n,__i18n:r}=e,i=cP(n)?n:nP(r)?{}:{[t]:{}};return nP(r)&&r.forEach((({locale:t,resource:e})=>{t?(i[t]=i[t]||{},CR(e,i[t])):CR(e,i)})),i}const IR=Object.prototype.hasOwnProperty;function TR(t,e){return IR.call(t,e)}const SR=t=>!sP(t)||nP(t);function CR(t,e){if(SR(t)||SR(e))throw pR(20);for(const n in t)TR(t,n)&&(SR(t[n])||SR(e[n])?e[n]=t[n]:CR(t[n],e[n]))}function kR(t={}){const{__root:e}=t,n=void 0===e;let r=!oP(t.inheritLocale)||t.inheritLocale;const i=ee(e&&r?e.locale.value:iP(t.locale)?t.locale:"en-US"),o=ee(e&&r?e.fallbackLocale.value:iP(t.fallbackLocale)||nP(t.fallbackLocale)||cP(t.fallbackLocale)||!1===t.fallbackLocale?t.fallbackLocale:i.value),s=ee(ER(i.value,t)),a=ee(cP(t.datetimeFormats)?t.datetimeFormats:{[i.value]:{}}),u=ee(cP(t.numberFormats)?t.numberFormats:{[i.value]:{}});let c=e?e.missingWarn:!oP(t.missingWarn)&&!$x(t.missingWarn)||t.missingWarn,l=e?e.fallbackWarn:!oP(t.fallbackWarn)&&!$x(t.fallbackWarn)||t.fallbackWarn,h=e?e.fallbackRoot:!oP(t.fallbackRoot)||t.fallbackRoot,f=!!t.fallbackFormat,p=rP(t.missing)?t.missing:null,d=rP(t.missing)?wR(t.missing):null,v=rP(t.postTranslation)?t.postTranslation:null,g=!oP(t.warnHtmlMessage)||t.warnHtmlMessage,m=!!t.escapeParameter;const y=e?e.modifiers:cP(t.modifiers)?t.modifiers:{};let _,b=t.pluralRules||e&&e.pluralRules;function w(){return VP({locale:i.value,fallbackLocale:o.value,messages:s.value,datetimeFormats:a.value,numberFormats:u.value,modifiers:y,pluralRules:b,missing:null===d?void 0:d,missingWarn:c,fallbackWarn:l,fallbackFormat:f,unresolving:!0,postTranslation:null===v?void 0:v,warnHtmlMessage:g,escapeParameter:m,__datetimeFormatters:cP(_)?_.__datetimeFormatters:void 0,__numberFormatters:cP(_)?_.__numberFormatters:void 0,__emitter:cP(_)?_.__emitter:void 0})}_=w(),GP(_,i.value,o.value);const E=Ur({get:()=>i.value,set:t=>{i.value=t,_.locale=i.value}}),I=Ur({get:()=>o.value,set:t=>{o.value=t,_.fallbackLocale=o.value,GP(_,i.value,t)}}),T=Ur((()=>s.value)),S=Ur((()=>a.value)),C=Ur((()=>u.value));function k(t,n,r,i,o,s){const a=t(w());if(Yx(a)&&-1===a){const t=n();return e&&h?i(e):o(t)}if(s(a))return a;throw pR(14)}const N={normalize:function(t){return t.map((t=>iP(t)?sr(Kn,null,t,0):t))},interpolate:t=>t,type:"vnode"};function A(t){return s.value[t]||{}}bR++,e&&(yn(e.locale,(t=>{r&&(i.value=t,_.locale=t,GP(_,i.value,o.value))})),yn(e.fallbackLocale,(t=>{r&&(o.value=t,_.fallbackLocale=t,GP(_,i.value,o.value))})));return{id:bR,locale:E,fallbackLocale:I,get inheritLocale(){return r},set inheritLocale(t){r=t,t&&e&&(i.value=e.locale.value,o.value=e.fallbackLocale.value,GP(_,i.value,o.value))},get availableLocales(){return Object.keys(s.value).sort()},messages:T,datetimeFormats:S,numberFormats:C,get modifiers(){return y},get pluralRules(){return b||{}},get isGlobal(){return n},get missingWarn(){return c},set missingWarn(t){c=t,_.missingWarn=c},get fallbackWarn(){return l},set fallbackWarn(t){l=t,_.fallbackWarn=l},get fallbackRoot(){return h},set fallbackRoot(t){h=t},get fallbackFormat(){return f},set fallbackFormat(t){f=t,_.fallbackFormat=f},get warnHtmlMessage(){return g},set warnHtmlMessage(t){g=t,_.warnHtmlMessage=t},get escapeParameter(){return m},set escapeParameter(t){m=t,_.escapeParameter=t},t:function(...t){return k((e=>JP(e,...t)),(()=>tR(...t)[0]),0,(e=>e.t(...t)),(t=>t),(t=>iP(t)))},d:function(...t){return k((e=>eR(e,...t)),(()=>nR(...t)[0]),0,(e=>e.d(...t)),(()=>""),(t=>iP(t)))},n:function(...t){return k((e=>iR(e,...t)),(()=>oR(...t)[0]),0,(e=>e.n(...t)),(()=>""),(t=>iP(t)))},te:function(t,e){return null!==vP(A(iP(e)?e:i.value),t)},tm:function(t){const n=vP(s.value[i.value]||{},t);return null!=n?n:e&&e.tm(t)||{}},getLocaleMessage:A,setLocaleMessage:function(t,e){s.value[t]=e,_.messages=s.value},mergeLocaleMessage:function(t,e){s.value[t]=s.value[t]||{},CR(e,s.value[t]),_.messages=s.value},getDateTimeFormat:function(t){return a.value[t]||{}},setDateTimeFormat:function(t,e){a.value[t]=e,_.datetimeFormats=a.value,rR(_,t,e)},mergeDateTimeFormat:function(t,e){a.value[t]=Object.assign(a.value[t]||{},e),_.datetimeFormats=a.value,rR(_,t,e)},getNumberFormat:function(t){return u.value[t]||{}},setNumberFormat:function(t,e){u.value[t]=e,_.numberFormats=u.value,sR(_,t,e)},mergeNumberFormat:function(t,e){u.value[t]=Object.assign(u.value[t]||{},e),_.numberFormats=u.value,sR(_,t,e)},getPostTranslationHandler:function(){return rP(v)?v:null},setPostTranslationHandler:function(t){v=t,_.postTranslation=t},getMissingHandler:function(){return p},setMissingHandler:function(t){null!==t&&(d=wR(t)),p=t,_.missing=d},[dR]:function(...t){return k((e=>{let n;const r=e;try{r.processor=N,n=JP(r,...t)}finally{r.processor=null}return n}),(()=>tR(...t)[0]),0,(e=>e[dR](...t)),(t=>[sr(Kn,null,t,0)]),(t=>nP(t)))},[gR]:function(...t){return k((e=>iR(e,...t)),(()=>oR(...t)[0]),0,(e=>e[gR](...t)),(()=>[]),(t=>iP(t)||nP(t)))},[vR]:function(...t){return k((e=>eR(e,...t)),(()=>nR(...t)[0]),0,(e=>e[vR](...t)),(()=>[]),(t=>iP(t)||nP(t)))},[_R]:function(t){b=t,_.pluralRules=b}}}function NR(t={}){const e=kR(function(t){const e=iP(t.locale)?t.locale:"en-US",n=iP(t.fallbackLocale)||nP(t.fallbackLocale)||cP(t.fallbackLocale)||!1===t.fallbackLocale?t.fallbackLocale:e,r=rP(t.missing)?t.missing:void 0,i=!oP(t.silentTranslationWarn)&&!$x(t.silentTranslationWarn)||!t.silentTranslationWarn,o=!oP(t.silentFallbackWarn)&&!$x(t.silentFallbackWarn)||!t.silentFallbackWarn,s=!oP(t.fallbackRoot)||t.fallbackRoot,a=!!t.formatFallbackMessages,u=cP(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,l=rP(t.postTranslation)?t.postTranslation:void 0,h=!iP(t.warnHtmlInMessage)||"off"!==t.warnHtmlInMessage,f=!!t.escapeParameterHtml,p=!oP(t.sync)||t.sync;let d=t.messages;if(cP(t.sharedMessages)){const e=t.sharedMessages;d=Object.keys(e).reduce(((t,n)=>{const r=t[n]||(t[n]={});return Object.assign(r,e[n]),t}),d||{})}const{__i18n:v,__root:g}=t;return{locale:e,fallbackLocale:n,messages:d,datetimeFormats:t.datetimeFormats,numberFormats:t.numberFormats,missing:r,missingWarn:i,fallbackWarn:o,fallbackRoot:s,fallbackFormat:a,modifiers:u,pluralRules:c,postTranslation:l,warnHtmlMessage:h,escapeParameter:f,inheritLocale:p,__i18n:v,__root:g}}(t)),n={id:e.id,get locale(){return e.locale.value},set locale(t){e.locale.value=t},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(t){e.fallbackLocale.value=t},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get formatter(){return{interpolate:()=>[]}},set formatter(t){},get missing(){return e.getMissingHandler()},set missing(t){e.setMissingHandler(t)},get silentTranslationWarn(){return oP(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(t){e.missingWarn=oP(t)?!t:t},get silentFallbackWarn(){return oP(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(t){e.fallbackWarn=oP(t)?!t:t},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(t){e.fallbackFormat=t},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(t){e.setPostTranslationHandler(t)},get sync(){return e.inheritLocale},set sync(t){e.inheritLocale=t},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(t){e.warnHtmlMessage="off"!==t},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(t){e.escapeParameter=t},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(t){},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...t){const[n,r,i]=t,o={};let s=null,a=null;if(!iP(n))throw pR(15);const u=n;return iP(r)?o.locale=r:nP(r)?s=r:cP(r)&&(a=r),nP(i)?s=i:cP(i)&&(a=i),e.t(u,s||a||{},o)},tc(...t){const[n,r,i]=t,o={plural:1};let s=null,a=null;if(!iP(n))throw pR(15);const u=n;return iP(r)?o.locale=r:Yx(r)?o.plural=r:nP(r)?s=r:cP(r)&&(a=r),iP(i)?o.locale=i:nP(i)?s=i:cP(i)&&(a=i),e.t(u,s||a||{},o)},te:(t,n)=>e.te(t,n),tm:t=>e.tm(t),getLocaleMessage:t=>e.getLocaleMessage(t),setLocaleMessage(t,n){e.setLocaleMessage(t,n)},mergeLocaleMessage(t,n){e.mergeLocaleMessage(t,n)},d:(...t)=>e.d(...t),getDateTimeFormat:t=>e.getDateTimeFormat(t),setDateTimeFormat(t,n){e.setDateTimeFormat(t,n)},mergeDateTimeFormat(t,n){e.mergeDateTimeFormat(t,n)},n:(...t)=>e.n(...t),getNumberFormat:t=>e.getNumberFormat(t),setNumberFormat(t,n){e.setNumberFormat(t,n)},mergeNumberFormat(t,n){e.mergeNumberFormat(t,n)},getChoiceIndex:(t,e)=>-1,__onComponentInstanceCreated(e){const{componentInstanceCreatedListener:r}=t;r&&r(e,n)}};return n}const AR={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>"parent"===t||"global"===t,default:"parent"}},OR={name:"i18n-t",props:t(t({},AR),{keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Yx(t)||!isNaN(t)}}),setup(e,n){const{slots:r,attrs:i}=n,o=YR({useScope:e.scope}),s=Object.keys(r).filter((t=>"_"!==t));return()=>{const r={};e.locale&&(r.locale=e.locale),void 0!==e.plural&&(r.plural=iP(e.plural)?+e.plural:e.plural);const a=function({slots:t},e){return 1===e.length&&"default"===e[0]?t.default?t.default():[]:e.reduce(((e,n)=>{const r=t[n];return r&&(e[n]=r()),e}),{})}(n,s),u=o[dR](e.keypath,a,r);return iP(e.tag)||sP(e.tag)?Vr(e.tag,t({},i),u):Vr(Gn,t({},i),u)}}};function xR(e,n,r,i){const{slots:o,attrs:s}=n;return()=>{const n={part:!0};let a={};e.locale&&(n.locale=e.locale),iP(e.format)?n.key=e.format:sP(e.format)&&(iP(e.format.key)&&(n.key=e.format.key),a=Object.keys(e.format).reduce(((t,n)=>r.includes(n)?Object.assign({},t,{[n]:e.format[n]}):t),{}));const u=i(e.value,n,a);let c=[n.key];return nP(u)?c=u.map(((t,e)=>{const n=o[t.type];return n?n({[t.type]:t.value,index:e,parts:u}):[t.value]})):iP(u)&&(c=[u]),iP(e.tag)||sP(e.tag)?Vr(e.tag,t({},s),c):Vr(Gn,t({},s),c)}}const PR=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],RR={name:"i18n-n",props:t(t({},AR),{value:{type:Number,required:!0},format:{type:[String,Object]}}),setup(t,e){const n=YR({useScope:"parent"});return xR(t,e,PR,((...t)=>n[gR](...t)))}},DR=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],LR={name:"i18n-d",props:t(t({},AR),{value:{type:[Number,Date],required:!0},format:{type:[String,Object]}}),setup(t,e){const n=YR({useScope:"parent"});return xR(t,e,DR,((...t)=>n[vR](...t)))}};function MR(t){const e=(e,{instance:n,value:r,modifiers:i})=>{if(!n||!n.$)throw pR(22);const o=function(t,e){const n=t;if("composition"===t.mode)return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return null!=r?r.__composer:t.global.__composer}}(t,n.$),s=function(t){if(iP(t))return{path:t};if(cP(t)){if(!("path"in t))throw pR(19);return t}throw pR(20)}(r);e.textContent=o.t(...function(t){const{path:e,locale:n,args:r,choice:i,plural:o}=t,s={},a=r||{};iP(n)&&(s.locale=n);Yx(i)&&(s.plural=i);Yx(o)&&(s.plural=o);return[e,a,s]}(s))};return{beforeMount:e,beforeUpdate:e}}let FR;async function jR(t,e){return new Promise(((n,r)=>{try{fR({id:"vue-devtools-plugin-vue-i18n",label:aR["vue-devtools-plugin-vue-i18n"],app:t},(r=>{FR=r,r.on.walkComponentTree(((t,n)=>{UR(n.currentAppRecord,t.componentTreeData,e)})),r.on.inspectComponent((t=>{const n=t.componentInstance;n.vnode.el.__INTLIFY__&&t.instanceData&&("legacy"===e.mode?n.vnode.el.__INTLIFY__!==e.global.__composer&&VR(t.instanceData,n.vnode.el.__INTLIFY__):VR(t.instanceData,n.vnode.el.__INTLIFY__))})),r.addInspector({id:"vue-i18n-resource-inspector",label:aR["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:uR["vue-i18n-resource-inspector"]}),r.on.getInspectorTree((n=>{n.app===t&&"vue-i18n-resource-inspector"===n.inspectorId&&function(t,e){t.rootNodes.push({id:"global",label:"Global Scope"});const n="composition"===e.mode?e.global:e.global.__composer;for(const[r,i]of e.__instances){const o="composition"===e.mode?i:i.__composer;if(n===o)continue;const s=r.type.name||r.type.displayName||r.type.__file;t.rootNodes.push({id:o.id.toString(),label:`${s} Scope`})}}(n,e)})),r.on.getInspectorState((n=>{n.app===t&&"vue-i18n-resource-inspector"===n.inspectorId&&function(t,e){if("global"===t.nodeId)t.state=zR("composition"===e.mode?e.global:e.global.__composer);else{const n=Array.from(e.__instances.values()).find((e=>e.id.toString()===t.nodeId));if(n){const r="composition"===e.mode?n:n.__composer;t.state=zR(r)}}}(n,e)})),r.addTimelineLayer({id:"vue-i18n-timeline",label:aR["vue-i18n-timeline"],color:cR["vue-i18n-timeline"]}),n(!0)}))}catch(qw){console.error(qw),r(!1)}}))}function UR(t,e,n){const r="composition"===n.mode?n.global:n.global.__composer;for(const i of e){const e=t.instanceMap.get(i.id);if(e&&e.vnode.el.__INTLIFY__&&e.vnode.el.__INTLIFY__!==r){const t={label:`i18n (${e.type.name||e.type.displayName||e.type.__file} Scope)`,textColor:0,backgroundColor:16764185};i.tags.push(t)}UR(t,i.children,n)}}function VR(t,e){const n="vue-i18n: composer properties";t.state.push({type:n,key:"locale",editable:!1,value:e.locale.value}),t.state.push({type:n,key:"availableLocales",editable:!1,value:e.availableLocales}),t.state.push({type:n,key:"fallbackLocale",editable:!1,value:e.fallbackLocale.value}),t.state.push({type:n,key:"inheritLocale",editable:!1,value:e.inheritLocale}),t.state.push({type:n,key:"messages",editable:!1,value:qR(e.messages.value)}),t.state.push({type:n,key:"datetimeFormats",editable:!1,value:e.datetimeFormats.value}),t.state.push({type:n,key:"numberFormats",editable:!1,value:e.numberFormats.value})}function qR(t){const e={};return Object.keys(t).forEach((n=>{const r=t[n];var i;rP(r)&&"source"in r?e[n]={_custom:{type:"function",display:"<span>ƒ</span> "+((i=r).source?`("${WR(i.source)}")`:"(?)")}}:sP(r)?e[n]=qR(r):e[n]=r})),e}const BR={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function WR(t){return t.replace(/[<>"&]/g,HR)}function HR(t){return BR[t]||t}function zR(t){const e={},n="Locale related info",r=[{type:n,key:"locale",editable:!1,value:t.locale.value},{type:n,key:"fallbackLocale",editable:!1,value:t.fallbackLocale.value},{type:n,key:"availableLocales",editable:!1,value:t.availableLocales},{type:n,key:"inheritLocale",editable:!1,value:t.inheritLocale}];e[n]=r;const i="Locale messages info",o=[{type:i,key:"messages",editable:!1,value:qR(t.messages.value)}];e[i]=o;const s="Datetime formats info",a=[{type:s,key:"datetimeFormats",editable:!1,value:t.datetimeFormats.value}];e[s]=a;const u="Datetime formats info",c=[{type:u,key:"numberFormats",editable:!1,value:t.numberFormats.value}];return e[u]=c,e}function GR(t,e){if(FR){let n;e&&"groupId"in e&&(n=e.groupId,delete e.groupId),FR.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:t,groupId:n,time:Date.now(),meta:{},data:e||{},logType:"compile-error"===t?"error":"fallback"===t||"missing"===t?"warning":"default"}})}}function KR(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[_R](e.pluralizationRules||t.pluralizationRules);const n=ER(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach((e=>t.mergeLocaleMessage(e,n[e]))),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach((n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n]))),e.numberFormats&&Object.keys(e.numberFormats).forEach((n=>t.mergeNumberFormat(n,e.numberFormats[n]))),t}function QR(t={}){const e=__VUE_I18N_LEGACY_API__&&oP(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=!!t.globalInjection,r=new Map,i=__VUE_I18N_LEGACY_API__&&e?NR(t):kR(t),o=Kx(""),s={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(t,...r){if(__INTLIFY_PROD_DEVTOOLS__&&(t.__VUE_I18N__=s),t.__VUE_I18N_SYMBOL__=o,t.provide(t.__VUE_I18N_SYMBOL__,s),!e&&n&&function(t,e){const n=Object.create(null);$R.forEach((t=>{const r=Object.getOwnPropertyDescriptor(e,t);if(!r)throw pR(22);const i=te(r.value)?{get:()=>r.value.value,set(t){r.value.value=t}}:{get:()=>r.get&&r.get()};Object.defineProperty(n,t,i)})),t.config.globalProperties.$i18n=n,XR.forEach((n=>{const r=Object.getOwnPropertyDescriptor(e,n);if(!r)throw pR(22);Object.defineProperty(t.config.globalProperties,`$${n}`,r)}))}(t,s.global),__VUE_I18N_FULL_INSTALL__&&function(t,e,...n){const r=cP(n[0])?n[0]:{},i=!!r.useI18nComponentName;(!oP(r.globalInstall)||r.globalInstall)&&(t.component(i?"i18n":OR.name,OR),t.component(RR.name,RR),t.component(LR.name,LR)),t.directive("t",MR(e))}(t,s,...r),__VUE_I18N_LEGACY_API__&&e&&t.mixin(function(t,e,n){return{beforeCreate(){const r=xr();if(!r)throw pR(22);const i=this.$options;if(i.i18n){const n=i.i18n;i.__i18n&&(n.__i18n=i.__i18n),n.__root=e,this===this.$root?this.$i18n=KR(t,n):this.$i18n=NR(n)}else i.__i18n?this===this.$root?this.$i18n=KR(t,i):this.$i18n=NR({__i18n:i.__i18n,__root:e}):this.$i18n=t;t.__onComponentInstanceCreated(this.$i18n),n.__setInstance(r,this.$i18n),this.$t=(...t)=>this.$i18n.t(...t),this.$tc=(...t)=>this.$i18n.tc(...t),this.$te=(t,e)=>this.$i18n.te(t,e),this.$d=(...t)=>this.$i18n.d(...t),this.$n=(...t)=>this.$i18n.n(...t),this.$tm=t=>this.$i18n.tm(t)},mounted(){if(__INTLIFY_PROD_DEVTOOLS__){this.$el.__INTLIFY__=this.$i18n.__composer;const t=this.__emitter=lR(),e=this.$i18n;e.__enableEmitter&&e.__enableEmitter(t),t.on("*",GR)}},beforeUnmount(){const t=xr();if(!t)throw pR(22);if(__INTLIFY_PROD_DEVTOOLS__){this.__emitter&&(this.__emitter.off("*",GR),delete this.__emitter);const t=this.$i18n;t.__disableEmitter&&t.__disableEmitter(),delete this.$el.__INTLIFY__}delete this.$t,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__deleteInstance(t),delete this.$i18n}}}(i,i.__composer,s)),__INTLIFY_PROD_DEVTOOLS__){if(!(await jR(t,s)))throw pR(21);const n=lR();if(e){const t=i;t.__enableEmitter&&t.__enableEmitter(n)}else{const t=i;t[mR]&&t[mR](n)}n.on("*",GR)}},get global(){return i},__instances:r,__getInstance:t=>r.get(t)||null,__setInstance(t,e){r.set(t,e)},__deleteInstance(t){r.delete(t)}};return s}function YR(e={}){const n=xr();if(null==n)throw pR(16);if(!n.appContext.app.__VUE_I18N_SYMBOL__)throw pR(17);const r=dr(n.appContext.app.__VUE_I18N_SYMBOL__);if(!r)throw pR(22);const i="composition"===r.mode?r.global:r.global.__composer,o=Xx(e)?"__i18n"in n.type?"local":"global":e.useScope?e.useScope:"local";if("global"===o){let t=sP(e.messages)?e.messages:{};"__i18nGlobal"in n.type&&(t=ER(i.locale.value,{messages:t,__i18n:n.type.__i18nGlobal}));const r=Object.keys(t);if(r.length&&r.forEach((e=>{i.mergeLocaleMessage(e,t[e])})),sP(e.datetimeFormats)){const t=Object.keys(e.datetimeFormats);t.length&&t.forEach((t=>{i.mergeDateTimeFormat(t,e.datetimeFormats[t])}))}if(sP(e.numberFormats)){const t=Object.keys(e.numberFormats);t.length&&t.forEach((t=>{i.mergeNumberFormat(t,e.numberFormats[t])}))}return i}if("parent"===o){let t=function(t,e){let n=null;const r=e.root;let i=e.parent;for(;null!=i;){const e=t;if("composition"===t.mode)n=e.__getInstance(i);else{const t=e.__getInstance(i);null!=t&&(n=t.__composer)}if(null!=n)break;if(r===i)break;i=i.parent}return n}(r,n);return null==t&&(t=i),t}if("legacy"===r.mode)throw pR(18);const s=r;let a=s.__getInstance(n);if(null==a){const r=n.type,o=t({},e);r.__i18n&&(o.__i18n=r.__i18n),i&&(o.__root=i),a=kR(o),function(t,e,n){let r=null;ln((()=>{if(__INTLIFY_PROD_DEVTOOLS__&&e.vnode.el){e.vnode.el.__INTLIFY__=n,r=lR();const t=n;t[mR]&&t[mR](r),r.on("*",GR)}}),e),dn((()=>{if(__INTLIFY_PROD_DEVTOOLS__&&e.vnode.el&&e.vnode.el.__INTLIFY__){r&&r.off("*",GR);const t=n;t[yR]&&t[yR](),delete e.vnode.el.__INTLIFY__}t.__deleteInstance(e)}),e)}(s,n,a),s.__setInstance(n,a)}return a}const $R=["locale","fallbackLocale","availableLocales"],XR=["t","d","n","tm"];UP=function(t,e={}){{const n=(e.onCacheKey||KP)(t),r=QP[n];if(r)return r;let i=!1;const o=e.onError||IP;e.onError=t=>{i=!0,o(t)};const{code:s}=jP(t,e),a=new Function(`return ${s}`)();return i?a:QP[n]=a}},"boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(tP().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(tP().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(tP().__INTLIFY_PROD_DEVTOOLS__=!1);export{Gn as F,sr as a,ee as b,tr as c,Wn as d,Ur as e,ln as f,pn as g,cr as h,Ln as i,Xe as j,$e as k,Wo as l,Gi as m,Xo as n,Jn as o,Ye as p,Oa as q,qr as r,QR as s,h as t,pi as u,ui as v,On as w};
