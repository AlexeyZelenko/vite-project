/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function DE(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const Nt={},Gu=[],Fr=()=>{},bW=()=>!1,jv=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),PE=e=>e.startsWith("onUpdate:"),Dn=Object.assign,LE=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},wW=Object.prototype.hasOwnProperty,Je=(e,t)=>wW.call(e,t),Ie=Array.isArray,Ku=e=>sh(e)==="[object Map]",$v=e=>sh(e)==="[object Set]",_N=e=>sh(e)==="[object Date]",Ue=e=>typeof e=="function",Ht=e=>typeof e=="string",$i=e=>typeof e=="symbol",Et=e=>e!==null&&typeof e=="object",oP=e=>(Et(e)||Ue(e))&&Ue(e.then)&&Ue(e.catch),sP=Object.prototype.toString,sh=e=>sP.call(e),EW=e=>sh(e).slice(8,-1),aP=e=>sh(e)==="[object Object]",xE=e=>Ht(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,of=DE(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bv=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},TW=/-(\w)/g,vi=Bv(e=>e.replace(TW,(t,n)=>n?n.toUpperCase():"")),IW=/\B([A-Z])/g,$a=Bv(e=>e.replace(IW,"-$1").toLowerCase()),Hv=Bv(e=>e.charAt(0).toUpperCase()+e.slice(1)),X_=Bv(e=>e?`on${Hv(e)}`:""),ss=(e,t)=>!Object.is(e,t),bp=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},uP=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},cP=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bN;const lP=()=>bN||(bN=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wv(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Ht(r)?NW(r):Wv(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(Ht(e)||Et(e))return e}const SW=/;(?![^(]*\))/g,AW=/:([^]+)/,CW=/\/\*[^]*?\*\//g;function NW(e){const t={};return e.replace(CW,"").split(SW).forEach(n=>{if(n){const r=n.split(AW);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function qv(e){let t="";if(Ht(e))t=e;else if(Ie(e))for(let n=0;n<e.length;n++){const r=qv(e[n]);r&&(t+=r+" ")}else if(Et(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function _oe(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Ht(t)&&(e.class=qv(t)),n&&(e.style=Wv(n)),e}const OW="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",RW=DE(OW);function fP(e){return!!e||e===""}function kW(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Gv(e[r],t[r]);return n}function Gv(e,t){if(e===t)return!0;let n=_N(e),r=_N(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=$i(e),r=$i(t),n||r)return e===t;if(n=Ie(e),r=Ie(t),n||r)return n&&r?kW(e,t):!1;if(n=Et(e),r=Et(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const a in e){const c=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(c&&!l||!c&&l||!Gv(e[a],t[a]))return!1}}return String(e)===String(t)}function DW(e,t){return e.findIndex(n=>Gv(n,t))}const hP=e=>!!(e&&e.__v_isRef===!0),PW=e=>Ht(e)?e:e==null?"":Ie(e)||Et(e)&&(e.toString===sP||!Ue(e.toString))?hP(e)?PW(e.value):JSON.stringify(e,dP,2):String(e),dP=(e,t)=>hP(t)?dP(e,t.value):Ku(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[J_(r,s)+" =>"]=i,n),{})}:$v(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>J_(n))}:$i(t)?J_(t):Et(t)&&!Ie(t)&&!aP(t)?String(t):t,J_=(e,t="")=>{var n;return $i(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let si;class pP{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=si,!t&&si&&(this.index=(si.scopes||(si.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=si;try{return si=this,t()}finally{si=n}}}on(){si=this}off(){si=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function vP(e){return new pP(e)}function LW(e,t=si){t&&t.active&&t.effects.push(e)}function xW(){return si}let ga;class ME{constructor(t,n,r,i){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,LW(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,gs();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(MW(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ys()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=es,n=ga;try{return es=!0,ga=this,this._runnings++,wN(this),this.fn()}finally{EN(this),this._runnings--,ga=n,es=t}}stop(){this.active&&(wN(this),EN(this),this.onStop&&this.onStop(),this.active=!1)}}function MW(e){return e.value}function wN(e){e._trackId++,e._depsLength=0}function EN(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)mP(e.deps[t],e);e.deps.length=e._depsLength}}function mP(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let es=!0,Zb=0;const gP=[];function gs(){gP.push(es),es=!1}function ys(){const e=gP.pop();es=e===void 0?!0:e}function FE(){Zb++}function UE(){for(Zb--;!Zb&&ew.length;)ew.shift()()}function yP(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&mP(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ew=[];function _P(e,t,n){FE();for(const r of e.keys()){let i;r._dirtyLevel<t&&(i??(i=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(i??(i=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&ew.push(r.scheduler)))}UE()}const bP=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Up=new WeakMap,ya=Symbol(""),tw=Symbol("");function fr(e,t,n){if(es&&ga){let r=Up.get(e);r||Up.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=bP(()=>r.delete(n))),yP(ga,i)}}function fo(e,t,n,r,i,s){const a=Up.get(e);if(!a)return;let c=[];if(t==="clear")c=[...a.values()];else if(n==="length"&&Ie(e)){const l=Number(r);a.forEach((h,d)=>{(d==="length"||!$i(d)&&d>=l)&&c.push(h)})}else switch(n!==void 0&&c.push(a.get(n)),t){case"add":Ie(e)?xE(n)&&c.push(a.get("length")):(c.push(a.get(ya)),Ku(e)&&c.push(a.get(tw)));break;case"delete":Ie(e)||(c.push(a.get(ya)),Ku(e)&&c.push(a.get(tw)));break;case"set":Ku(e)&&c.push(a.get(ya));break}FE();for(const l of c)l&&_P(l,4);UE()}function FW(e,t){const n=Up.get(e);return n&&n.get(t)}const UW=DE("__proto__,__v_isRef,__isVue"),wP=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($i)),TN=VW();function VW(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ot(this);for(let s=0,a=this.length;s<a;s++)fr(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(ot)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){gs(),FE();const r=ot(this)[t].apply(this,n);return UE(),ys(),r}}),e}function jW(e){$i(e)||(e=String(e));const t=ot(this);return fr(t,"has",e),t.hasOwnProperty(e)}class EP{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?ZW:AP:s?SP:IP).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=Ie(t);if(!i){if(a&&Je(TN,n))return Reflect.get(TN,n,r);if(n==="hasOwnProperty")return jW}const c=Reflect.get(t,n,r);return($i(n)?wP.has(n):UW(n))||(i||fr(t,"get",n),s)?c:Pn(c)?a&&xE(n)?c:c.value:Et(c)?i?NP(c):ah(c):c}}class TP extends EP{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const l=Aa(s);if(!ec(r)&&!Aa(r)&&(s=ot(s),r=ot(r)),!Ie(t)&&Pn(s)&&!Pn(r))return l?!1:(s.value=r,!0)}const a=Ie(t)&&xE(n)?Number(n)<t.length:Je(t,n),c=Reflect.set(t,n,r,i);return t===ot(i)&&(a?ss(r,s)&&fo(t,"set",n,r):fo(t,"add",n,r)),c}deleteProperty(t,n){const r=Je(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&fo(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!$i(n)||!wP.has(n))&&fr(t,"has",n),r}ownKeys(t){return fr(t,"iterate",Ie(t)?"length":ya),Reflect.ownKeys(t)}}class $W extends EP{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const BW=new TP,HW=new $W,WW=new TP(!0);const VE=e=>e,Kv=e=>Reflect.getPrototypeOf(e);function Gd(e,t,n=!1,r=!1){e=e.__v_raw;const i=ot(e),s=ot(t);n||(ss(t,s)&&fr(i,"get",t),fr(i,"get",s));const{has:a}=Kv(i),c=r?VE:n?BE:Sf;if(a.call(i,t))return c(e.get(t));if(a.call(i,s))return c(e.get(s));e!==i&&e.get(t)}function Kd(e,t=!1){const n=this.__v_raw,r=ot(n),i=ot(e);return t||(ss(e,i)&&fr(r,"has",e),fr(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Yd(e,t=!1){return e=e.__v_raw,!t&&fr(ot(e),"iterate",ya),Reflect.get(e,"size",e)}function IN(e,t=!1){!t&&!ec(e)&&!Aa(e)&&(e=ot(e));const n=ot(this);return Kv(n).has.call(n,e)||(n.add(e),fo(n,"add",e,e)),this}function SN(e,t,n=!1){!n&&!ec(t)&&!Aa(t)&&(t=ot(t));const r=ot(this),{has:i,get:s}=Kv(r);let a=i.call(r,e);a||(e=ot(e),a=i.call(r,e));const c=s.call(r,e);return r.set(e,t),a?ss(t,c)&&fo(r,"set",e,t):fo(r,"add",e,t),this}function AN(e){const t=ot(this),{has:n,get:r}=Kv(t);let i=n.call(t,e);i||(e=ot(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&fo(t,"delete",e,void 0),s}function CN(){const e=ot(this),t=e.size!==0,n=e.clear();return t&&fo(e,"clear",void 0,void 0),n}function zd(e,t){return function(r,i){const s=this,a=s.__v_raw,c=ot(a),l=t?VE:e?BE:Sf;return!e&&fr(c,"iterate",ya),a.forEach((h,d)=>r.call(i,l(h),l(d),s))}}function Qd(e,t,n){return function(...r){const i=this.__v_raw,s=ot(i),a=Ku(s),c=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,h=i[e](...r),d=n?VE:t?BE:Sf;return!t&&fr(s,"iterate",l?tw:ya),{next(){const{value:v,done:m}=h.next();return m?{value:v,done:m}:{value:c?[d(v[0]),d(v[1])]:d(v),done:m}},[Symbol.iterator](){return this}}}}function Mo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qW(){const e={get(s){return Gd(this,s)},get size(){return Yd(this)},has:Kd,add:IN,set:SN,delete:AN,clear:CN,forEach:zd(!1,!1)},t={get(s){return Gd(this,s,!1,!0)},get size(){return Yd(this)},has:Kd,add(s){return IN.call(this,s,!0)},set(s,a){return SN.call(this,s,a,!0)},delete:AN,clear:CN,forEach:zd(!1,!0)},n={get(s){return Gd(this,s,!0)},get size(){return Yd(this,!0)},has(s){return Kd.call(this,s,!0)},add:Mo("add"),set:Mo("set"),delete:Mo("delete"),clear:Mo("clear"),forEach:zd(!0,!1)},r={get(s){return Gd(this,s,!0,!0)},get size(){return Yd(this,!0)},has(s){return Kd.call(this,s,!0)},add:Mo("add"),set:Mo("set"),delete:Mo("delete"),clear:Mo("clear"),forEach:zd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Qd(s,!1,!1),n[s]=Qd(s,!0,!1),t[s]=Qd(s,!1,!0),r[s]=Qd(s,!0,!0)}),[e,n,t,r]}const[GW,KW,YW,zW]=qW();function jE(e,t){const n=t?e?zW:YW:e?KW:GW;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Je(n,i)&&i in r?n:r,i,s)}const QW={get:jE(!1,!1)},XW={get:jE(!1,!0)},JW={get:jE(!0,!1)};const IP=new WeakMap,SP=new WeakMap,AP=new WeakMap,ZW=new WeakMap;function eq(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tq(e){return e.__v_skip||!Object.isExtensible(e)?0:eq(EW(e))}function ah(e){return Aa(e)?e:$E(e,!1,BW,QW,IP)}function CP(e){return $E(e,!1,WW,XW,SP)}function NP(e){return $E(e,!0,HW,JW,AP)}function $E(e,t,n,r,i){if(!Et(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=tq(e);if(a===0)return e;const c=new Proxy(e,a===2?r:n);return i.set(e,c),c}function sf(e){return Aa(e)?sf(e.__v_raw):!!(e&&e.__v_isReactive)}function Aa(e){return!!(e&&e.__v_isReadonly)}function ec(e){return!!(e&&e.__v_isShallow)}function OP(e){return e?!!e.__v_raw:!1}function ot(e){const t=e&&e.__v_raw;return t?ot(t):e}function nq(e){return Object.isExtensible(e)&&uP(e,"__v_skip",!0),e}const Sf=e=>Et(e)?ah(e):e,BE=e=>Et(e)?NP(e):e;class RP{constructor(t,n,r,i){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ME(()=>t(this._value),()=>wp(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=ot(this);return(!t._cacheable||t.effect.dirty)&&ss(t._value,t._value=t.effect.run())&&wp(t,4),kP(t),t.effect._dirtyLevel>=2&&wp(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function rq(e,t,n=!1){let r,i;const s=Ue(e);return s?(r=e,i=Fr):(r=e.get,i=e.set),new RP(r,i,s||!i,n)}function kP(e){var t;es&&ga&&(e=ot(e),yP(ga,(t=e.dep)!=null?t:e.dep=bP(()=>e.dep=void 0,e instanceof RP?e:void 0)))}function wp(e,t=4,n,r){e=ot(e);const i=e.dep;i&&_P(i,t)}function Pn(e){return!!(e&&e.__v_isRef===!0)}function ia(e){return DP(e,!1)}function HE(e){return DP(e,!0)}function DP(e,t){return Pn(e)?e:new iq(e,t)}class iq{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ot(t),this._value=n?t:Sf(t)}get value(){return kP(this),this._value}set value(t){const n=this.__v_isShallow||ec(t)||Aa(t);t=n?t:ot(t),ss(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:Sf(t),wp(this,4))}}function Yu(e){return Pn(e)?e.value:e}const oq={get:(e,t,n)=>Yu(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Pn(i)&&!Pn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function PP(e){return sf(e)?e:new Proxy(e,oq)}function boe(e){const t=Ie(e)?new Array(e.length):{};for(const n in e)t[n]=aq(e,n);return t}class sq{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return FW(ot(this._object),this._key)}}function aq(e,t,n){const r=e[t];return Pn(r)?r:new sq(e,t,n)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ts(e,t,n,r){try{return r?e(...r):e()}catch(i){Yv(i,t,n)}}function fi(e,t,n,r){if(Ue(e)){const i=ts(e,t,n,r);return i&&oP(i)&&i.catch(s=>{Yv(s,t,n)}),i}if(Ie(e)){const i=[];for(let s=0;s<e.length;s++)i.push(fi(e[s],t,n,r));return i}}function Yv(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const h=s.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,a,c)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){gs(),ts(l,null,10,[e,a,c]),ys();return}}uq(e,n,i,r)}function uq(e,t,n,r=!0){console.error(e)}let Af=!1,nw=!1;const Cn=[];let Di=0;const zu=[];let Wo=null,oa=0;const LP=Promise.resolve();let WE=null;function qE(e){const t=WE||LP;return e?t.then(this?e.bind(this):e):t}function cq(e){let t=Di+1,n=Cn.length;for(;t<n;){const r=t+n>>>1,i=Cn[r],s=Cf(i);s<e||s===e&&i.pre?t=r+1:n=r}return t}function GE(e){(!Cn.length||!Cn.includes(e,Af&&e.allowRecurse?Di+1:Di))&&(e.id==null?Cn.push(e):Cn.splice(cq(e.id),0,e),xP())}function xP(){!Af&&!nw&&(nw=!0,WE=LP.then(FP))}function lq(e){const t=Cn.indexOf(e);t>Di&&Cn.splice(t,1)}function fq(e){Ie(e)?zu.push(...e):(!Wo||!Wo.includes(e,e.allowRecurse?oa+1:oa))&&zu.push(e),xP()}function NN(e,t,n=Af?Di+1:0){for(;n<Cn.length;n++){const r=Cn[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;Cn.splice(n,1),n--,r()}}}function MP(e){if(zu.length){const t=[...new Set(zu)].sort((n,r)=>Cf(n)-Cf(r));if(zu.length=0,Wo){Wo.push(...t);return}for(Wo=t,oa=0;oa<Wo.length;oa++){const n=Wo[oa];n.active!==!1&&n()}Wo=null,oa=0}}const Cf=e=>e.id==null?1/0:e.id,hq=(e,t)=>{const n=Cf(e)-Cf(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function FP(e){nw=!1,Af=!0,Cn.sort(hq);try{for(Di=0;Di<Cn.length;Di++){const t=Cn[Di];t&&t.active!==!1&&ts(t,t.i,t.i?15:14)}}finally{Di=0,Cn.length=0,MP(),Af=!1,WE=null,(Cn.length||zu.length)&&FP()}}let sr=null,zv=null;function Vp(e){const t=sr;return sr=e,zv=e&&e.type.__scopeId||null,t}function woe(e){zv=e}function Eoe(){zv=null}function dq(e,t=sr,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&FN(-1);const s=Vp(t);let a;try{a=e(...i)}finally{Vp(s),r._d&&FN(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Toe(e,t){if(sr===null)return e;const n=Zv(sr),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,c,l=Nt]=t[i];s&&(Ue(s)&&(s={mounted:s,updated:s}),s.deep&&Yo(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:c,modifiers:l}))}return e}function Xs(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let l=c.dir[r];l&&(gs(),fi(l,n,8,[e.el,c,e,t]),ys())}}function UP(e,t){e.shapeFlag&6&&e.component?UP(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function uh(e,t){return Ue(e)?Dn({name:e.name},t,{setup:e}):e}const Ep=e=>!!e.type.__asyncLoader,VP=e=>e.type.__isKeepAlive;function pq(e,t){jP(e,"a",t)}function vq(e,t){jP(e,"da",t)}function jP(e,t,n=mn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Qv(t,r,n),n){let i=n.parent;for(;i&&i.parent;)VP(i.parent.vnode)&&mq(r,t,n,i),i=i.parent}}function mq(e,t,n,r){const i=Qv(t,e,r,!0);KE(()=>{LE(r[t],i)},n)}function Qv(e,t,n=mn,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{gs();const c=lh(n),l=fi(t,n,e,a);return c(),ys(),l});return r?i.unshift(s):i.push(s),s}}const Io=e=>(t,n=mn)=>{(!Jv||e==="sp")&&Qv(e,(...r)=>t(...r),n)},$P=Io("bm"),BP=Io("m"),gq=Io("bu"),yq=Io("u"),_q=Io("bum"),KE=Io("um"),bq=Io("sp"),wq=Io("rtg"),Eq=Io("rtc");function Tq(e,t=mn){Qv("ec",e,t)}const YE="components";function Ioe(e,t){return WP(YE,e,!0,t)||e}const HP=Symbol.for("v-ndc");function Soe(e){return Ht(e)?WP(YE,e,!1)||e:e||HP}function WP(e,t,n=!0,r=!1){const i=sr||mn;if(i){const s=i.type;if(e===YE){const c=vG(s,!1);if(c&&(c===t||c===vi(t)||c===Hv(vi(t))))return s}const a=ON(i[e]||s[e],t)||ON(i.appContext[e],t);return!a&&r?s:a}}function ON(e,t){return e&&(e[t]||e[vi(t)]||e[Hv(vi(t))])}function Aoe(e,t,n,r){let i;const s=n;if(Ie(e)||Ht(e)){i=new Array(e.length);for(let a=0,c=e.length;a<c;a++)i[a]=t(e[a],a,void 0,s)}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s)}else if(Et(e))if(e[Symbol.iterator])i=Array.from(e,(a,c)=>t(a,c,void 0,s));else{const a=Object.keys(e);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];i[c]=t(e[h],h,c,s)}}else i=[];return i}const rw=e=>e?lL(e)?Zv(e):rw(e.parent):null,af=Dn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>rw(e.parent),$root:e=>rw(e.root),$emit:e=>e.emit,$options:e=>zE(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,GE(e.update)}),$nextTick:e=>e.n||(e.n=qE.bind(e.proxy)),$watch:e=>Gq.bind(e)}),Z_=(e,t)=>e!==Nt&&!e.__isScriptSetup&&Je(e,t),Iq={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:c,appContext:l}=e;let h;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Z_(r,t))return a[t]=1,r[t];if(i!==Nt&&Je(i,t))return a[t]=2,i[t];if((h=e.propsOptions[0])&&Je(h,t))return a[t]=3,s[t];if(n!==Nt&&Je(n,t))return a[t]=4,n[t];iw&&(a[t]=0)}}const d=af[t];let v,m;if(d)return t==="$attrs"&&fr(e.attrs,"get",""),d(e);if((v=c.__cssModules)&&(v=v[t]))return v;if(n!==Nt&&Je(n,t))return a[t]=4,n[t];if(m=l.config.globalProperties,Je(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return Z_(i,t)?(i[t]=n,!0):r!==Nt&&Je(r,t)?(r[t]=n,!0):Je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let c;return!!n[a]||e!==Nt&&Je(e,a)||Z_(t,a)||(c=s[0])&&Je(c,a)||Je(r,a)||Je(af,a)||Je(i.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function RN(e){return Ie(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let iw=!0;function Sq(e){const t=zE(e),n=e.proxy,r=e.ctx;iw=!1,t.beforeCreate&&kN(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:c,provide:l,inject:h,created:d,beforeMount:v,mounted:m,beforeUpdate:y,updated:b,activated:E,deactivated:T,beforeDestroy:N,beforeUnmount:L,destroyed:A,unmounted:D,render:F,renderTracked:R,renderTriggered:j,errorCaptured:H,serverPrefetch:Q,expose:P,inheritAttrs:De,components:ge,directives:Pe,filters:kt}=t;if(h&&Aq(h,r,null),a)for(const Ae in a){const we=a[Ae];Ue(we)&&(r[Ae]=we.bind(n))}if(i){const Ae=i.call(n,n);Et(Ae)&&(e.data=ah(Ae))}if(iw=!0,s)for(const Ae in s){const we=s[Ae],vt=Ue(we)?we.bind(n,n):Ue(we.get)?we.get.bind(n,n):Fr,yt=!Ue(we)&&Ue(we.set)?we.set.bind(n):Fr,st=Ut({get:vt,set:yt});Object.defineProperty(r,Ae,{enumerable:!0,configurable:!0,get:()=>st.value,set:nt=>st.value=nt})}if(c)for(const Ae in c)qP(c[Ae],r,n,Ae);if(l){const Ae=Ue(l)?l.call(n):l;Reflect.ownKeys(Ae).forEach(we=>{Tp(we,Ae[we])})}d&&kN(d,e,"c");function Se(Ae,we){Ie(we)?we.forEach(vt=>Ae(vt.bind(n))):we&&Ae(we.bind(n))}if(Se($P,v),Se(BP,m),Se(gq,y),Se(yq,b),Se(pq,E),Se(vq,T),Se(Tq,H),Se(Eq,R),Se(wq,j),Se(_q,L),Se(KE,D),Se(bq,Q),Ie(P))if(P.length){const Ae=e.exposed||(e.exposed={});P.forEach(we=>{Object.defineProperty(Ae,we,{get:()=>n[we],set:vt=>n[we]=vt})})}else e.exposed||(e.exposed={});F&&e.render===Fr&&(e.render=F),De!=null&&(e.inheritAttrs=De),ge&&(e.components=ge),Pe&&(e.directives=Pe)}function Aq(e,t,n=Fr){Ie(e)&&(e=ow(e));for(const r in e){const i=e[r];let s;Et(i)?"default"in i?s=xi(i.from||r,i.default,!0):s=xi(i.from||r):s=xi(i),Pn(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[r]=s}}function kN(e,t,n){fi(Ie(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function qP(e,t,n,r){const i=r.includes(".")?oL(n,r):()=>n[r];if(Ht(e)){const s=t[e];Ue(s)&&ho(i,s)}else if(Ue(e))ho(i,e.bind(n));else if(Et(e))if(Ie(e))e.forEach(s=>qP(s,t,n,r));else{const s=Ue(e.handler)?e.handler.bind(n):t[e.handler];Ue(s)&&ho(i,s,e)}}function zE(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,c=s.get(t);let l;return c?l=c:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(h=>jp(l,h,a,!0)),jp(l,t,a)),Et(t)&&s.set(t,l),l}function jp(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&jp(e,s,n,!0),i&&i.forEach(a=>jp(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const c=Cq[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const Cq={data:DN,props:PN,emits:PN,methods:tf,computed:tf,beforeCreate:Vn,created:Vn,beforeMount:Vn,mounted:Vn,beforeUpdate:Vn,updated:Vn,beforeDestroy:Vn,beforeUnmount:Vn,destroyed:Vn,unmounted:Vn,activated:Vn,deactivated:Vn,errorCaptured:Vn,serverPrefetch:Vn,components:tf,directives:tf,watch:Oq,provide:DN,inject:Nq};function DN(e,t){return t?e?function(){return Dn(Ue(e)?e.call(this,this):e,Ue(t)?t.call(this,this):t)}:t:e}function Nq(e,t){return tf(ow(e),ow(t))}function ow(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Vn(e,t){return e?[...new Set([].concat(e,t))]:t}function tf(e,t){return e?Dn(Object.create(null),e,t):t}function PN(e,t){return e?Ie(e)&&Ie(t)?[...new Set([...e,...t])]:Dn(Object.create(null),RN(e),RN(t??{})):t}function Oq(e,t){if(!e)return t;if(!t)return e;const n=Dn(Object.create(null),e);for(const r in t)n[r]=Vn(e[r],t[r]);return n}function GP(){return{app:null,config:{isNativeTag:bW,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Rq=0;function kq(e,t){return function(r,i=null){Ue(r)||(r=Dn({},r)),i!=null&&!Et(i)&&(i=null);const s=GP(),a=new WeakSet;let c=!1;const l=s.app={_uid:Rq++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:gG,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&Ue(h.install)?(a.add(h),h.install(l,...d)):Ue(h)&&(a.add(h),h(l,...d))),l},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),l},component(h,d){return d?(s.components[h]=d,l):s.components[h]},directive(h,d){return d?(s.directives[h]=d,l):s.directives[h]},mount(h,d,v){if(!c){const m=ar(r,i);return m.appContext=s,v===!0?v="svg":v===!1&&(v=void 0),d&&t?t(m,h):e(m,h,v),c=!0,l._container=h,h.__vue_app__=l,Zv(m.component)}},unmount(){c&&(e(null,l._container),delete l._container.__vue_app__)},provide(h,d){return s.provides[h]=d,l},runWithContext(h){const d=Qu;Qu=l;try{return h()}finally{Qu=d}}};return l}}let Qu=null;function Tp(e,t){if(mn){let n=mn.provides;const r=mn.parent&&mn.parent.provides;r===n&&(n=mn.provides=Object.create(r)),n[e]=t}}function xi(e,t,n=!1){const r=mn||sr;if(r||Qu){const i=Qu?Qu._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Ue(t)?t.call(r&&r.proxy):t}}const KP={},YP=()=>Object.create(KP),zP=e=>Object.getPrototypeOf(e)===KP;function Dq(e,t,n,r=!1){const i={},s=YP();e.propsDefaults=Object.create(null),QP(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:CP(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function Pq(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,c=ot(i),[l]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let v=0;v<d.length;v++){let m=d[v];if(Xv(e.emitsOptions,m))continue;const y=t[m];if(l)if(Je(s,m))y!==s[m]&&(s[m]=y,h=!0);else{const b=vi(m);i[b]=sw(l,c,b,y,e,!1)}else y!==s[m]&&(s[m]=y,h=!0)}}}else{QP(e,t,i,s)&&(h=!0);let d;for(const v in c)(!t||!Je(t,v)&&((d=$a(v))===v||!Je(t,d)))&&(l?n&&(n[v]!==void 0||n[d]!==void 0)&&(i[v]=sw(l,c,v,void 0,e,!0)):delete i[v]);if(s!==c)for(const v in s)(!t||!Je(t,v))&&(delete s[v],h=!0)}h&&fo(e.attrs,"set","")}function QP(e,t,n,r){const[i,s]=e.propsOptions;let a=!1,c;if(t)for(let l in t){if(of(l))continue;const h=t[l];let d;i&&Je(i,d=vi(l))?!s||!s.includes(d)?n[d]=h:(c||(c={}))[d]=h:Xv(e.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,a=!0)}if(s){const l=ot(n),h=c||Nt;for(let d=0;d<s.length;d++){const v=s[d];n[v]=sw(i,l,v,h[v],e,!Je(h,v))}}return a}function sw(e,t,n,r,i,s){const a=e[n];if(a!=null){const c=Je(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Ue(l)){const{propsDefaults:h}=i;if(n in h)r=h[n];else{const d=lh(i);r=h[n]=l.call(null,t),d()}}else r=l}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===$a(n))&&(r=!0))}return r}const Lq=new WeakMap;function XP(e,t,n=!1){const r=n?Lq:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,a={},c=[];let l=!1;if(!Ue(e)){const d=v=>{l=!0;const[m,y]=XP(v,t,!0);Dn(a,m),y&&c.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!l)return Et(e)&&r.set(e,Gu),Gu;if(Ie(s))for(let d=0;d<s.length;d++){const v=vi(s[d]);LN(v)&&(a[v]=Nt)}else if(s)for(const d in s){const v=vi(d);if(LN(v)){const m=s[d],y=a[v]=Ie(m)||Ue(m)?{type:m}:Dn({},m),b=y.type;let E=!1,T=!0;if(Ie(b))for(let N=0;N<b.length;++N){const L=b[N],A=Ue(L)&&L.name;if(A==="Boolean"){E=!0;break}else A==="String"&&(T=!1)}else E=Ue(b)&&b.name==="Boolean";y[0]=E,y[1]=T,(E||Je(y,"default"))&&c.push(v)}}const h=[a,c];return Et(e)&&r.set(e,h),h}function LN(e){return e[0]!=="$"&&!of(e)}const JP=e=>e[0]==="_"||e==="$stable",QE=e=>Ie(e)?e.map(ki):[ki(e)],xq=(e,t,n)=>{if(t._n)return t;const r=dq((...i)=>QE(t(...i)),n);return r._c=!1,r},ZP=(e,t,n)=>{const r=e._ctx;for(const i in e){if(JP(i))continue;const s=e[i];if(Ue(s))t[i]=xq(i,s,r);else if(s!=null){const a=QE(s);t[i]=()=>a}}},eL=(e,t)=>{const n=QE(t);e.slots.default=()=>n},tL=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},Mq=(e,t,n)=>{const r=e.slots=YP();if(e.vnode.shapeFlag&32){const i=t._;i?(tL(r,t,n),n&&uP(r,"_",i,!0)):ZP(t,r)}else t&&eL(e,t)},Fq=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,a=Nt;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:tL(i,t,n):(s=!t.$stable,ZP(t,i)),a=t}else t&&(eL(e,t),a={default:1});if(s)for(const c in i)!JP(c)&&a[c]==null&&delete i[c]};function aw(e,t,n,r,i=!1){if(Ie(e)){e.forEach((m,y)=>aw(m,t&&(Ie(t)?t[y]:t),n,r,i));return}if(Ep(r)&&!i)return;const s=r.shapeFlag&4?Zv(r.component):r.el,a=i?null:s,{i:c,r:l}=e,h=t&&t.r,d=c.refs===Nt?c.refs={}:c.refs,v=c.setupState;if(h!=null&&h!==l&&(Ht(h)?(d[h]=null,Je(v,h)&&(v[h]=null)):Pn(h)&&(h.value=null)),Ue(l))ts(l,c,12,[a,d]);else{const m=Ht(l),y=Pn(l);if(m||y){const b=()=>{if(e.f){const E=m?Je(v,l)?v[l]:d[l]:l.value;i?Ie(E)&&LE(E,s):Ie(E)?E.includes(s)||E.push(s):m?(d[l]=[s],Je(v,l)&&(v[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else m?(d[l]=a,Je(v,l)&&(v[l]=a)):y&&(l.value=a,e.k&&(d[e.k]=a))};a?(b.id=-1,rr(b,n)):b()}}}const Uq=Symbol("_vte"),Vq=e=>e.__isTeleport,rr=eG;function jq(e){return $q(e)}function $q(e,t){const n=lP();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:c,createComment:l,setText:h,setElementText:d,parentNode:v,nextSibling:m,setScopeId:y=Fr,insertStaticContent:b}=e,E=(O,I,M,z=null,q=null,X=null,ue=void 0,S=null,C=!!I.dynamicChildren)=>{if(O===I)return;O&&!Hl(O,I)&&(z=Y(O),nt(O,q,X,!0),O=null),I.patchFlag===-2&&(C=!1,I.dynamicChildren=null);const{type:x,ref:K,shapeFlag:oe}=I;switch(x){case ch:T(O,I,M,z);break;case Ca:N(O,I,M,z);break;case nb:O==null&&L(I,M,z,ue);break;case ui:ge(O,I,M,z,q,X,ue,S,C);break;default:oe&1?F(O,I,M,z,q,X,ue,S,C):oe&6?Pe(O,I,M,z,q,X,ue,S,C):(oe&64||oe&128)&&x.process(O,I,M,z,q,X,ue,S,C,he)}K!=null&&q&&aw(K,O&&O.ref,X,I||O,!I)},T=(O,I,M,z)=>{if(O==null)r(I.el=c(I.children),M,z);else{const q=I.el=O.el;I.children!==O.children&&h(q,I.children)}},N=(O,I,M,z)=>{O==null?r(I.el=l(I.children||""),M,z):I.el=O.el},L=(O,I,M,z)=>{[O.el,O.anchor]=b(O.children,I,M,z,O.el,O.anchor)},A=({el:O,anchor:I},M,z)=>{let q;for(;O&&O!==I;)q=m(O),r(O,M,z),O=q;r(I,M,z)},D=({el:O,anchor:I})=>{let M;for(;O&&O!==I;)M=m(O),i(O),O=M;i(I)},F=(O,I,M,z,q,X,ue,S,C)=>{I.type==="svg"?ue="svg":I.type==="math"&&(ue="mathml"),O==null?R(I,M,z,q,X,ue,S,C):Q(O,I,q,X,ue,S,C)},R=(O,I,M,z,q,X,ue,S)=>{let C,x;const{props:K,shapeFlag:oe,transition:J,dirs:U}=O;if(C=O.el=a(O.type,X,K&&K.is,K),oe&8?d(C,O.children):oe&16&&H(O.children,C,null,z,q,eb(O,X),ue,S),U&&Xs(O,null,z,"created"),j(C,O,O.scopeId,ue,z),K){for(const me in K)me!=="value"&&!of(me)&&s(C,me,null,K[me],X,z);"value"in K&&s(C,"value",null,K.value,X),(x=K.onVnodeBeforeMount)&&Oi(x,z,O)}U&&Xs(O,null,z,"beforeMount");const V=Bq(q,J);V&&J.beforeEnter(C),r(C,I,M),((x=K&&K.onVnodeMounted)||V||U)&&rr(()=>{x&&Oi(x,z,O),V&&J.enter(C),U&&Xs(O,null,z,"mounted")},q)},j=(O,I,M,z,q)=>{if(M&&y(O,M),z)for(let X=0;X<z.length;X++)y(O,z[X]);if(q){let X=q.subTree;if(I===X){const ue=q.vnode;j(O,ue,ue.scopeId,ue.slotScopeIds,q.parent)}}},H=(O,I,M,z,q,X,ue,S,C=0)=>{for(let x=C;x<O.length;x++){const K=O[x]=S?qo(O[x]):ki(O[x]);E(null,K,I,M,z,q,X,ue,S)}},Q=(O,I,M,z,q,X,ue)=>{const S=I.el=O.el;let{patchFlag:C,dynamicChildren:x,dirs:K}=I;C|=O.patchFlag&16;const oe=O.props||Nt,J=I.props||Nt;let U;if(M&&Js(M,!1),(U=J.onVnodeBeforeUpdate)&&Oi(U,M,I,O),K&&Xs(I,O,M,"beforeUpdate"),M&&Js(M,!0),(oe.innerHTML&&J.innerHTML==null||oe.textContent&&J.textContent==null)&&d(S,""),x?P(O.dynamicChildren,x,S,M,z,eb(I,q),X):ue||we(O,I,S,null,M,z,eb(I,q),X,!1),C>0){if(C&16)De(S,oe,J,M,q);else if(C&2&&oe.class!==J.class&&s(S,"class",null,J.class,q),C&4&&s(S,"style",oe.style,J.style,q),C&8){const V=I.dynamicProps;for(let me=0;me<V.length;me++){const ye=V[me],at=oe[ye],Xt=J[ye];(Xt!==at||ye==="value")&&s(S,ye,at,Xt,q,M)}}C&1&&O.children!==I.children&&d(S,I.children)}else!ue&&x==null&&De(S,oe,J,M,q);((U=J.onVnodeUpdated)||K)&&rr(()=>{U&&Oi(U,M,I,O),K&&Xs(I,O,M,"updated")},z)},P=(O,I,M,z,q,X,ue)=>{for(let S=0;S<I.length;S++){const C=O[S],x=I[S],K=C.el&&(C.type===ui||!Hl(C,x)||C.shapeFlag&70)?v(C.el):M;E(C,x,K,null,z,q,X,ue,!0)}},De=(O,I,M,z,q)=>{if(I!==M){if(I!==Nt)for(const X in I)!of(X)&&!(X in M)&&s(O,X,I[X],null,q,z);for(const X in M){if(of(X))continue;const ue=M[X],S=I[X];ue!==S&&X!=="value"&&s(O,X,S,ue,q,z)}"value"in M&&s(O,"value",I.value,M.value,q)}},ge=(O,I,M,z,q,X,ue,S,C)=>{const x=I.el=O?O.el:c(""),K=I.anchor=O?O.anchor:c("");let{patchFlag:oe,dynamicChildren:J,slotScopeIds:U}=I;U&&(S=S?S.concat(U):U),O==null?(r(x,M,z),r(K,M,z),H(I.children||[],M,K,q,X,ue,S,C)):oe>0&&oe&64&&J&&O.dynamicChildren?(P(O.dynamicChildren,J,M,q,X,ue,S),(I.key!=null||q&&I===q.subTree)&&nL(O,I,!0)):we(O,I,M,K,q,X,ue,S,C)},Pe=(O,I,M,z,q,X,ue,S,C)=>{I.slotScopeIds=S,O==null?I.shapeFlag&512?q.ctx.activate(I,M,z,ue,C):kt(I,M,z,q,X,ue,C):gt(O,I,C)},kt=(O,I,M,z,q,X,ue)=>{const S=O.component=lG(O,z,q);if(VP(O)&&(S.ctx.renderer=he),fG(S,!1,ue),S.asyncDep){if(q&&q.registerDep(S,Se,ue),!O.el){const C=S.subTree=ar(Ca);N(null,C,I,M)}}else Se(S,O,I,M,q,X,ue)},gt=(O,I,M)=>{const z=I.component=O.component;if(Xq(O,I,M))if(z.asyncDep&&!z.asyncResolved){Ae(z,I,M);return}else z.next=I,lq(z.update),z.effect.dirty=!0,z.update();else I.el=O.el,z.vnode=I},Se=(O,I,M,z,q,X,ue)=>{const S=()=>{if(O.isMounted){let{next:K,bu:oe,u:J,parent:U,vnode:V}=O;{const Xe=rL(O);if(Xe){K&&(K.el=V.el,Ae(O,K,ue)),Xe.asyncDep.then(()=>{O.isUnmounted||S()});return}}let me=K,ye;Js(O,!1),K?(K.el=V.el,Ae(O,K,ue)):K=V,oe&&bp(oe),(ye=K.props&&K.props.onVnodeBeforeUpdate)&&Oi(ye,U,K,V),Js(O,!0);const at=tb(O),Xt=O.subTree;O.subTree=at,E(Xt,at,v(Xt.el),Y(Xt),O,q,X),K.el=at.el,me===null&&Jq(O,at.el),J&&rr(J,q),(ye=K.props&&K.props.onVnodeUpdated)&&rr(()=>Oi(ye,U,K,V),q)}else{let K;const{el:oe,props:J}=I,{bm:U,m:V,parent:me}=O,ye=Ep(I);if(Js(O,!1),U&&bp(U),!ye&&(K=J&&J.onVnodeBeforeMount)&&Oi(K,me,I),Js(O,!0),oe&&Qe){const at=()=>{O.subTree=tb(O),Qe(oe,O.subTree,O,q,null)};ye?I.type.__asyncLoader().then(()=>!O.isUnmounted&&at()):at()}else{const at=O.subTree=tb(O);E(null,at,M,z,O,q,X),I.el=at.el}if(V&&rr(V,q),!ye&&(K=J&&J.onVnodeMounted)){const at=I;rr(()=>Oi(K,me,at),q)}(I.shapeFlag&256||me&&Ep(me.vnode)&&me.vnode.shapeFlag&256)&&O.a&&rr(O.a,q),O.isMounted=!0,I=M=z=null}},C=O.effect=new ME(S,Fr,()=>GE(x),O.scope),x=O.update=()=>{C.dirty&&C.run()};x.i=O,x.id=O.uid,Js(O,!0),x()},Ae=(O,I,M)=>{I.component=O;const z=O.vnode.props;O.vnode=I,O.next=null,Pq(O,I.props,z,M),Fq(O,I.children,M),gs(),NN(O),ys()},we=(O,I,M,z,q,X,ue,S,C=!1)=>{const x=O&&O.children,K=O?O.shapeFlag:0,oe=I.children,{patchFlag:J,shapeFlag:U}=I;if(J>0){if(J&128){yt(x,oe,M,z,q,X,ue,S,C);return}else if(J&256){vt(x,oe,M,z,q,X,ue,S,C);return}}U&8?(K&16&&dt(x,q,X),oe!==x&&d(M,oe)):K&16?U&16?yt(x,oe,M,z,q,X,ue,S,C):dt(x,q,X,!0):(K&8&&d(M,""),U&16&&H(oe,M,z,q,X,ue,S,C))},vt=(O,I,M,z,q,X,ue,S,C)=>{O=O||Gu,I=I||Gu;const x=O.length,K=I.length,oe=Math.min(x,K);let J;for(J=0;J<oe;J++){const U=I[J]=C?qo(I[J]):ki(I[J]);E(O[J],U,M,null,q,X,ue,S,C)}x>K?dt(O,q,X,!0,!1,oe):H(I,M,z,q,X,ue,S,C,oe)},yt=(O,I,M,z,q,X,ue,S,C)=>{let x=0;const K=I.length;let oe=O.length-1,J=K-1;for(;x<=oe&&x<=J;){const U=O[x],V=I[x]=C?qo(I[x]):ki(I[x]);if(Hl(U,V))E(U,V,M,null,q,X,ue,S,C);else break;x++}for(;x<=oe&&x<=J;){const U=O[oe],V=I[J]=C?qo(I[J]):ki(I[J]);if(Hl(U,V))E(U,V,M,null,q,X,ue,S,C);else break;oe--,J--}if(x>oe){if(x<=J){const U=J+1,V=U<K?I[U].el:z;for(;x<=J;)E(null,I[x]=C?qo(I[x]):ki(I[x]),M,V,q,X,ue,S,C),x++}}else if(x>J)for(;x<=oe;)nt(O[x],q,X,!0),x++;else{const U=x,V=x,me=new Map;for(x=V;x<=J;x++){const Tn=I[x]=C?qo(I[x]):ki(I[x]);Tn.key!=null&&me.set(Tn.key,x)}let ye,at=0;const Xt=J-V+1;let Xe=!1,ks=0;const Xn=new Array(Xt);for(x=0;x<Xt;x++)Xn[x]=0;for(x=U;x<=oe;x++){const Tn=O[x];if(at>=Xt){nt(Tn,q,X,!0);continue}let Tt;if(Tn.key!=null)Tt=me.get(Tn.key);else for(ye=V;ye<=J;ye++)if(Xn[ye-V]===0&&Hl(Tn,I[ye])){Tt=ye;break}Tt===void 0?nt(Tn,q,X,!0):(Xn[Tt-V]=x+1,Tt>=ks?ks=Tt:Xe=!0,E(Tn,I[Tt],M,null,q,X,ue,S,C),at++)}const zr=Xe?Hq(Xn):Gu;for(ye=zr.length-1,x=Xt-1;x>=0;x--){const Tn=V+x,Tt=I[Tn],sl=Tn+1<K?I[Tn+1].el:z;Xn[x]===0?E(null,Tt,M,sl,q,X,ue,S,C):Xe&&(ye<0||x!==zr[ye]?st(Tt,M,sl,2):ye--)}}},st=(O,I,M,z,q=null)=>{const{el:X,type:ue,transition:S,children:C,shapeFlag:x}=O;if(x&6){st(O.component.subTree,I,M,z);return}if(x&128){O.suspense.move(I,M,z);return}if(x&64){ue.move(O,I,M,he);return}if(ue===ui){r(X,I,M);for(let oe=0;oe<C.length;oe++)st(C[oe],I,M,z);r(O.anchor,I,M);return}if(ue===nb){A(O,I,M);return}if(z!==2&&x&1&&S)if(z===0)S.beforeEnter(X),r(X,I,M),rr(()=>S.enter(X),q);else{const{leave:oe,delayLeave:J,afterLeave:U}=S,V=()=>r(X,I,M),me=()=>{oe(X,()=>{V(),U&&U()})};J?J(X,V,me):me()}else r(X,I,M)},nt=(O,I,M,z=!1,q=!1)=>{const{type:X,props:ue,ref:S,children:C,dynamicChildren:x,shapeFlag:K,patchFlag:oe,dirs:J,cacheIndex:U}=O;if(oe===-2&&(q=!1),S!=null&&aw(S,null,M,O,!0),U!=null&&(I.renderCache[U]=void 0),K&256){I.ctx.deactivate(O);return}const V=K&1&&J,me=!Ep(O);let ye;if(me&&(ye=ue&&ue.onVnodeBeforeUnmount)&&Oi(ye,I,O),K&6)Vt(O.component,M,z);else{if(K&128){O.suspense.unmount(M,z);return}V&&Xs(O,null,I,"beforeUnmount"),K&64?O.type.remove(O,I,M,he,z):x&&!x.hasOnce&&(X!==ui||oe>0&&oe&64)?dt(x,I,M,!1,!0):(X===ui&&oe&384||!q&&K&16)&&dt(C,I,M),z&&Wt(O)}(me&&(ye=ue&&ue.onVnodeUnmounted)||V)&&rr(()=>{ye&&Oi(ye,I,O),V&&Xs(O,null,I,"unmounted")},M)},Wt=O=>{const{type:I,el:M,anchor:z,transition:q}=O;if(I===ui){Dt(M,z);return}if(I===nb){D(O);return}const X=()=>{i(M),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(O.shapeFlag&1&&q&&!q.persisted){const{leave:ue,delayLeave:S}=q,C=()=>ue(M,X);S?S(O.el,X,C):C()}else X()},Dt=(O,I)=>{let M;for(;O!==I;)M=m(O),i(O),O=M;i(I)},Vt=(O,I,M)=>{const{bum:z,scope:q,update:X,subTree:ue,um:S,m:C,a:x}=O;xN(C),xN(x),z&&bp(z),q.stop(),X&&(X.active=!1,nt(ue,O,I,M)),S&&rr(S,I),rr(()=>{O.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},dt=(O,I,M,z=!1,q=!1,X=0)=>{for(let ue=X;ue<O.length;ue++)nt(O[ue],I,M,z,q)},Y=O=>{if(O.shapeFlag&6)return Y(O.component.subTree);if(O.shapeFlag&128)return O.suspense.next();const I=m(O.anchor||O.el),M=I&&I[Uq];return M?m(M):I};let ee=!1;const ae=(O,I,M)=>{O==null?I._vnode&&nt(I._vnode,null,null,!0):E(I._vnode||null,O,I,null,null,null,M),I._vnode=O,ee||(ee=!0,NN(),MP(),ee=!1)},he={p:E,um:nt,m:st,r:Wt,mt:kt,mc:H,pc:we,pbc:P,n:Y,o:e};let Me,Qe;return{render:ae,hydrate:Me,createApp:kq(ae,Me)}}function eb({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Js({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Bq(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function nL(e,t,n=!1){const r=e.children,i=t.children;if(Ie(r)&&Ie(i))for(let s=0;s<r.length;s++){const a=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=qo(i[s]),c.el=a.el),!n&&c.patchFlag!==-2&&nL(a,c)),c.type===ch&&(c.el=a.el)}}function Hq(e){const t=e.slice(),n=[0];let r,i,s,a,c;const l=e.length;for(r=0;r<l;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,e[n[c]]<h?s=c+1:a=c;h<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function rL(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:rL(t)}function xN(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const Wq=Symbol.for("v-scx"),qq=()=>xi(Wq),Xd={};function ho(e,t,n){return iL(e,t,n)}function iL(e,t,{immediate:n,deep:r,flush:i,once:s,onTrack:a,onTrigger:c}=Nt){if(t&&s){const R=t;t=(...j)=>{R(...j),F()}}const l=mn,h=R=>r===!0?R:Yo(R,r===!1?1:void 0);let d,v=!1,m=!1;if(Pn(e)?(d=()=>e.value,v=ec(e)):sf(e)?(d=()=>h(e),v=!0):Ie(e)?(m=!0,v=e.some(R=>sf(R)||ec(R)),d=()=>e.map(R=>{if(Pn(R))return R.value;if(sf(R))return h(R);if(Ue(R))return ts(R,l,2)})):Ue(e)?t?d=()=>ts(e,l,2):d=()=>(y&&y(),fi(e,l,3,[b])):d=Fr,t&&r){const R=d;d=()=>Yo(R())}let y,b=R=>{y=A.onStop=()=>{ts(R,l,4),y=A.onStop=void 0}},E;if(Jv)if(b=Fr,t?n&&fi(t,l,3,[d(),m?[]:void 0,b]):d(),i==="sync"){const R=qq();E=R.__watcherHandles||(R.__watcherHandles=[])}else return Fr;let T=m?new Array(e.length).fill(Xd):Xd;const N=()=>{if(!(!A.active||!A.dirty))if(t){const R=A.run();(r||v||(m?R.some((j,H)=>ss(j,T[H])):ss(R,T)))&&(y&&y(),fi(t,l,3,[R,T===Xd?void 0:m&&T[0]===Xd?[]:T,b]),T=R)}else A.run()};N.allowRecurse=!!t;let L;i==="sync"?L=N:i==="post"?L=()=>rr(N,l&&l.suspense):(N.pre=!0,l&&(N.id=l.uid),L=()=>GE(N));const A=new ME(d,Fr,L),D=xW(),F=()=>{A.stop(),D&&LE(D.effects,A)};return t?n?N():T=A.run():i==="post"?rr(A.run.bind(A),l&&l.suspense):A.run(),E&&E.push(F),F}function Gq(e,t,n){const r=this.proxy,i=Ht(e)?e.includes(".")?oL(r,e):()=>r[e]:e.bind(r,r);let s;Ue(t)?s=t:(s=t.handler,n=t);const a=lh(this),c=iL(i,s.bind(r),n);return a(),c}function oL(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Yo(e,t=1/0,n){if(t<=0||!Et(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Pn(e))Yo(e.value,t,n);else if(Ie(e))for(let r=0;r<e.length;r++)Yo(e[r],t,n);else if($v(e)||Ku(e))e.forEach(r=>{Yo(r,t,n)});else if(aP(e)){for(const r in e)Yo(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Yo(e[r],t,n)}return e}const Kq=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${vi(t)}Modifiers`]||e[`${$a(t)}Modifiers`];function Yq(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Nt;let i=n;const s=t.startsWith("update:"),a=s&&Kq(r,t.slice(7));a&&(a.trim&&(i=n.map(d=>Ht(d)?d.trim():d)),a.number&&(i=n.map(cP)));let c,l=r[c=X_(t)]||r[c=X_(vi(t))];!l&&s&&(l=r[c=X_($a(t))]),l&&fi(l,e,6,i);const h=r[c+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,fi(h,e,6,i)}}function sL(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let a={},c=!1;if(!Ue(e)){const l=h=>{const d=sL(h,t,!0);d&&(c=!0,Dn(a,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!c?(Et(e)&&r.set(e,null),null):(Ie(s)?s.forEach(l=>a[l]=null):Dn(a,s),Et(e)&&r.set(e,a),a)}function Xv(e,t){return!e||!jv(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(e,t[0].toLowerCase()+t.slice(1))||Je(e,$a(t))||Je(e,t))}function tb(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:a,attrs:c,emit:l,render:h,renderCache:d,props:v,data:m,setupState:y,ctx:b,inheritAttrs:E}=e,T=Vp(e);let N,L;try{if(n.shapeFlag&4){const D=i||r,F=D;N=ki(h.call(F,D,d,v,y,m,b)),L=c}else{const D=t;N=ki(D.length>1?D(v,{attrs:c,slots:a,emit:l}):D(v,null)),L=t.props?c:zq(c)}}catch(D){uf.length=0,Yv(D,e,1),N=ar(Ca)}let A=N;if(L&&E!==!1){const D=Object.keys(L),{shapeFlag:F}=A;D.length&&F&7&&(s&&D.some(PE)&&(L=Qq(L,s)),A=tc(A,L,!1,!0))}return n.dirs&&(A=tc(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(n.dirs):n.dirs),n.transition&&(A.transition=n.transition),N=A,Vp(T),N}const zq=e=>{let t;for(const n in e)(n==="class"||n==="style"||jv(n))&&((t||(t={}))[n]=e[n]);return t},Qq=(e,t)=>{const n={};for(const r in e)(!PE(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Xq(e,t,n){const{props:r,children:i,component:s}=e,{props:a,children:c,patchFlag:l}=t,h=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?MN(r,a,h):!!a;if(l&8){const d=t.dynamicProps;for(let v=0;v<d.length;v++){const m=d[v];if(a[m]!==r[m]&&!Xv(h,m))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?MN(r,a,h):!0:!!a;return!1}function MN(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Xv(n,s))return!0}return!1}function Jq({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Zq=e=>e.__isSuspense;function eG(e,t){t&&t.pendingBranch?Ie(e)?t.effects.push(...e):t.effects.push(e):fq(e)}const ui=Symbol.for("v-fgt"),ch=Symbol.for("v-txt"),Ca=Symbol.for("v-cmt"),nb=Symbol.for("v-stc"),uf=[];let Er=null;function tG(e=!1){uf.push(Er=e?null:[])}function nG(){uf.pop(),Er=uf[uf.length-1]||null}let Nf=1;function FN(e){Nf+=e,e<0&&Er&&(Er.hasOnce=!0)}function aL(e){return e.dynamicChildren=Nf>0?Er||Gu:null,nG(),Nf>0&&Er&&Er.push(e),e}function Coe(e,t,n,r,i,s){return aL(cL(e,t,n,r,i,s,!0))}function rG(e,t,n,r,i){return aL(ar(e,t,n,r,i,!0))}function uw(e){return e?e.__v_isVNode===!0:!1}function Hl(e,t){return e.type===t.type&&e.key===t.key}const uL=({key:e})=>e??null,Ip=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ht(e)||Pn(e)||Ue(e)?{i:sr,r:e,k:t,f:!!n}:e:null);function cL(e,t=null,n=null,r=0,i=null,s=e===ui?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&uL(t),ref:t&&Ip(t),scopeId:zv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:sr};return c?(XE(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Ht(n)?8:16),Nf>0&&!a&&Er&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Er.push(l),l}const ar=iG;function iG(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===HP)&&(e=Ca),uw(e)){const c=tc(e,t,!0);return n&&XE(c,n),Nf>0&&!s&&Er&&(c.shapeFlag&6?Er[Er.indexOf(e)]=c:Er.push(c)),c.patchFlag=-2,c}if(mG(e)&&(e=e.__vccOpts),t){t=oG(t);let{class:c,style:l}=t;c&&!Ht(c)&&(t.class=qv(c)),Et(l)&&(OP(l)&&!Ie(l)&&(l=Dn({},l)),t.style=Wv(l))}const a=Ht(e)?1:Zq(e)?128:Vq(e)?64:Et(e)?4:Ue(e)?2:0;return cL(e,t,n,r,i,a,s,!0)}function oG(e){return e?OP(e)||zP(e)?Dn({},e):e:null}function tc(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:a,children:c,transition:l}=e,h=t?aG(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&uL(h),ref:t&&t.ref?n&&s?Ie(s)?s.concat(Ip(t)):[s,Ip(t)]:Ip(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ui?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&tc(e.ssContent),ssFallback:e.ssFallback&&tc(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&UP(d,l.clone(d)),d}function sG(e=" ",t=0){return ar(ch,null,e,t)}function Noe(e="",t=!1){return t?(tG(),rG(Ca,null,e)):ar(Ca,null,e)}function ki(e){return e==null||typeof e=="boolean"?ar(Ca):Ie(e)?ar(ui,null,e.slice()):typeof e=="object"?qo(e):ar(ch,null,String(e))}function qo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:tc(e)}function XE(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ie(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),XE(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!zP(t)?t._ctx=sr:i===3&&sr&&(sr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ue(t)?(t={default:t,_ctx:sr},n=32):(t=String(t),r&64?(n=16,t=[sG(t)]):n=8);e.children=t,e.shapeFlag|=n}function aG(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=qv([t.class,r.class]));else if(i==="style")t.style=Wv([t.style,r.style]);else if(jv(i)){const s=t[i],a=r[i];a&&s!==a&&!(Ie(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=r[i])}return t}function Oi(e,t,n,r=null){fi(e,t,7,[n,r])}const uG=GP();let cG=0;function lG(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||uG,s={uid:cG++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new pP(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:XP(r,i),emitsOptions:sL(r,i),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:r.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Yq.bind(null,s),e.ce&&e.ce(s),s}let mn=null;const Of=()=>mn||sr;let $p,cw;{const e=lP(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(a=>a(s)):i[0](s)}};$p=t("__VUE_INSTANCE_SETTERS__",n=>mn=n),cw=t("__VUE_SSR_SETTERS__",n=>Jv=n)}const lh=e=>{const t=mn;return $p(e),e.scope.on(),()=>{e.scope.off(),$p(t)}},UN=()=>{mn&&mn.scope.off(),$p(null)};function lL(e){return e.vnode.shapeFlag&4}let Jv=!1;function fG(e,t=!1,n=!1){t&&cw(t);const{props:r,children:i}=e.vnode,s=lL(e);Dq(e,r,s,t),Mq(e,i,n);const a=s?hG(e,t):void 0;return t&&cw(!1),a}function hG(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Iq);const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?pG(e):null,s=lh(e);gs();const a=ts(r,e,0,[e.props,i]);if(ys(),s(),oP(a)){if(a.then(UN,UN),t)return a.then(c=>{VN(e,c,t)}).catch(c=>{Yv(c,e,0)});e.asyncDep=a}else VN(e,a,t)}else fL(e,t)}function VN(e,t,n){Ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Et(t)&&(e.setupState=PP(t)),fL(e,n)}let jN;function fL(e,t,n){const r=e.type;if(!e.render){if(!t&&jN&&!r.render){const i=r.template||zE(e).template;if(i){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:l}=r,h=Dn(Dn({isCustomElement:s,delimiters:c},a),l);r.render=jN(i,h)}}e.render=r.render||Fr}{const i=lh(e);gs();try{Sq(e)}finally{ys(),i()}}}const dG={get(e,t){return fr(e,"get",""),e[t]}};function pG(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,dG),slots:e.slots,emit:e.emit,expose:t}}function Zv(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(PP(nq(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in af)return af[n](e)},has(t,n){return n in t||n in af}})):e.proxy}function vG(e,t=!0){return Ue(e)?e.displayName||e.name:e.name||t&&e.__name}function mG(e){return Ue(e)&&"__vccOpts"in e}const Ut=(e,t)=>rq(e,t,Jv);function em(e,t,n){const r=arguments.length;return r===2?Et(t)&&!Ie(t)?uw(t)?ar(e,null,[t]):ar(e,t):ar(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&uw(n)&&(n=[n]),ar(e,t,n))}const gG="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yG="http://www.w3.org/2000/svg",_G="http://www.w3.org/1998/Math/MathML",so=typeof document<"u"?document:null,$N=so&&so.createElement("template"),bG={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?so.createElementNS(yG,e):t==="mathml"?so.createElementNS(_G,e):n?so.createElement(e,{is:n}):so.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>so.createTextNode(e),createComment:e=>so.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>so.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const a=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{$N.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const c=$N.content;if(r==="svg"||r==="mathml"){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},wG=Symbol("_vtc");function EG(e,t,n){const r=e[wG];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const BN=Symbol("_vod"),TG=Symbol("_vsh"),IG=Symbol(""),SG=/(^|;)\s*display\s*:/;function AG(e,t,n){const r=e.style,i=Ht(n);let s=!1;if(n&&!i){if(t)if(Ht(t))for(const a of t.split(";")){const c=a.slice(0,a.indexOf(":")).trim();n[c]==null&&Sp(r,c,"")}else for(const a in t)n[a]==null&&Sp(r,a,"");for(const a in n)a==="display"&&(s=!0),Sp(r,a,n[a])}else if(i){if(t!==n){const a=r[IG];a&&(n+=";"+a),r.cssText=n,s=SG.test(n)}}else t&&e.removeAttribute("style");BN in e&&(e[BN]=s?r.display:"",e[TG]&&(r.display="none"))}const HN=/\s*!important$/;function Sp(e,t,n){if(Ie(n))n.forEach(r=>Sp(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=CG(e,t);HN.test(n)?e.setProperty($a(r),n.replace(HN,""),"important"):e[r]=n}}const WN=["Webkit","Moz","ms"],rb={};function CG(e,t){const n=rb[t];if(n)return n;let r=vi(t);if(r!=="filter"&&r in e)return rb[t]=r;r=Hv(r);for(let i=0;i<WN.length;i++){const s=WN[i]+r;if(s in e)return rb[t]=s}return t}const qN="http://www.w3.org/1999/xlink";function GN(e,t,n,r,i,s=RW(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(qN,t.slice(6,t.length)):e.setAttributeNS(qN,t,n):n==null||s&&!fP(n)?e.removeAttribute(t):e.setAttribute(t,s?"":$i(n)?String(n):n)}function NG(e,t,n,r){if(t==="innerHTML"||t==="textContent"){if(n==null)return;e[t]=n;return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?"":String(n);(a!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=fP(n):n==null&&a==="string"?(n="",s=!0):a==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function hL(e,t,n,r){e.addEventListener(t,n,r)}function OG(e,t,n,r){e.removeEventListener(t,n,r)}const KN=Symbol("_vei");function RG(e,t,n,r,i=null){const s=e[KN]||(e[KN]={}),a=s[t];if(r&&a)a.value=r;else{const[c,l]=kG(t);if(r){const h=s[t]=LG(r,i);hL(e,c,h,l)}else a&&(OG(e,c,a,l),s[t]=void 0)}}const YN=/(?:Once|Passive|Capture)$/;function kG(e){let t;if(YN.test(e)){t={};let r;for(;r=e.match(YN);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):$a(e.slice(2)),t]}let ib=0;const DG=Promise.resolve(),PG=()=>ib||(DG.then(()=>ib=0),ib=Date.now());function LG(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fi(xG(r,n.value),t,5,[r])};return n.value=e,n.attached=PG(),n}function xG(e,t){if(Ie(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const zN=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,MG=(e,t,n,r,i,s)=>{const a=i==="svg";t==="class"?EG(e,r,a):t==="style"?AG(e,n,r):jv(t)?PE(t)||RG(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):FG(e,t,r,a))?(NG(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&GN(e,t,r,a,s,t!=="value")):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),GN(e,t,r,a))};function FG(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&zN(t)&&Ue(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return zN(t)&&Ht(n)?!1:t in e}const QN=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ie(t)?n=>bp(t,n):t},ob=Symbol("_assign"),Ooe={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=$v(t);hL(e,"change",()=>{const s=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?cP(Bp(a)):Bp(a));e[ob](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,qE(()=>{e._assigning=!1})}),e[ob]=QN(r)},mounted(e,{value:t,modifiers:{number:n}}){XN(e,t)},beforeUpdate(e,t,n){e[ob]=QN(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||XN(e,t)}};function XN(e,t,n){const r=e.multiple,i=Ie(t);if(!(r&&!i&&!$v(t))){for(let s=0,a=e.options.length;s<a;s++){const c=e.options[s],l=Bp(c);if(r)if(i){const h=typeof l;h==="string"||h==="number"?c.selected=t.some(d=>String(d)===String(l)):c.selected=DW(t,l)>-1}else c.selected=t.has(l);else if(Gv(Bp(c),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Bp(e){return"_value"in e?e._value:e.value}const UG=Dn({patchProp:MG},bG);let JN;function VG(){return JN||(JN=jq(UG))}const Roe=(...e)=>{const t=VG().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=$G(r);if(!i)return;const s=t._component;!Ue(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,jG(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function jG(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $G(e){return Ht(e)?document.querySelector(e):e}function BG(){return dL().__VUE_DEVTOOLS_GLOBAL_HOOK__}function dL(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const HG=typeof Proxy=="function",WG="devtools-plugin:setup",qG="plugin:settings:set";let Au,lw;function GG(){var e;return Au!==void 0||(typeof window<"u"&&window.performance?(Au=!0,lw=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(Au=!0,lw=globalThis.perf_hooks.performance):Au=!1),Au}function KG(){return GG()?lw.now():Date.now()}class YG{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const a in t.settings){const c=t.settings[a];r[a]=c.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),c=JSON.parse(a);Object.assign(s,c)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return KG()}},n&&n.on(qG,(a,c)=>{a===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(a,c)=>this.target?this.target.on[c]:(...l)=>{this.onQueue.push({method:c,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...l)=>(this.targetQueue.push({method:c,args:l,resolve:()=>{}}),this.fallbacks[c](...l)):(...l)=>new Promise(h=>{this.targetQueue.push({method:c,args:l,resolve:h})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function zG(e,t){const n=e,r=dL(),i=BG(),s=HG&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(WG,e,t);else{const a=s?new YG(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:a}),a&&t(a.proxiedTarget)}}/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Lu=typeof document<"u";function QG(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ht=Object.assign;function sb(e,t){const n={};for(const r in t){const i=t[r];n[r]=mi(i)?i.map(e):e(i)}return n}const cf=()=>{},mi=Array.isArray,pL=/#/g,XG=/&/g,JG=/\//g,ZG=/=/g,eK=/\?/g,vL=/\+/g,tK=/%5B/g,nK=/%5D/g,mL=/%5E/g,rK=/%60/g,gL=/%7B/g,iK=/%7C/g,yL=/%7D/g,oK=/%20/g;function JE(e){return encodeURI(""+e).replace(iK,"|").replace(tK,"[").replace(nK,"]")}function sK(e){return JE(e).replace(gL,"{").replace(yL,"}").replace(mL,"^")}function fw(e){return JE(e).replace(vL,"%2B").replace(oK,"+").replace(pL,"%23").replace(XG,"%26").replace(rK,"`").replace(gL,"{").replace(yL,"}").replace(mL,"^")}function aK(e){return fw(e).replace(ZG,"%3D")}function uK(e){return JE(e).replace(pL,"%23").replace(eK,"%3F")}function cK(e){return e==null?"":uK(e).replace(JG,"%2F")}function Rf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const lK=/\/$/,fK=e=>e.replace(lK,"");function ab(e,t,n="/"){let r,i={},s="",a="";const c=t.indexOf("#");let l=t.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,c>-1?c:t.length),i=e(s)),c>-1&&(r=r||t.slice(0,c),a=t.slice(c,t.length)),r=vK(r??t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:Rf(a)}}function hK(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ZN(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function dK(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&nc(t.matched[r],n.matched[i])&&_L(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function nc(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function _L(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!pK(e[n],t[n]))return!1;return!0}function pK(e,t){return mi(e)?eO(e,t):mi(t)?eO(t,e):e===t}function eO(e,t){return mi(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function vK(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,c;for(a=0;a<r.length;a++)if(c=r[a],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a).join("/")}const Fo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var kf;(function(e){e.pop="pop",e.push="push"})(kf||(kf={}));var lf;(function(e){e.back="back",e.forward="forward",e.unknown=""})(lf||(lf={}));function mK(e){if(!e)if(Lu){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),fK(e)}const gK=/^[^#]+#/;function yK(e,t){return e.replace(gK,"#")+t}function _K(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const tm=()=>({left:window.scrollX,top:window.scrollY});function bK(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=_K(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function tO(e,t){return(history.state?history.state.position-t:-1)+e}const hw=new Map;function wK(e,t){hw.set(e,t)}function EK(e){const t=hw.get(e);return hw.delete(e),t}let TK=()=>location.protocol+"//"+location.host;function bL(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let c=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),ZN(l,"")}return ZN(n,e)+r+i}function IK(e,t,n,r){let i=[],s=[],a=null;const c=({state:m})=>{const y=bL(e,location),b=n.value,E=t.value;let T=0;if(m){if(n.value=y,t.value=m,a&&a===b){a=null;return}T=E?m.position-E.position:0}else r(y);i.forEach(N=>{N(n.value,b,{delta:T,type:kf.pop,direction:T?T>0?lf.forward:lf.back:lf.unknown})})};function l(){a=n.value}function h(m){i.push(m);const y=()=>{const b=i.indexOf(m);b>-1&&i.splice(b,1)};return s.push(y),y}function d(){const{history:m}=window;m.state&&m.replaceState(ht({},m.state,{scroll:tm()}),"")}function v(){for(const m of s)m();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:h,destroy:v}}function nO(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?tm():null}}function SK(e){const{history:t,location:n}=window,r={value:bL(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,h,d){const v=e.indexOf("#"),m=v>-1?(n.host&&document.querySelector("base")?e:e.slice(v))+l:TK()+e+l;try{t[d?"replaceState":"pushState"](h,"",m),i.value=h}catch(y){console.error(y),n[d?"replace":"assign"](m)}}function a(l,h){const d=ht({},t.state,nO(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});s(l,d,!0),r.value=l}function c(l,h){const d=ht({},i.value,t.state,{forward:l,scroll:tm()});s(d.current,d,!0);const v=ht({},nO(r.value,l,null),{position:d.position+1},h);s(l,v,!1),r.value=l}return{location:r,state:i,push:c,replace:a}}function koe(e){e=mK(e);const t=SK(e),n=IK(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=ht({location:"",base:e,go:r,createHref:yK.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function AK(e){return typeof e=="string"||e&&typeof e=="object"}function wL(e){return typeof e=="string"||typeof e=="symbol"}const EL=Symbol("");var rO;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(rO||(rO={}));function rc(e,t){return ht(new Error,{type:e,[EL]:!0},t)}function no(e,t){return e instanceof Error&&EL in e&&(t==null||!!(e.type&t))}const iO="[^/]+?",CK={sensitive:!1,strict:!1,start:!0,end:!0},NK=/[.+*?^${}()[\]/\\]/g;function OK(e,t){const n=ht({},CK,t),r=[];let i=n.start?"^":"";const s=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let v=0;v<h.length;v++){const m=h[v];let y=40+(n.sensitive?.25:0);if(m.type===0)v||(i+="/"),i+=m.value.replace(NK,"\\$&"),y+=40;else if(m.type===1){const{value:b,repeatable:E,optional:T,regexp:N}=m;s.push({name:b,repeatable:E,optional:T});const L=N||iO;if(L!==iO){y+=10;try{new RegExp(`(${L})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${b}" (${L}): `+D.message)}}let A=E?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;v||(A=T&&h.length<2?`(?:/${A})`:"/"+A),T&&(A+="?"),i+=A,y+=20,T&&(y+=-8),E&&(y+=-20),L===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function c(h){const d=h.match(a),v={};if(!d)return null;for(let m=1;m<d.length;m++){const y=d[m]||"",b=s[m-1];v[b.name]=y&&b.repeatable?y.split("/"):y}return v}function l(h){let d="",v=!1;for(const m of e){(!v||!d.endsWith("/"))&&(d+="/"),v=!1;for(const y of m)if(y.type===0)d+=y.value;else if(y.type===1){const{value:b,repeatable:E,optional:T}=y,N=b in h?h[b]:"";if(mi(N)&&!E)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const L=mi(N)?N.join("/"):N;if(!L)if(T)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):v=!0);else throw new Error(`Missing required param "${b}"`);d+=L}}return d||"/"}return{re:a,score:r,keys:s,parse:c,stringify:l}}function RK(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function TL(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=RK(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(oO(r))return 1;if(oO(i))return-1}return i.length-r.length}function oO(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const kK={type:0,value:""},DK=/[a-zA-Z0-9_]/;function PK(e){if(!e)return[[]];if(e==="/")return[[kK]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let c=0,l,h="",d="";function v(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),h="")}function m(){h+=l}for(;c<e.length;){if(l=e[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&v(),a()):l===":"?(v(),n=1):m();break;case 4:m(),n=r;break;case 1:l==="("?n=2:DK.test(l)?m():(v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),v(),a(),i}function LK(e,t,n){const r=OK(PK(e.path),n),i=ht(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function xK(e,t){const n=[],r=new Map;t=uO({strict:!1,end:!0,sensitive:!1},t);function i(v){return r.get(v)}function s(v,m,y){const b=!y,E=MK(v);E.aliasOf=y&&y.record;const T=uO(t,v),N=[E];if("alias"in v){const D=typeof v.alias=="string"?[v.alias]:v.alias;for(const F of D)N.push(ht({},E,{components:y?y.record.components:E.components,path:F,aliasOf:y?y.record:E}))}let L,A;for(const D of N){const{path:F}=D;if(m&&F[0]!=="/"){const R=m.record.path,j=R[R.length-1]==="/"?"":"/";D.path=m.record.path+(F&&j+F)}if(L=LK(D,m,T),y?y.alias.push(L):(A=A||L,A!==L&&A.alias.push(L),b&&v.name&&!aO(L)&&a(v.name)),IL(L)&&l(L),E.children){const R=E.children;for(let j=0;j<R.length;j++)s(R[j],L,y&&y.children[j])}y=y||L}return A?()=>{a(A)}:cf}function a(v){if(wL(v)){const m=r.get(v);m&&(r.delete(v),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(v);m>-1&&(n.splice(m,1),v.record.name&&r.delete(v.record.name),v.children.forEach(a),v.alias.forEach(a))}}function c(){return n}function l(v){const m=VK(v,n);n.splice(m,0,v),v.record.name&&!aO(v)&&r.set(v.record.name,v)}function h(v,m){let y,b={},E,T;if("name"in v&&v.name){if(y=r.get(v.name),!y)throw rc(1,{location:v});T=y.record.name,b=ht(sO(m.params,y.keys.filter(A=>!A.optional).concat(y.parent?y.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),v.params&&sO(v.params,y.keys.map(A=>A.name))),E=y.stringify(b)}else if(v.path!=null)E=v.path,y=n.find(A=>A.re.test(E)),y&&(b=y.parse(E),T=y.record.name);else{if(y=m.name?r.get(m.name):n.find(A=>A.re.test(m.path)),!y)throw rc(1,{location:v,currentLocation:m});T=y.record.name,b=ht({},m.params,v.params),E=y.stringify(b)}const N=[];let L=y;for(;L;)N.unshift(L.record),L=L.parent;return{name:T,path:E,params:b,matched:N,meta:UK(N)}}e.forEach(v=>s(v));function d(){n.length=0,r.clear()}return{addRoute:s,resolve:h,removeRoute:a,clearRoutes:d,getRoutes:c,getRecordMatcher:i}}function sO(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function MK(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:FK(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function FK(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function aO(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function UK(e){return e.reduce((t,n)=>ht(t,n.meta),{})}function uO(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function VK(e,t){let n=0,r=t.length;for(;n!==r;){const s=n+r>>1;TL(e,t[s])<0?r=s:n=s+1}const i=jK(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function jK(e){let t=e;for(;t=t.parent;)if(IL(t)&&TL(e,t)===0)return t}function IL({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function $K(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(vL," "),a=s.indexOf("="),c=Rf(a<0?s:s.slice(0,a)),l=a<0?null:Rf(s.slice(a+1));if(c in t){let h=t[c];mi(h)||(h=t[c]=[h]),h.push(l)}else t[c]=l}return t}function cO(e){let t="";for(let n in e){const r=e[n];if(n=aK(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(mi(r)?r.map(s=>s&&fw(s)):[r&&fw(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function BK(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=mi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const HK=Symbol(""),lO=Symbol(""),ZE=Symbol(""),SL=Symbol(""),dw=Symbol("");function Wl(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Go(e,t,n,r,i,s=a=>a()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((c,l)=>{const h=m=>{m===!1?l(rc(4,{from:n,to:t})):m instanceof Error?l(m):AK(m)?l(rc(2,{from:t,to:m})):(a&&r.enterCallbacks[i]===a&&typeof m=="function"&&a.push(m),c())},d=s(()=>e.call(r&&r.instances[i],t,n,h));let v=Promise.resolve(d);e.length<3&&(v=v.then(h)),v.catch(m=>l(m))})}function ub(e,t,n,r,i=s=>s()){const s=[];for(const a of e)for(const c in a.components){let l=a.components[c];if(!(t!=="beforeRouteEnter"&&!a.instances[c]))if(WK(l)){const d=(l.__vccOpts||l)[t];d&&s.push(Go(d,n,r,a,c,i))}else{let h=l();s.push(()=>h.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${a.path}"`));const v=QG(d)?d.default:d;a.components[c]=v;const y=(v.__vccOpts||v)[t];return y&&Go(y,n,r,a,c,i)()}))}}return s}function WK(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function fO(e){const t=xi(ZE),n=xi(SL),r=Ut(()=>{const l=Yu(e.to);return t.resolve(l)}),i=Ut(()=>{const{matched:l}=r.value,{length:h}=l,d=l[h-1],v=n.matched;if(!d||!v.length)return-1;const m=v.findIndex(nc.bind(null,d));if(m>-1)return m;const y=hO(l[h-2]);return h>1&&hO(d)===y&&v[v.length-1].path!==y?v.findIndex(nc.bind(null,l[h-2])):m}),s=Ut(()=>i.value>-1&&YK(n.params,r.value.params)),a=Ut(()=>i.value>-1&&i.value===n.matched.length-1&&_L(n.params,r.value.params));function c(l={}){return KK(l)?t[Yu(e.replace)?"replace":"push"](Yu(e.to)).catch(cf):Promise.resolve()}return{route:r,href:Ut(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const qK=uh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fO,setup(e,{slots:t}){const n=ah(fO(e)),{options:r}=xi(ZE),i=Ut(()=>({[dO(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[dO(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:em("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),GK=qK;function KK(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function YK(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!mi(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function hO(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const dO=(e,t,n)=>e??t??n,zK=uh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=xi(dw),i=Ut(()=>e.route||r.value),s=xi(lO,0),a=Ut(()=>{let h=Yu(s);const{matched:d}=i.value;let v;for(;(v=d[h])&&!v.components;)h++;return h}),c=Ut(()=>i.value.matched[a.value]);Tp(lO,Ut(()=>a.value+1)),Tp(HK,c),Tp(dw,i);const l=ia();return ho(()=>[l.value,c.value,e.name],([h,d,v],[m,y,b])=>{d&&(d.instances[v]=h,y&&y!==d&&h&&h===m&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),h&&d&&(!y||!nc(d,y)||!m)&&(d.enterCallbacks[v]||[]).forEach(E=>E(h))},{flush:"post"}),()=>{const h=i.value,d=e.name,v=c.value,m=v&&v.components[d];if(!m)return pO(n.default,{Component:m,route:h});const y=v.props[d],b=y?y===!0?h.params:typeof y=="function"?y(h):y:null,T=em(m,ht({},b,t,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(v.instances[d]=null)},ref:l}));return pO(n.default,{Component:T,route:h})||T}}});function pO(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const QK=zK;function Doe(e){const t=xK(e.routes,e),n=e.parseQuery||$K,r=e.stringifyQuery||cO,i=e.history,s=Wl(),a=Wl(),c=Wl(),l=HE(Fo);let h=Fo;Lu&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=sb.bind(null,Y=>""+Y),v=sb.bind(null,cK),m=sb.bind(null,Rf);function y(Y,ee){let ae,he;return wL(Y)?(ae=t.getRecordMatcher(Y),he=ee):he=Y,t.addRoute(he,ae)}function b(Y){const ee=t.getRecordMatcher(Y);ee&&t.removeRoute(ee)}function E(){return t.getRoutes().map(Y=>Y.record)}function T(Y){return!!t.getRecordMatcher(Y)}function N(Y,ee){if(ee=ht({},ee||l.value),typeof Y=="string"){const I=ab(n,Y,ee.path),M=t.resolve({path:I.path},ee),z=i.createHref(I.fullPath);return ht(I,M,{params:m(M.params),hash:Rf(I.hash),redirectedFrom:void 0,href:z})}let ae;if(Y.path!=null)ae=ht({},Y,{path:ab(n,Y.path,ee.path).path});else{const I=ht({},Y.params);for(const M in I)I[M]==null&&delete I[M];ae=ht({},Y,{params:v(I)}),ee.params=v(ee.params)}const he=t.resolve(ae,ee),Me=Y.hash||"";he.params=d(m(he.params));const Qe=hK(r,ht({},Y,{hash:sK(Me),path:he.path})),O=i.createHref(Qe);return ht({fullPath:Qe,hash:Me,query:r===cO?BK(Y.query):Y.query||{}},he,{redirectedFrom:void 0,href:O})}function L(Y){return typeof Y=="string"?ab(n,Y,l.value.path):ht({},Y)}function A(Y,ee){if(h!==Y)return rc(8,{from:ee,to:Y})}function D(Y){return j(Y)}function F(Y){return D(ht(L(Y),{replace:!0}))}function R(Y){const ee=Y.matched[Y.matched.length-1];if(ee&&ee.redirect){const{redirect:ae}=ee;let he=typeof ae=="function"?ae(Y):ae;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=L(he):{path:he},he.params={}),ht({query:Y.query,hash:Y.hash,params:he.path!=null?{}:Y.params},he)}}function j(Y,ee){const ae=h=N(Y),he=l.value,Me=Y.state,Qe=Y.force,O=Y.replace===!0,I=R(ae);if(I)return j(ht(L(I),{state:typeof I=="object"?ht({},Me,I.state):Me,force:Qe,replace:O}),ee||ae);const M=ae;M.redirectedFrom=ee;let z;return!Qe&&dK(r,he,ae)&&(z=rc(16,{to:M,from:he}),st(he,he,!0,!1)),(z?Promise.resolve(z):P(M,he)).catch(q=>no(q)?no(q,2)?q:yt(q):we(q,M,he)).then(q=>{if(q){if(no(q,2))return j(ht({replace:O},L(q.to),{state:typeof q.to=="object"?ht({},Me,q.to.state):Me,force:Qe}),ee||M)}else q=ge(M,he,!0,O,Me);return De(M,he,q),q})}function H(Y,ee){const ae=A(Y,ee);return ae?Promise.reject(ae):Promise.resolve()}function Q(Y){const ee=Dt.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext(Y):Y()}function P(Y,ee){let ae;const[he,Me,Qe]=XK(Y,ee);ae=ub(he.reverse(),"beforeRouteLeave",Y,ee);for(const I of he)I.leaveGuards.forEach(M=>{ae.push(Go(M,Y,ee))});const O=H.bind(null,Y,ee);return ae.push(O),dt(ae).then(()=>{ae=[];for(const I of s.list())ae.push(Go(I,Y,ee));return ae.push(O),dt(ae)}).then(()=>{ae=ub(Me,"beforeRouteUpdate",Y,ee);for(const I of Me)I.updateGuards.forEach(M=>{ae.push(Go(M,Y,ee))});return ae.push(O),dt(ae)}).then(()=>{ae=[];for(const I of Qe)if(I.beforeEnter)if(mi(I.beforeEnter))for(const M of I.beforeEnter)ae.push(Go(M,Y,ee));else ae.push(Go(I.beforeEnter,Y,ee));return ae.push(O),dt(ae)}).then(()=>(Y.matched.forEach(I=>I.enterCallbacks={}),ae=ub(Qe,"beforeRouteEnter",Y,ee,Q),ae.push(O),dt(ae))).then(()=>{ae=[];for(const I of a.list())ae.push(Go(I,Y,ee));return ae.push(O),dt(ae)}).catch(I=>no(I,8)?I:Promise.reject(I))}function De(Y,ee,ae){c.list().forEach(he=>Q(()=>he(Y,ee,ae)))}function ge(Y,ee,ae,he,Me){const Qe=A(Y,ee);if(Qe)return Qe;const O=ee===Fo,I=Lu?history.state:{};ae&&(he||O?i.replace(Y.fullPath,ht({scroll:O&&I&&I.scroll},Me)):i.push(Y.fullPath,Me)),l.value=Y,st(Y,ee,ae,O),yt()}let Pe;function kt(){Pe||(Pe=i.listen((Y,ee,ae)=>{if(!Vt.listening)return;const he=N(Y),Me=R(he);if(Me){j(ht(Me,{replace:!0}),he).catch(cf);return}h=he;const Qe=l.value;Lu&&wK(tO(Qe.fullPath,ae.delta),tm()),P(he,Qe).catch(O=>no(O,12)?O:no(O,2)?(j(O.to,he).then(I=>{no(I,20)&&!ae.delta&&ae.type===kf.pop&&i.go(-1,!1)}).catch(cf),Promise.reject()):(ae.delta&&i.go(-ae.delta,!1),we(O,he,Qe))).then(O=>{O=O||ge(he,Qe,!1),O&&(ae.delta&&!no(O,8)?i.go(-ae.delta,!1):ae.type===kf.pop&&no(O,20)&&i.go(-1,!1)),De(he,Qe,O)}).catch(cf)}))}let gt=Wl(),Se=Wl(),Ae;function we(Y,ee,ae){yt(Y);const he=Se.list();return he.length?he.forEach(Me=>Me(Y,ee,ae)):console.error(Y),Promise.reject(Y)}function vt(){return Ae&&l.value!==Fo?Promise.resolve():new Promise((Y,ee)=>{gt.add([Y,ee])})}function yt(Y){return Ae||(Ae=!Y,kt(),gt.list().forEach(([ee,ae])=>Y?ae(Y):ee()),gt.reset()),Y}function st(Y,ee,ae,he){const{scrollBehavior:Me}=e;if(!Lu||!Me)return Promise.resolve();const Qe=!ae&&EK(tO(Y.fullPath,0))||(he||!ae)&&history.state&&history.state.scroll||null;return qE().then(()=>Me(Y,ee,Qe)).then(O=>O&&bK(O)).catch(O=>we(O,Y,ee))}const nt=Y=>i.go(Y);let Wt;const Dt=new Set,Vt={currentRoute:l,listening:!0,addRoute:y,removeRoute:b,clearRoutes:t.clearRoutes,hasRoute:T,getRoutes:E,resolve:N,options:e,push:D,replace:F,go:nt,back:()=>nt(-1),forward:()=>nt(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:Se.add,isReady:vt,install(Y){const ee=this;Y.component("RouterLink",GK),Y.component("RouterView",QK),Y.config.globalProperties.$router=ee,Object.defineProperty(Y.config.globalProperties,"$route",{enumerable:!0,get:()=>Yu(l)}),Lu&&!Wt&&l.value===Fo&&(Wt=!0,D(i.location).catch(Me=>{}));const ae={};for(const Me in Fo)Object.defineProperty(ae,Me,{get:()=>l.value[Me],enumerable:!0});Y.provide(ZE,ee),Y.provide(SL,CP(ae)),Y.provide(dw,l);const he=Y.unmount;Dt.add(Y),Y.unmount=function(){Dt.delete(Y),Dt.size<1&&(h=Fo,Pe&&Pe(),Pe=null,l.value=Fo,Wt=!1,Ae=!1),he()}}};function dt(Y){return Y.reduce((ee,ae)=>ee.then(()=>Q(ae)),Promise.resolve())}return Vt}function XK(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const c=t.matched[a];c&&(e.matched.find(h=>nc(h,c))?r.push(c):n.push(c));const l=e.matched[a];l&&(t.matched.find(h=>nc(h,l))||i.push(l))}return[n,r,i]}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var JK="store";function Uc(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function ZK(e){return e!==null&&typeof e=="object"}function e4(e){return e&&typeof e.then=="function"}function t4(e,t){return function(){return e(t)}}function AL(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function CL(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;nm(e,n,[],e._modules.root,!0),eT(e,n,t)}function eT(e,t,n){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,a={},c={},l=vP(!0);l.run(function(){Uc(s,function(h,d){a[d]=t4(h,e),c[d]=Ut(function(){return a[d]()}),Object.defineProperty(e.getters,d,{get:function(){return c[d].value},enumerable:!0})})}),e._state=ah({data:t}),e._scope=l,e.strict&&s4(e),r&&n&&e._withCommit(function(){r.data=null}),i&&i.stop()}function nm(e,t,n,r,i){var s=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!s&&!i){var c=tT(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){c[l]=r.state})}var h=r.context=n4(e,a,n);r.forEachMutation(function(d,v){var m=a+v;r4(e,m,d,h)}),r.forEachAction(function(d,v){var m=d.root?v:a+v,y=d.handler||d;i4(e,m,y,h)}),r.forEachGetter(function(d,v){var m=a+v;o4(e,m,d,h)}),r.forEachChild(function(d,v){nm(e,t,n.concat(v),d,i)})}function n4(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(s,a,c){var l=Hp(s,a,c),h=l.payload,d=l.options,v=l.type;return(!d||!d.root)&&(v=t+v),e.dispatch(v,h)},commit:r?e.commit:function(s,a,c){var l=Hp(s,a,c),h=l.payload,d=l.options,v=l.type;(!d||!d.root)&&(v=t+v),e.commit(v,h,d)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return NL(e,t)}},state:{get:function(){return tT(e.state,n)}}}),i}function NL(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function r4(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(a){n.call(e,r.state,a)})}function i4(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(a){var c=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},a);return e4(c)||(c=Promise.resolve(c)),e._devtoolHook?c.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):c})}function o4(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function s4(e){ho(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function tT(e,t){return t.reduce(function(n,r){return n[r]},e)}function Hp(e,t,n){return ZK(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var a4="vuex bindings",vO="vuex:mutations",cb="vuex:actions",Cu="vuex",u4=0;function c4(e,t){zG({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[a4]},function(n){n.addTimelineLayer({id:vO,label:"Vuex Mutations",color:mO}),n.addTimelineLayer({id:cb,label:"Vuex Actions",color:mO}),n.addInspector({id:Cu,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Cu)if(r.filter){var i=[];DL(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[kL(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Cu){var i=r.nodeId;NL(t,i),r.state=h4(p4(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Cu){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),t._withCommit(function(){r.set(t._state.data,s,r.state.value)})}}),t.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Cu),n.sendInspectorState(Cu),n.addTimelineEvent({layerId:vO,event:{time:Date.now(),title:r.type,data:s}})}),t.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=u4++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:cb,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:cb,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var mO=8702998,l4=6710886,f4=16777215,OL={label:"namespaced",textColor:f4,backgroundColor:l4};function RL(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function kL(e,t){return{id:t||"root",label:RL(t),tags:e.namespaced?[OL]:[],children:Object.keys(e._children).map(function(n){return kL(e._children[n],t+n+"/")})}}function DL(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[OL]:[]}),Object.keys(t._children).forEach(function(i){DL(e,t._children[i],n,r+i+"/")})}function h4(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(a){return{key:a,editable:!0,value:e.state[a]}})};if(r.length){var s=d4(t);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?RL(a):a,editable:!1,value:pw(function(){return s[a]})}})}return i}function d4(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,s=r.pop();r.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=pw(function(){return e[n]})}else t[n]=pw(function(){return e[n]})}),t}function p4(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var a=r[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+t+'".');return s===n.length-1?a:a._children},t==="root"?e:e.root._children)}function pw(e){try{return e()}catch(t){return t}}var yi=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},PL={namespaced:{configurable:!0}};PL.namespaced.get=function(){return!!this._rawModule.namespaced};yi.prototype.addChild=function(t,n){this._children[t]=n};yi.prototype.removeChild=function(t){delete this._children[t]};yi.prototype.getChild=function(t){return this._children[t]};yi.prototype.hasChild=function(t){return t in this._children};yi.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};yi.prototype.forEachChild=function(t){Uc(this._children,t)};yi.prototype.forEachGetter=function(t){this._rawModule.getters&&Uc(this._rawModule.getters,t)};yi.prototype.forEachAction=function(t){this._rawModule.actions&&Uc(this._rawModule.actions,t)};yi.prototype.forEachMutation=function(t){this._rawModule.mutations&&Uc(this._rawModule.mutations,t)};Object.defineProperties(yi.prototype,PL);var Ba=function(t){this.register([],t,!1)};Ba.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Ba.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Ba.prototype.update=function(t){LL([],this.root,t)};Ba.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var s=new yi(n,r);if(t.length===0)this.root=s;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],s)}n.modules&&Uc(n.modules,function(c,l){i.register(t.concat(l),c,r)})};Ba.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Ba.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function LL(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;LL(e.concat(r),t.getChild(r),n.modules[r])}}function Poe(e){return new pr(e)}var pr=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ba(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=s;var a=this,c=this,l=c.dispatch,h=c.commit;this.dispatch=function(m,y){return l.call(a,m,y)},this.commit=function(m,y,b){return h.call(a,m,y,b)},this.strict=i;var d=this._modules.root.state;nm(this,d,[],this._modules.root),eT(this,d),r.forEach(function(v){return v(n)})},nT={state:{configurable:!0}};pr.prototype.install=function(t,n){t.provide(n||JK,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&c4(t,this)};nT.state.get=function(){return this._state.data};nT.state.set=function(e){};pr.prototype.commit=function(t,n,r){var i=this,s=Hp(t,n,r),a=s.type,c=s.payload,l={type:a,payload:c},h=this._mutations[a];h&&(this._withCommit(function(){h.forEach(function(v){v(c)})}),this._subscribers.slice().forEach(function(d){return d(l,i.state)}))};pr.prototype.dispatch=function(t,n){var r=this,i=Hp(t,n),s=i.type,a=i.payload,c={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(c,r.state)})}catch{}var h=l.length>1?Promise.all(l.map(function(d){return d(a)})):l[0](a);return new Promise(function(d,v){h.then(function(m){try{r._actionSubscribers.filter(function(y){return y.after}).forEach(function(y){return y.after(c,r.state)})}catch{}d(m)},function(m){try{r._actionSubscribers.filter(function(y){return y.error}).forEach(function(y){return y.error(c,r.state,m)})}catch{}v(m)})})}};pr.prototype.subscribe=function(t,n){return AL(t,this._subscribers,n)};pr.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return AL(r,this._actionSubscribers,n)};pr.prototype.watch=function(t,n,r){var i=this;return ho(function(){return t(i.state,i.getters)},n,Object.assign({},r))};pr.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};pr.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),nm(this,this.state,t,this._modules.get(t),r.preserveState),eT(this,this.state)};pr.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=tT(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),CL(this)};pr.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};pr.prototype.hotUpdate=function(t){this._modules.update(t),CL(this,!0)};pr.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(pr.prototype,nT);var vw=function(e,t){return vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},vw(e,t)};function ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var tn=function(){return tn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},tn.apply(this,arguments)};function B(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(d){try{h(r.next(d))}catch(v){a(v)}}function l(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(c,l)}h((r=r.apply(e,t||[])).next())})}function $(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Yn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function rt(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xL={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie=function(e,t){if(!e)throw Vc(t)},Vc=function(e){return new Error("Firebase Database ("+xL.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ML=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},v4=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],c=e[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,c=a?e[i+1]:0,l=i+2<e.length,h=l?e[i+2]:0,d=s>>2,v=(s&3)<<4|c>>4,m=(c&15)<<2|h>>6,y=h&63;l||(y=64,a||(m=64)),r.push(n[d],n[v],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ML(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):v4(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,c=a?n[e.charAt(i)]:0;++i;var l=i<e.length,h=l?n[e.charAt(i)]:64;++i;var d=i<e.length,v=d?n[e.charAt(i)]:64;if(++i,s==null||c==null||h==null||v==null)throw Error();var m=s<<2|c>>4;if(r.push(m),h!==64){var y=c<<4&240|h>>2;if(r.push(y),v!==64){var b=h<<6&192|v;r.push(b)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},FL=function(e){var t=ML(e);return rT.encodeByteArray(t,!0)},gO=function(e){return FL(e).replace(/\./g,"")},yO=function(e){try{return rT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(e){return Df(void 0,e)}function Df(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!m4(r)||(e[r]=Df(e[r],t[r]));return e}function m4(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=tn({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[gO(JSON.stringify(n)),gO(JSON.stringify(a)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Na())}function VL(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g4(){return typeof self=="object"&&self.self===self}function sT(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function jL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y4(){return Na().indexOf("Electron/")>=0}function _4(){var e=Na();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function b4(){return Na().indexOf("MSAppHost/")>=0}function $L(){return xL.NODE_ADMIN===!0}function w4(){return!VL()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BL(){return"indexedDB"in self&&indexedDB!=null}function HL(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function WL(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E4="FirebaseError",rm=function(e){ce(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=E4,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,fh.prototype.create),s}return t}(Error),fh=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],c=a?T4(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new rm(s,l,i);return h},e}();function T4(e,t){return e.replace(I4,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var I4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(e){return JSON.parse(e)}function Zt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qL=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=Pf(yO(s[0])||""),n=Pf(yO(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},S4=function(e){var t=qL(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},A4=function(e){var t=qL(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Oa(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function mw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Wp(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(e){for(var t=[],n=function(l,h){Array.isArray(h)?h.forEach(function(d){t.push(encodeURIComponent(l)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(l)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],c=s[1];n(a,c)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N4=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^c&(l^h),m=1518500249):(v=c^l^h,m=1859775393):i<60?(v=c&l|h&(c|l),m=2400959708):(v=c^l^h,m=3395469782);var s=(a<<5|a>>>27)+v+d+m+r[i]&4294967295;d=h,h=l,l=(c<<30|c>>>2)&4294967295,c=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function O4(e,t){var n=new R4(e,t);return n.subscribe.bind(n)}var R4=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");k4(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=lb),s.error===void 0&&(s.error=lb),s.complete===void 0&&(s.complete=lb);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function k4(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function lb(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function cr(e,t){return e+" failed: "+t+" argument "}function cn(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(cr(e,t)+"must be a valid function.")}function _O(e,t,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(cr(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D4=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,ie(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},im=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P4=1e3,L4=2,x4=4*60*60*1e3,M4=.5;function bO(e,t,n){t===void 0&&(t=P4),n===void 0&&(n=L4);var r=t*Math.pow(n,e),i=Math.round(M4*r*(Math.random()-.5)*2);return Math.min(x4,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(e){return e&&e._delegate?e._delegate:e}var Bi=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new ir;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(U4(t))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}try{for(var i=Yn(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Nn(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService({instanceIdentifier:h});l.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=na),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return B(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(rt(rt([],Nn(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Nn(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=na),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=na),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.options,s=i===void 0?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var l=Yn(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Nn(h.value,2),v=d[0],m=d[1],y=this.normalizeInstanceIdentifier(v);a===y&&m.resolve(c)}}catch(b){n={error:b}}finally{try{h&&!h.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return c},e.prototype.onInit=function(t,n){var r,i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);var a=this.instances.get(i);return a&&t(a,i),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i,s=this.onInitCallbacks.get(n);if(s)try{for(var a=Yn(s),c=a.next();!c.done;c=a.next()){var l=c.value;try{l(t,n)}catch{}}}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:F4(n),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=na),this.component?this.component.multipleInstances?t:na:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function F4(e){return e===na?void 0:e}function U4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new GL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function oi(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zs,aT=[],Ze;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ze||(Ze={}));var YL={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},V4=Ze.INFO,j4=(Zs={},Zs[Ze.DEBUG]="log",Zs[Ze.VERBOSE]="log",Zs[Ze.INFO]="info",Zs[Ze.WARN]="warn",Zs[Ze.ERROR]="error",Zs),$4=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=j4[t];if(s)console[s].apply(console,oi(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},om=function(){function e(t){this.name=t,this._logLevel=V4,this._logHandler=$4,this._userLogHandler=null,aT.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Ze))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?YL[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,oi([this,Ze.DEBUG],t)),this._logHandler.apply(this,oi([this,Ze.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,oi([this,Ze.VERBOSE],t)),this._logHandler.apply(this,oi([this,Ze.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,oi([this,Ze.INFO],t)),this._logHandler.apply(this,oi([this,Ze.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,oi([this,Ze.WARN],t)),this._logHandler.apply(this,oi([this,Ze.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,oi([this,Ze.ERROR],t)),this._logHandler.apply(this,oi([this,Ze.ERROR],t))},e}();function B4(e){aT.forEach(function(t){t.setLogLevel(e)})}function H4(e,t){for(var n=function(a){var c=null;t&&t.level&&(c=YL[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var m=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(c??l.logLevel)&&e({level:Ze[h].toLowerCase(),message:m,args:d,type:l.name})}},r=0,i=aT;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo,W4=(Uo={},Uo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Uo["bad-app-name"]="Illegal App name: '{$appName}",Uo["duplicate-app"]="Firebase App named '{$appName}' already exists",Uo["app-deleted"]="Firebase App named '{$appName}' already deleted",Uo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Uo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Uo),xu=new fh("app","Firebase",W4),zL="@firebase/app",q4="0.6.30",G4="@firebase/analytics",K4="@firebase/app-check",Y4="@firebase/auth",z4="@firebase/database",Q4="@firebase/functions",X4="@firebase/installations",J4="@firebase/messaging",Z4="@firebase/performance",eY="@firebase/remote-config",tY="@firebase/storage",nY="@firebase/firestore",rY="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,qp="[DEFAULT]",iY=(In={},In[zL]="fire-core",In[G4]="fire-analytics",In[K4]="fire-app-check",In[Y4]="fire-auth",In[z4]="fire-rtdb",In[Q4]="fire-fn",In[X4]="fire-iid",In[J4]="fire-fcm",In[Z4]="fire-perf",In[eY]="fire-rc",In[tY]="fire-gcs",In[nY]="fire-fst",In["fire-js"]="fire-js",In[rY]="fire-js-all",In);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ic=new om("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ap=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=UL(t),this.container=new KL(n.name),this._addComponent(new Bi("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=qp),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=qp),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){ic.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw xu.create("app-deleted",{appName:this.name_})},e}();Ap.prototype.name&&Ap.prototype.options||Ap.prototype.delete||console.log("dc");var oY="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:B4,onLog:d,apps:null,SDK_VERSION:oY,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(m){delete t[m]}function s(m){if(m=m||qp,!Ar(t,m))throw xu.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var b=y;y={name:b}}var E=y;E.name===void 0&&(E.name=qp);var T=E.name;if(typeof T!="string"||!T)throw xu.create("bad-app-name",{appName:String(T)});if(Ar(t,T))throw xu.create("duplicate-app",{appName:T});var N=new e(m,E,r);return t[T]=N,N}function c(){return Object.keys(t).map(function(m){return t[m]})}function l(m){var y=m.name;if(n.has(y))return ic.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var b=function(L){if(L===void 0&&(L=s()),typeof L[y]!="function")throw xu.create("invalid-app-argument",{appName:y});return L[y]()};m.serviceProps!==void 0&&Df(b,m.serviceProps),r[y]=b,e.prototype[y]=function(){for(var L=[],A=0;A<arguments.length;A++)L[A]=arguments[A];var D=this._getService.bind(this,y);return D.apply(this,m.multipleInstances?L:[])}}for(var E=0,T=Object.keys(t);E<T.length;E++){var N=T[E];t[N]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,b){var E,T=(E=iY[m])!==null&&E!==void 0?E:m;b&&(T+="-"+b);var N=T.match(/\s|\//),L=y.match(/\s|\//);if(N||L){var A=['Unable to register library "'+T+'" with version "'+y+'":'];N&&A.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),N&&L&&A.push("and"),L&&A.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),ic.warn(A.join(" "));return}l(new Bi(T+"-version",function(){return{library:T,version:y}},"VERSION"))}function d(m,y){if(m!==null&&typeof m!="function")throw xu.create("invalid-log-argument");H4(m,y)}function v(m,y){if(y==="serverAuth")return null;var b=y;return b}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(){var e=sY(Ap);e.INTERNAL=tn(tn({},e.INTERNAL),{createFirebaseNamespace:QL,extendNamespace:t,createSubscribe:O4,ErrorFactory:fh,deepExtend:Df});function t(n){Df(e,n)}return e}var uT=QL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aY=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(uY(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function uY(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(e,t){e.INTERNAL.registerComponent(new Bi("platform-logger",function(n){return new aY(n)},"PRIVATE")),e.registerVersion(zL,q4,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(g4()&&self.firebase!==void 0){ic.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var wO=self.firebase.SDK_VERSION;wO&&wO.indexOf("LITE")>=0&&ic.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var lY=uT.initializeApp;uT.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return VL()&&ic.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),lY.apply(void 0,e)};var Ce=uT;cY(Ce);var fY="firebase",XL="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce.registerVersion(fY,XL,"app");Ce.SDK_VERSION=XL;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gw=function(e,t){return gw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},gw(e,t)};function hY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");gw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function JL(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var dY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de,cT=cT||{},Le=dY||self;function Gp(){}function yw(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function sm(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function pY(e){return Object.prototype.hasOwnProperty.call(e,fb)&&e[fb]||(e[fb]=++vY)}var fb="closure_uid_"+(1e9*Math.random()>>>0),vY=0;function mY(e,t,n){return e.call.apply(e.bind,arguments)}function gY(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function yn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yn=mY:yn=gY,yn.apply(null,arguments)}function Jd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function En(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[i].apply(r,a)}}function _s(){this.s=this.s,this.o=this.o}var yY=0;_s.prototype.s=!1;_s.prototype.na=function(){!this.s&&(this.s=!0,this.M(),yY!=0)&&pY(this)};_s.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ZL=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},e1=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function _Y(e){e:{for(var t=fz,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function EO(e){return Array.prototype.concat.apply([],arguments)}function lT(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kp(e){return/^[\s\xa0]*$/.test(e)}var TO=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Hn(e,t){return e.indexOf(t)!=-1}function hb(e,t){return e<t?-1:e>t?1:0}var Wn;e:{var IO=Le.navigator;if(IO){var SO=IO.userAgent;if(SO){Wn=SO;break e}}Wn=""}function fT(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function t1(e){var t={};for(var n in e)t[n]=e[n];return t}var AO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function n1(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<AO.length;s++)n=AO[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hT(e){return hT[" "](e),e}hT[" "]=Gp;function bY(e){var t=TY;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var wY=Hn(Wn,"Opera"),oc=Hn(Wn,"Trident")||Hn(Wn,"MSIE"),r1=Hn(Wn,"Edge"),_w=r1||oc,i1=Hn(Wn,"Gecko")&&!(Hn(Wn.toLowerCase(),"webkit")&&!Hn(Wn,"Edge"))&&!(Hn(Wn,"Trident")||Hn(Wn,"MSIE"))&&!Hn(Wn,"Edge"),EY=Hn(Wn.toLowerCase(),"webkit")&&!Hn(Wn,"Edge");function o1(){var e=Le.document;return e?e.documentMode:void 0}var Yp;e:{var db="",pb=function(){var e=Wn;if(i1)return/rv:([^\);]+)(\)|;)/.exec(e);if(r1)return/Edge\/([\d\.]+)/.exec(e);if(oc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(EY)return/WebKit\/(\S+)/.exec(e);if(wY)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(pb&&(db=pb?pb[1]:""),oc){var vb=o1();if(vb!=null&&vb>parseFloat(db)){Yp=String(vb);break e}}Yp=db}var TY={};function IY(){return bY(function(){for(var e=0,t=TO(String(Yp)).split("."),n=TO("9").split("."),r=Math.max(t.length,n.length),i=0;e==0&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s[0].length==0&&a[0].length==0)break;e=hb(s[1].length==0?0:parseInt(s[1],10),a[1].length==0?0:parseInt(a[1],10))||hb(s[2].length==0,a[2].length==0)||hb(s[2],a[2]),s=s[3],a=a[3]}while(e==0)}return 0<=e})}var bw;if(Le.document&&oc){var CO=o1();bw=CO||parseInt(Yp,10)||void 0}else bw=void 0;var SY=bw,AY=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Le.addEventListener("test",Gp,t),Le.removeEventListener("test",Gp,t)}catch{}return e}();function Rn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Rn.prototype.h=function(){this.defaultPrevented=!0};function Lf(e,t){if(Rn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(i1){e:{try{hT(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:CY[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Lf.Z.h.call(this)}}En(Lf,Rn);var CY={2:"touch",3:"pen",4:"mouse"};Lf.prototype.h=function(){Lf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var am="closure_listenable_"+(1e6*Math.random()|0),NY=0;function OY(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++NY,this.ca=this.fa=!1}function um(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function cm(e){this.src=e,this.g={},this.h=0}cm.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=Ew(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new OY(t,this.src,s,!!r,i),t.fa=n,e.push(t)),t};function ww(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=ZL(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(um(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ew(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}var dT="closure_lm_"+(1e6*Math.random()|0),mb={};function s1(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)s1(e,t[s],n,r,i);return null}return n=c1(n),e&&e[am]?e.N(t,n,sm(r)?!!r.capture:!!r,i):RY(e,t,n,!1,r,i)}function RY(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=sm(i)?!!i.capture:!!i,c=vT(e);if(c||(e[dT]=c=new cm(e)),n=c.add(t,n,r,a,s),n.proxy)return n;if(r=kY(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)AY||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(u1(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kY(){function e(n){return t.call(e.src,e.listener,n)}var t=DY;return e}function a1(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)a1(e,t[s],n,r,i);else r=sm(r)?!!r.capture:!!r,n=c1(n),e&&e[am]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Ew(s,n,r,i),-1<n&&(um(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=vT(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ew(t,n,r,i)),(n=-1<e?t[e]:null)&&pT(n))}function pT(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[am])ww(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(u1(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=vT(t))?(ww(n,e),n.h==0&&(n.src=null,t[dT]=null)):um(e)}}}function u1(e){return e in mb?mb[e]:mb[e]="on"+e}function DY(e,t){if(e.ca)e=!0;else{t=new Lf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&pT(e),e=n.call(r,t)}return e}function vT(e){return e=e[dT],e instanceof cm?e:null}var gb="__closure_events_fn_"+(1e9*Math.random()>>>0);function c1(e){return typeof e=="function"?e:(e[gb]||(e[gb]=function(t){return e.handleEvent(t)}),e[gb])}function hn(){_s.call(this),this.i=new cm(this),this.P=this,this.I=null}En(hn,_s);hn.prototype[am]=!0;hn.prototype.removeEventListener=function(e,t,n,r){a1(this,e,t,n,r)};function _n(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Rn(t,e);else if(t instanceof Rn)t.target=t.target||e;else{var i=t;t=new Rn(r,e),n1(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Zd(a,r,!0,t)&&i}if(a=t.g=e,i=Zd(a,r,!0,t)&&i,i=Zd(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=Zd(a,r,!1,t)&&i}hn.prototype.M=function(){if(hn.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)um(n[r]);delete e.g[t],e.h--}}this.I=null};hn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};hn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Zd(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==n){var c=a.listener,l=a.ia||a.src;a.fa&&ww(e.i,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var mT=Le.JSON.stringify;function PY(){var e=f1,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var LY=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=l1.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),l1=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new xY},function(e){return e.reset()}),xY=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function MY(e){Le.setTimeout(function(){throw e},0)}function gT(e,t){Tw||FY(),Iw||(Tw(),Iw=!0),f1.add(e,t)}var Tw;function FY(){var e=Le.Promise.resolve(void 0);Tw=function(){e.then(UY)}}var Iw=!1,f1=new LY;function UY(){for(var e;e=PY();){try{e.h.call(e.g)}catch(n){MY(n)}var t=l1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Iw=!1}function lm(e,t){hn.call(this),this.h=e||1,this.g=t||Le,this.j=yn(this.kb,this),this.l=Date.now()}En(lm,hn);de=lm.prototype;de.da=!1;de.S=null;de.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_n(this,"tick"),this.da&&(yT(this),this.start()))}};de.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function yT(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}de.M=function(){lm.Z.M.call(this),yT(this),delete this.g};function _T(e,t,n){if(typeof e=="function")n&&(e=yn(e,n));else if(e&&typeof e.handleEvent=="function")e=yn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Le.setTimeout(e,t||0)}function h1(e){e.g=_T(function(){e.g=null,e.i&&(e.i=!1,h1(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var VY=function(e){hY(t,e);function t(n,r){var i=e.call(this)||this;return i.m=n,i.j=r,i.h=null,i.i=!1,i.g=null,i}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:h1(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(_s);function xf(e){_s.call(this),this.h=e,this.g={}}En(xf,_s);var NO=[];function d1(e,t,n,r){Array.isArray(n)||(n&&(NO[0]=n.toString()),n=NO);for(var i=0;i<n.length;i++){var s=s1(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function p1(e){fT(e.g,function(t,n){this.g.hasOwnProperty(n)&&pT(t)},e),e.g={}}xf.prototype.M=function(){xf.Z.M.call(this),p1(this)};xf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fm(){this.g=!0}fm.prototype.Aa=function(){this.g=!1};function jY(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function $Y(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Bu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+HY(e,n)+(r?" "+r:"")})}function BY(e,t){e.info(function(){return"TIMEOUT: "+t})}fm.prototype.info=function(){};function HY(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return mT(n)}catch{return t}}var Ha={},OO=null;function hm(){return OO=OO||new hn}Ha.Ma="serverreachability";function v1(e){Rn.call(this,Ha.Ma,e)}En(v1,Rn);function Mf(e){var t=hm();_n(t,new v1(t))}Ha.STAT_EVENT="statevent";function m1(e,t){Rn.call(this,Ha.STAT_EVENT,e),this.stat=t}En(m1,Rn);function qn(e){var t=hm();_n(t,new m1(t,e))}Ha.Na="timingevent";function g1(e,t){Rn.call(this,Ha.Na,e),this.size=t}En(g1,Rn);function hh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){e()},t)}var dm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},y1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function bT(){}bT.prototype.h=null;function RO(e){return e.h||(e.h=e.i())}function _1(){}var dh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function wT(){Rn.call(this,"d")}En(wT,Rn);function ET(){Rn.call(this,"c")}En(ET,Rn);var Sw;function pm(){}En(pm,bT);pm.prototype.g=function(){return new XMLHttpRequest};pm.prototype.i=function(){return{}};Sw=new pm;function ph(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new xf(this),this.P=WY,e=_w?125:void 0,this.W=new lm(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new b1}function b1(){this.i=null,this.g="",this.h=!1}var WY=45e3,Aw={},zp={};de=ph.prototype;de.setTimeout=function(e){this.P=e};function Cw(e,t,n){e.K=1,e.v=mm(bo(t)),e.s=n,e.U=!0,w1(e,null)}function w1(e,t){e.F=Date.now(),vh(e),e.A=bo(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),N1(n.h,"t",r),e.C=0,n=e.l.H,e.h=new b1,e.g=Y1(e.l,n?t:null,!e.s),0<e.O&&(e.L=new VY(yn(e.Ia,e,e.g),e.O)),d1(e.V,e.g,"readystatechange",e.gb),t=e.H?t1(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Mf(),jY(e.j,e.u,e.A,e.m,e.X,e.s)}de.gb=function(e){e=e.target;var t=this.L;t&&uo(e)==3?t.l():this.Ia(e)};de.Ia=function(e){try{if(e==this.g)e:{var t=uo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||_w||this.g&&(this.h.h||this.g.ga()||LO(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Mf(3):Mf(2)),vm(this);var i=this.g.ba();this.N=i;t:if(E1(this)){var s=LO(this.g);e="";var a=s.length,c=uo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ua(this),ff(this);var l="";break t}this.h.i=new Le.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:c&&n==a-1});s.splice(0,a),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=i==200,$Y(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var h,d=this.g;if((h=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kp(h)){var v=h;break t}}v=null}if(i=v)Bu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nw(this,i);else{this.i=!1,this.o=3,qn(12),ua(this),ff(this);break e}}this.U?(T1(this,t,l),_w&&this.i&&t==3&&(d1(this.V,this.W,"tick",this.fb),this.W.start())):(Bu(this.j,this.m,l,null),Nw(this,l)),t==4&&ua(this),this.i&&!this.I&&(t==4?W1(this.l,this):(this.i=!1,vh(this)))}else i==400&&0<l.indexOf("Unknown SID")?(this.o=3,qn(12)):(this.o=0,qn(13)),ua(this),ff(this)}}}catch{}finally{}};function E1(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function T1(e,t,n){for(var r=!0,i;!e.I&&e.C<n.length;)if(i=qY(e,n),i==zp){t==4&&(e.o=4,qn(14),r=!1),Bu(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Aw){e.o=4,qn(15),Bu(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Bu(e.j,e.m,i,null),Nw(e,i);E1(e)&&i!=zp&&i!=Aw&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,qn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),kT(t),t.L=!0,qn(11))):(Bu(e.j,e.m,n,"[Invalid Chunked Response]"),ua(e),ff(e))}de.fb=function(){if(this.g){var e=uo(this.g),t=this.g.ga();this.C<t.length&&(vm(this),T1(this,e,t),this.i&&e!=4&&vh(this))}};function qY(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?zp:(n=Number(t.substring(n,r)),isNaN(n)?Aw:(r+=1,r+n>t.length?zp:(t=t.substr(r,n),e.C=r+n,t)))}de.cancel=function(){this.I=!0,ua(this)};function vh(e){e.Y=Date.now()+e.P,I1(e,e.P)}function I1(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=hh(yn(e.eb,e),t)}function vm(e){e.B&&(Le.clearTimeout(e.B),e.B=null)}de.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(BY(this.j,this.A),this.K!=2&&(Mf(),qn(17)),ua(this),this.o=2,ff(this)):I1(this,this.Y-e)};function ff(e){e.l.G==0||e.I||W1(e.l,e)}function ua(e){vm(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,yT(e.W),p1(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Nw(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Ow(n.i,e))){if(n.I=e.N,!e.J&&Ow(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Zp(n),_m(n);else break e;RT(n),qn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=hh(yn(n.ab,n),6e3));if(1>=k1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else ca(n,11)}else if((e.J||n.g==e)&&Zp(n),!Kp(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var a=s[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var c=s[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));var l=s[5];l!=null&&typeof l=="number"&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var h=e.g;if(h){var d=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=r.i;!v.g&&(Hn(d,"spdy")||Hn(d,"quic")||Hn(d,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(ST(v,v.h),v.h=null))}if(r.D){var m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Ot(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=K1(r,r.H?r.la:null,r.W),y.J){D1(r.i,y);var b=y,E=r.K;E&&b.setTimeout(E),b.B&&(vm(b),vh(b)),r.g=y}else B1(r);0<n.l.length&&bm(n)}else s[0]!="stop"&&s[0]!="close"||ca(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?ca(n,7):OT(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Mf(4)}catch{}}function GY(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(yw(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function TT(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(yw(e)||typeof e=="string")e1(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(yw(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=GY(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function jc(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof jc)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}de=jc.prototype;de.R=function(){IT(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};de.T=function(){return IT(this),this.g.concat()};function IT(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ra(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],Ra(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}de.get=function(e,t){return Ra(this.h,e)?this.h[e]:t};de.set=function(e,t){Ra(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};de.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function Ra(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var S1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function KY(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ka(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ka){this.g=t!==void 0?t:e.g,Qp(this,e.j),this.s=e.s,Xp(this,e.i),Jp(this,e.m),this.l=e.l,t=e.h;var n=new Ff;n.i=t.i,t.g&&(n.g=new jc(t.g),n.h=t.h),kO(this,n),this.o=e.o}else e&&(n=String(e).match(S1))?(this.g=!!t,Qp(this,n[1]||"",!0),this.s=hf(n[2]||""),Xp(this,n[3]||"",!0),Jp(this,n[4]),this.l=hf(n[5]||"",!0),kO(this,n[6]||"",!0),this.o=hf(n[7]||"")):(this.g=!!t,this.h=new Ff(null,this.g))}ka.prototype.toString=function(){var e=[],t=this.j;t&&e.push(nf(t,DO,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(nf(t,DO,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(nf(n,n.charAt(0)=="/"?JY:XY,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",nf(n,ez)),e.join("")};function bo(e){return new ka(e)}function Qp(e,t,n){e.j=n?hf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xp(e,t,n){e.i=n?hf(t,!0):t}function Jp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function kO(e,t,n){t instanceof Ff?(e.h=t,tz(e.h,e.g)):(n||(t=nf(t,ZY)),e.h=new Ff(t,e.g))}function Ot(e,t,n){e.h.set(t,n)}function mm(e){return Ot(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function YY(e){return e instanceof ka?bo(e):new ka(e,void 0)}function zY(e,t,n,r){var i=new ka(null,void 0);return e&&Qp(i,e),t&&Xp(i,t),n&&Jp(i,n),r&&(i.l=r),i}function hf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function nf(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,QY),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function QY(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var DO=/[#\/\?@]/g,XY=/[#\?:]/g,JY=/[#\?]/g,ZY=/[#\?@]/g,ez=/#/g;function Ff(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bs(e){e.g||(e.g=new jc,e.h=0,e.i&&KY(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}de=Ff.prototype;de.add=function(e,t){bs(this),this.i=null,e=$c(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function A1(e,t){bs(e),t=$c(e,t),Ra(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Ra(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&IT(e)))}function C1(e,t){return bs(e),t=$c(e,t),Ra(e.g.h,t)}de.forEach=function(e,t){bs(this),this.g.forEach(function(n,r){e1(n,function(i){e.call(t,i,r,this)},this)},this)};de.T=function(){bs(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};de.R=function(e){bs(this);var t=[];if(typeof e=="string")C1(this,e)&&(t=EO(t,this.g.get($c(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=EO(t,e[n])}return t};de.set=function(e,t){return bs(this),this.i=null,e=$c(this,e),C1(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};de.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function N1(e,t,n){A1(e,t),0<n.length&&(e.i=null,e.g.set($c(e,t),lT(n)),e.h+=n.length)}de.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.i=e.join("&")};function $c(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tz(e,t){t&&!e.j&&(bs(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(A1(this,r),N1(this,i,n))},e)),e.j=t}var nz=function(){function e(t,n){this.h=t,this.g=n}return e}();function O1(e){this.l=e||rz,Le.PerformanceNavigationTiming?(e=Le.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Le.g&&Le.g.Ea&&Le.g.Ea()&&Le.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rz=10;function R1(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function k1(e){return e.h?1:e.g?e.g.size:0}function Ow(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ST(e,t){e.g?e.g.add(t):e.h=t}function D1(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}O1.prototype.cancel=function(){var e,t;if(this.i=P1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=JL(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function P1(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var i=JL(e.g.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.D)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return lT(e.i)}function AT(){}AT.prototype.stringify=function(e){return Le.JSON.stringify(e,void 0)};AT.prototype.parse=function(e){return Le.JSON.parse(e,void 0)};function iz(){this.g=new AT}function oz(e,t,n){var r=n||"";try{TT(e,function(i,s){var a=i;sm(i)&&(a=mT(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function sz(e,t){var n=new fm;if(Le.Image){var r=new Image;r.onload=Jd(ep,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Jd(ep,n,r,"TestLoadImage: error",!1,t),r.onabort=Jd(ep,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Jd(ep,n,r,"TestLoadImage: timeout",!1,t),Le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ep(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function mh(e){this.l=e.$b||null,this.j=e.ib||!1}En(mh,bT);mh.prototype.g=function(){return new gm(this.l,this.j)};mh.prototype.i=function(e){return function(){return e}}({});function gm(e,t){hn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=CT,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En(gm,hn);var CT=0;de=gm.prototype;de.open=function(e,t){if(this.readyState!=CT)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Uf(this)};de.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Le).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};de.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gh(this)),this.readyState=CT};de.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Uf(this)),this.g&&(this.readyState=3,Uf(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;L1(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function L1(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}de.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gh(this):Uf(this),this.readyState==3&&L1(this)}};de.Ua=function(e){this.g&&(this.response=this.responseText=e,gh(this))};de.Ta=function(e){this.g&&(this.response=e,gh(this))};de.ha=function(){this.g&&gh(this)};function gh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Uf(e)}de.setRequestHeader=function(e,t){this.v.append(e,t)};de.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};de.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Uf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(gm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var az=Le.JSON.parse;function zt(e){hn.call(this),this.headers=new jc,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=x1,this.K=this.L=!1}En(zt,hn);var x1="",uz=/^https?$/i,cz=["POST","PUT"];de=zt.prototype;de.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sw.g(),this.C=this.u?RO(this.u):RO(Sw),this.g.onreadystatechange=yn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){PO(this,s);return}e=n||"";var i=new jc(this.headers);r&&TT(r,function(s,a){i.set(a,s)}),r=_Y(i.T()),n=Le.FormData&&e instanceof Le.FormData,!(0<=ZL(cz,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{U1(this),0<this.B&&((this.K=lz(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yn(this.pa,this)):this.A=_T(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){PO(this,s)}};function lz(e){return oc&&IY()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function fz(e){return e.toLowerCase()=="content-type"}de.pa=function(){typeof cT<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_n(this,"timeout"),this.abort(8))};function PO(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,M1(e),ym(e)}function M1(e){e.D||(e.D=!0,_n(e,"complete"),_n(e,"error"))}de.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,_n(this,"complete"),_n(this,"abort"),ym(this))};de.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ym(this,!0)),zt.Z.M.call(this)};de.Fa=function(){this.s||(this.F||this.v||this.l?F1(this):this.cb())};de.cb=function(){F1(this)};function F1(e){if(e.h&&typeof cT<"u"&&(!e.C[1]||uo(e)!=4||e.ba()!=2)){if(e.v&&uo(e)==4)_T(e.Fa,0,e);else if(_n(e,"readystatechange"),uo(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.H).match(S1)[1]||null;if(!s&&Le.self&&Le.self.location){var a=Le.self.location.protocol;s=a.substr(0,a.length-1)}i=!uz.test(s?s.toLowerCase():"")}r=i}if(r)_n(e,"complete"),_n(e,"success");else{e.m=6;try{var c=2<uo(e)?e.g.statusText:""}catch{c=""}e.j=c+" ["+e.ba()+"]",M1(e)}}finally{ym(e)}}}}function ym(e,t){if(e.g){U1(e);var n=e.g,r=e.C[0]?Gp:null;e.g=null,e.C=null,t||_n(e,"ready");try{n.onreadystatechange=r}catch{}}}function U1(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Le.clearTimeout(e.A),e.A=null)}function uo(e){return e.g?e.g.readyState:0}de.ba=function(){try{return 2<uo(this)?this.g.status:-1}catch{return-1}};de.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};de.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),az(t)}};function LO(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case x1:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}de.Da=function(){return this.m};de.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function hz(e){var t="";return fT(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function NT(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hz(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ot(e,t,n))}function ql(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function V1(e){this.za=0,this.l=[],this.h=new fm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ql("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ql("baseRetryDelayMs",5e3,e),this.$a=ql("retryDelaySeedMs",1e4,e),this.Ya=ql("forwardChannelMaxRetries",2,e),this.ra=ql("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new O1(e&&e.concurrentRequestLimit),this.Ca=new iz,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}de=V1.prototype;de.ma=8;de.G=1;function OT(e){if(j1(e),e.G==3){var t=e.V++,n=bo(e.F);Ot(n,"SID",e.J),Ot(n,"RID",t),Ot(n,"TYPE","terminate"),yh(e,n),t=new ph(e,e.h,t,void 0),t.K=2,t.v=mm(bo(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon&&(n=Le.navigator.sendBeacon(t.v.toString(),"")),!n&&Le.Image&&(new Image().src=t.v,n=!0),n||(t.g=Y1(t.l,null),t.g.ea(t.v)),t.F=Date.now(),vh(t)}G1(e)}de.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function _m(e){e.g&&(kT(e),e.g.cancel(),e.g=null)}function j1(e){_m(e),e.u&&(Le.clearTimeout(e.u),e.u=null),Zp(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Le.clearTimeout(e.m),e.m=null)}function yb(e,t){e.l.push(new nz(e.Za++,t)),e.G==3&&bm(e)}function bm(e){R1(e.i)||e.m||(e.m=!0,gT(e.Ha,e),e.C=0)}function dz(e,t){return k1(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=hh(yn(e.Ha,e,t),q1(e,e.C)),e.C++,!0)}de.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ph(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=t1(n),n1(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){t:{var s=this.l[i];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$1(this,t,r),i=bo(this.F),Ot(i,"RID",e),Ot(i,"CVER",22),this.D&&Ot(i,"X-HTTP-Session-Id",this.D),yh(this,i),this.o&&n&&NT(i,this.o,n),ST(this.i,t),this.Ra&&Ot(i,"TYPE","init"),this.ja?(Ot(i,"$req",r),Ot(i,"SID","null"),t.$=!0,Cw(t,i,null)):Cw(t,i,r),this.G=2}}else this.G==3&&(e?xO(this,e):this.l.length==0||R1(this.i)||xO(this))};function xO(e,t){var n;t?n=t.m:n=e.V++;var r=bo(e.F);Ot(r,"SID",e.J),Ot(r,"RID",n),Ot(r,"AID",e.U),yh(e,r),e.o&&e.s&&NT(r,e.o,e.s),n=new ph(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$1(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ST(e.i,n),Cw(n,r,t)}function yh(e,t){e.j&&TT({},function(n,r){Ot(t,r,n)})}function $1(e,t,n){n=Math.min(e.l.length,n);var r=e.j?yn(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].h,d=i[l].g;if(h-=s,0>h)s=Math.max(0,i[l].h-100),c=!1;else try{oz(d,a,"req"+h+"_")}catch{r&&r(d)}}if(c){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function B1(e){e.g||e.u||(e.Y=1,gT(e.Ga,e),e.A=0)}function RT(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=hh(yn(e.Ga,e),q1(e,e.A)),e.A++,!0)}de.Ga=function(){if(this.u=null,H1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=hh(yn(this.bb,this),e)}};de.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qn(10),_m(this),H1(this))};function kT(e){e.B!=null&&(Le.clearTimeout(e.B),e.B=null)}function H1(e){e.g=new ph(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=bo(e.oa);Ot(t,"RID","rpc"),Ot(t,"SID",e.J),Ot(t,"CI",e.N?"0":"1"),Ot(t,"AID",e.U),yh(e,t),Ot(t,"TYPE","xmlhttp"),e.o&&e.s&&NT(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=mm(bo(t)),n.s=null,n.U=!0,w1(n,e)}de.ab=function(){this.v!=null&&(this.v=null,_m(this),RT(this),qn(19))};function Zp(e){e.v!=null&&(Le.clearTimeout(e.v),e.v=null)}function W1(e,t){var n=null;if(e.g==t){Zp(e),kT(e),e.g=null;var r=2}else if(Ow(e.i,t))n=t.D,D1(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=hm(),_n(r,new g1(r,n)),bm(e)}else B1(e);else if(i=t.o,i==3||i==0&&0<e.I||!(r==1&&dz(e,t)||r==2&&RT(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ca(e,5);break;case 4:ca(e,10);break;case 3:ca(e,6);break;default:ca(e,2)}}}function q1(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ca(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=yn(e.jb,e);n||(n=new ka("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||Qp(n,"https"),mm(n)),sz(n.toString(),r)}else qn(2);e.G=0,e.j&&e.j.va(t),G1(e),j1(e)}de.jb=function(e){e?(this.h.info("Successfully pinged google.com"),qn(2)):(this.h.info("Failed to ping google.com"),qn(1))};function G1(e){e.G=0,e.I=-1,e.j&&((P1(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,lT(e.l),e.l.length=0),e.j.ua())}function K1(e,t,n){var r=YY(n);if(r.i!="")t&&Xp(r,t+"."+r.i),Jp(r,r.m);else{var i=Le.location;r=zY(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&fT(e.aa,function(s,a){Ot(r,a,s)}),t=e.D,n=e.sa,t&&n&&Ot(r,t,n),Ot(r,"VER",e.ma),yh(e,r),r}function Y1(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new zt(new mh({ib:!0})):new zt(e.qa),t.L=e.H,t}function z1(){}de=z1.prototype;de.xa=function(){};de.wa=function(){};de.va=function(){};de.ua=function(){};de.Oa=function(){};function ev(){if(oc&&!(10<=Number(SY)))throw Error("Environmental error: no available transport.")}ev.prototype.g=function(e,t){return new Cr(e,t)};function Cr(e,t){hn.call(this),this.g=new V1(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Kp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kp(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Bc(this)}En(Cr,hn);Cr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),gT(yn(e.hb,e,t))),qn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=K1(e,null,e.W),bm(e)};Cr.prototype.close=function(){OT(this.g)};Cr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,yb(this.g,t)}else this.v?(t={},t.__data__=mT(e),yb(this.g,t)):yb(this.g,e)};Cr.prototype.M=function(){this.g.j=null,delete this.j,OT(this.g),delete this.g,Cr.Z.M.call(this)};function Q1(e){wT.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}En(Q1,wT);function X1(){ET.call(this),this.status=1}En(X1,ET);function Bc(e){this.g=e}En(Bc,z1);Bc.prototype.xa=function(){_n(this.g,"a")};Bc.prototype.wa=function(e){_n(this.g,new Q1(e))};Bc.prototype.va=function(e){_n(this.g,new X1)};Bc.prototype.ua=function(){_n(this.g,"b")};ev.prototype.createWebChannel=ev.prototype.g;Cr.prototype.send=Cr.prototype.u;Cr.prototype.open=Cr.prototype.m;Cr.prototype.close=Cr.prototype.close;dm.NO_ERROR=0;dm.TIMEOUT=8;dm.HTTP_ERROR=6;y1.COMPLETE="complete";_1.EventType=dh;dh.OPEN="a";dh.CLOSE="b";dh.ERROR="c";dh.MESSAGE="d";hn.prototype.listen=hn.prototype.N;zt.prototype.listenOnce=zt.prototype.O;zt.prototype.getLastError=zt.prototype.La;zt.prototype.getLastErrorCode=zt.prototype.Da;zt.prototype.getStatus=zt.prototype.ba;zt.prototype.getResponseJson=zt.prototype.Qa;zt.prototype.getResponseText=zt.prototype.ga;zt.prototype.send=zt.prototype.ea;var pz=function(){return new ev},vz=function(){return hm()},_b=dm,mz=y1,gz=Ha,MO={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yz=mh,tp=_1,_z=zt,bz={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Tr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},te=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return ce(t,e),t}(Error),hi=new om("@firebase/firestore");function Rw(){return hi.logLevel}function se(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(hi.logLevel<=Ze.DEBUG){var r=t.map(DT);hi.debug.apply(hi,rt(["Firestore (8.10.1): "+e],r))}}function Yt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(hi.logLevel<=Ze.ERROR){var r=t.map(DT);hi.error.apply(hi,rt(["Firestore (8.10.1): "+e],r))}}function tv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(hi.logLevel<=Ze.WARN){var r=t.map(DT);hi.warn.apply(hi,rt(["Firestore (8.10.1): "+e],r))}}function DT(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Yt(t),new Error(t)}function Re(e,t){e||_e()}function fe(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J1=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=wz(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function Ke(e,t){return e<t?-1:e>t?1:0}function sc(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function Z1(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ke(this.nanoseconds,t.nanoseconds):Ke(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),We=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new lr(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wa(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ex(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tx=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&_e(),r===void 0?r=t.length-n:r>t.length-n&&_e(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),it=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ce(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new te(W.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(tx),Ez=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gi=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ce(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return Ez.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new te(W.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new te(W.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new te(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new te(W.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(tx),ac=function(){function e(t){this.fields=t,t.sort(gi.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return sc(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),hr=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ke(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();hr.EMPTY_BYTE_STRING=new hr("");var Tz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(e){if(Re(!!e),typeof e=="string"){var t=0,n=Tz.exec(e);if(Re(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Kt(e.seconds),nanos:Kt(e.nanos)}}function Kt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function uc(e){return typeof e=="string"?hr.fromBase64String(e):hr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nx(e){var t=e.mapValue.fields.__previous_value__;return PT(t)?nx(t):t}function Vf(e){var t=as(e.mapValue.fields.__local_write_time__.timestampValue);return new lr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(e){return e==null}function nv(e){return e===0&&1/e==-1/0}function rx(e){return typeof e=="number"&&Number.isInteger(e)&&!nv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(it.fromString(t))},e.fromName=function(t){return new e(it.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&it.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return it.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new it(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?PT(e)?4:10:_e()}function Hi(e,t){var n=Da(e);if(n!==Da(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Vf(e).isEqual(Vf(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=as(r.timestampValue),a=as(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return uc(r.bytesValue).isEqual(uc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Kt(r.geoPointValue.latitude)===Kt(i.geoPointValue.latitude)&&Kt(r.geoPointValue.longitude)===Kt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Kt(r.integerValue)===Kt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Kt(r.doubleValue),a=Kt(i.doubleValue);return s===a?nv(s)===nv(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return sc(e.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(FO(s)!==FO(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Hi(s[c],a[c])))return!1;return!0}(e,t);default:return _e()}}function jf(e,t){return(e.values||[]).find(function(n){return Hi(n,t)})!==void 0}function cc(e,t){var n=Da(e),r=Da(t);if(n!==r)return Ke(n,r);switch(n){case 0:return 0;case 1:return Ke(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=Kt(i.integerValue||i.doubleValue),c=Kt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return UO(e.timestampValue,t.timestampValue);case 4:return UO(Vf(e),Vf(t));case 5:return Ke(e.stringValue,t.stringValue);case 6:return function(i,s){var a=uc(i),c=uc(s);return a.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=Ke(a[l],c[l]);if(h!==0)return h}return Ke(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=Ke(Kt(i.latitude),Kt(s.latitude));return a!==0?a:Ke(Kt(i.longitude),Kt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=cc(a[l],c[l]);if(h)return h}return Ke(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var v=Ke(c[d],h[d]);if(v!==0)return v;var m=cc(a[c[d]],l[h[d]]);if(m!==0)return m}return Ke(c.length,h.length)}(e.mapValue,t.mapValue);default:throw _e()}}function UO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ke(e,t);var n=as(e),r=as(t),i=Ke(n.seconds,r.seconds);return i!==0?i:Ke(n.nanos,r.nanos)}function LT(e){return kw(e)}function kw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=as(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?uc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,be.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=kw(c[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+kw(r.fields[l])}return i+"}"}(e.mapValue):_e();var t,n}function rv(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Dw(e){return!!e&&"integerValue"in e}function xT(e){return!!e&&"arrayValue"in e}function VO(e){return!!e&&"nullValue"in e}function jO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cp(e){return!!e&&"mapValue"in e}function df(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Wa(e.mapValue.fields,function(i,s){return t.mapValue.fields[i]=df(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=df(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Cp(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=df(n)},e.prototype.setAll=function(t){var n=this,r=gi.emptyPath(),i={},s=[];t.forEach(function(c,l){if(!r.isImmediateParentOf(l)){var h=n.getFieldsMap(r);n.applyChanges(h,i,s),i={},s=[],r=l.popLast()}c?i[l.lastSegment()]=df(c):s.push(l.lastSegment())});var a=this.getFieldsMap(r);this.applyChanges(a,i,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Cp(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Hi(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var i=n.mapValue.fields[t.get(r)];Cp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Wa(n,function(c,l){return t[c]=l});for(var i=0,s=r;i<s.length;i++){var a=s[i];delete t[a]}},e.prototype.clone=function(){return new e(df(this.value))},e}();function ix(e){var t=[];return Wa(e.fields,function(n,r){var i=new gi([n]);if(Cp(r)){var s=ix(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];t.push(i.child(l))}}else t.push(i)}),new ac(t)}var Ln=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,We.min(),wr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,wr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,wr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=wr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=wr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Iz=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new Iz(e,t,n,r,i,s,a)}function _h(e){var t=fe(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+LT(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),qa(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ov(t.startAt)),t.endAt&&(n+="|ub:",n+=ov(t.endAt)),t.h=n}return t.h}function wm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Dz(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Hi(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!HO(e.startAt,t.startAt)&&HO(e.endAt,t.endAt)}function iv(e){return be.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Ir=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return ce(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new Sz(n,r,i):r==="array-contains"?new Nz(n,i):r==="in"?new Oz(n,i):r==="not-in"?new Rz(n,i):r==="array-contains-any"?new kz(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new Az(n,i):new Cz(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(cc(r,this.value)):r!==null&&Da(this.value)===Da(r)&&this.m(cc(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return _e()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Sz=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=be.fromName(i.referenceValue),s}return ce(t,e),t.prototype.matches=function(n){var r=be.comparator(n.key,this.key);return this.m(r)},t}(Ir),Az=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=ox("in",r),i}return ce(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ir),Cz=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=ox("not-in",r),i}return ce(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ir);function ox(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return be.fromName(r.referenceValue)})}var Nz=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return ce(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return xT(r)&&jf(r.arrayValue,this.value)},t}(Ir),Oz=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return ce(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&jf(this.value.arrayValue,r)},t}(Ir),Rz=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return ce(t,e),t.prototype.matches=function(n){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!jf(this.value.arrayValue,r)},t}(Ir),kz=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return ce(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!xT(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return jf(r.value.arrayValue,s)})},t}(Ir),$f=function(e,t){this.position=e,this.before=t};function ov(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return LT(t)}).join(",")}var Xu=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function Dz(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function BO(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?be.comparator(be.fromName(a.referenceValue),n.key):cc(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function HO(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Hi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So=function(e,t,n,r,i,s,a,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.p=null,this.T=null,this.startAt,this.endAt};function sx(e,t,n,r,i,s,a,c){return new So(e,t,n,r,i,s,a,c)}function bh(e){return new So(e)}function Np(e){return!qa(e.limit)&&e.limitType==="F"}function sv(e){return!qa(e.limit)&&e.limitType==="L"}function MT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function FT(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function UT(e){return e.collectionGroup!==null}function lc(e){var t=fe(e);if(t.p===null){t.p=[];var n=FT(t),r=MT(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Xu(n)),t.p.push(new Xu(gi.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var c=a[s];t.p.push(c),c.field.isKeyField()&&(i=!0)}if(!i){var l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Xu(gi.keyField(),l))}}}return t.p}function Wi(e){var t=fe(e);if(!t.T)if(t.limitType==="F")t.T=$O(t.path,t.collectionGroup,lc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=lc(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Xu(s.field,a))}var c=t.endAt?new $f(t.endAt.position,!t.endAt.before):null,l=t.startAt?new $f(t.startAt.position,!t.startAt.before):null;t.T=$O(t.path,t.collectionGroup,n,t.filters,t.limit,c,l)}return t.T}function ax(e,t,n){return new So(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wh(e,t){return wm(Wi(e),Wi(t))&&e.limitType===t.limitType}function ux(e){return _h(Wi(e))+"|lt:"+e.limitType}function Pw(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+LT(i.value);var i}).join(", ")+"]"),qa(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+ov(t.startAt)),t.endAt&&(n+=", endAt: "+ov(t.endAt)),"Target("+n+")"}(Wi(e))+"; limitType="+e.limitType+")"}function Eh(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):be.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!BO(n.startAt,lc(n),r))&&(!n.endAt||!BO(n.endAt,lc(n),r))}(e,t)}function cx(e){return function(t,n){for(var r=!1,i=0,s=lc(e);i<s.length;i++){var a=s[i],c=Pz(a,t,n);if(c!==0)return c;r=r||a.field.isKeyField()}return 0}}function Pz(e,t,n){var r=e.field.isKeyField()?be.comparator(t.key,n.key):function(i,s,a){var c=s.data.field(i),l=a.data.field(i);return c!==null&&l!==null?cc(c,l):_e()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nv(t)?"-0":t}}function fx(e){return{integerValue:""+e}}function hx(e,t){return rx(t)?fx(t):lx(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Em=function(){this._=void 0};function Lz(e,t,n){return e instanceof fc?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Pa?px(e,t):e instanceof La?vx(e,t):function(r,i){var s=dx(r,i),a=WO(s)+WO(r.A);return Dw(s)&&Dw(r.A)?fx(a):lx(r.R,a)}(e,t)}function xz(e,t,n){return e instanceof Pa?px(e,t):e instanceof La?vx(e,t):n}function dx(e,t){return e instanceof hc?Dw(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var fc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ce(t,e),t}(Em),Pa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ce(t,e),t}(Em);function px(e,t){for(var n=mx(t),r=function(a){n.some(function(c){return Hi(c,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var La=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return ce(t,e),t}(Em);function vx(e,t){for(var n=mx(t),r=function(a){n=n.filter(function(c){return!Hi(c,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var hc=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return ce(t,e),t}(Em);function WO(e){return Kt(e.integerValue||e.doubleValue)}function mx(e){return xT(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Th=function(e,t){this.field=e,this.transform=t},Mz=function(e,t){this.version=e,this.transformResults=t},On=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Op(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Tm=function(){};function Fz(e,t,n){e instanceof Ih?function(r,i,s){var a=r.value.clone(),c=KO(r.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof ws?function(r,i,s){if(Op(r.precondition,i)){var a=KO(r.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(gx(r)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Lw(e,t,n){e instanceof Ih?function(r,i,s){if(Op(r.precondition,i)){var a=r.value.clone(),c=YO(r.fieldTransforms,s,i);a.setAll(c),i.convertToFoundDocument(GO(i),a).setHasLocalMutations()}}(e,t,n):e instanceof ws?function(r,i,s){if(Op(r.precondition,i)){var a=YO(r.fieldTransforms,s,i),c=i.data;c.setAll(gx(r)),c.setAll(a),i.convertToFoundDocument(GO(i),c).setHasLocalMutations()}}(e,t,n):function(r,i){Op(r.precondition,i)&&i.convertToNoDocument(We.min())}(e,t)}function Uz(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),c=dx(s.transform,a||null);c!=null&&(n==null&&(n=wr.empty()),n.set(s.field,c))}return n||null}function qO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&sc(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof Pa&&h instanceof Pa||l instanceof La&&h instanceof La?sc(l.elements,h.elements,Hi):l instanceof hc&&h instanceof hc?Hi(l.A,h.A):l instanceof fc&&h instanceof fc}(a.transform,c.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function GO(e){return e.isFoundDocument()?e.version:We.min()}var Ih=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return ce(t,e),t}(Tm),ws=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.fieldMask=i,c.precondition=s,c.fieldTransforms=a,c.type=1,c}return ce(t,e),t}(Tm);function gx(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function KO(e,t,n){var r=new Map;Re(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,c=t.data.field(s.field);r.set(s.field,xz(a,c,n[i]))}return r}function YO(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],c=a.transform,l=n.data.field(a.field);r.set(a.field,Lz(c,l,t))}return r}var Gt,ze,Sh=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ce(t,e),t}(Tm),VT=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ce(t,e),t}(Tm),Vz=function(e){this.count=e};function yx(e){switch(e){case W.OK:return _e();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _e()}}function _x(e){if(e===void 0)return Yt("GRPC error has no .code"),W.UNKNOWN;switch(e){case Gt.OK:return W.OK;case Gt.CANCELLED:return W.CANCELLED;case Gt.UNKNOWN:return W.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return W.INTERNAL;case Gt.UNAVAILABLE:return W.UNAVAILABLE;case Gt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Gt.NOT_FOUND:return W.NOT_FOUND;case Gt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Gt.ABORTED:return W.ABORTED;case Gt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Gt.DATA_LOSS:return W.DATA_LOSS;default:return _e()}}(ze=Gt||(Gt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn=function(){function e(t,n){this.comparator=t,this.root=n||zo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,zo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zo.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new np(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new np(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new np(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new np(this.root,t,this.comparator,!0)},e}(),np=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),zo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();var t=this.left.check();if(t!==this.right.check())throw _e();return t+(this.isRed()?0:1)},e}();zo.EMPTY=null,zo.RED=!0,zo.BLACK=!1,zo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw _e()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new zo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn=function(){function e(t){this.comparator=t,this.data=new xn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new zO(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new zO(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),zO=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),jz=new xn(be.comparator);function di(){return jz}var $z=new xn(be.comparator);function xw(){return $z}var Bz=new xn(be.comparator);function Hz(){return Bz}var Wz=new rn(be.comparator);function bt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Wz,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var qz=new rn(Ke);function Im(){return qz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jT=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,$T.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(We.min(),r,Im(),di(),bt())},e}(),$T=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(hr.EMPTY_BYTE_STRING,n,bt(),bt(),bt())},e}(),Rp=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},bx=function(e,t){this.targetId=e,this.V=t},wx=function(e,t,n,r){n===void 0&&(n=hr.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},QO=function(){function e(){this.S=0,this.D=JO(),this.C=hr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=bt(),n=bt(),r=bt();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new $T(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=JO()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),Gz=function(){function e(t){this.W=t,this.G=new Map,this.H=di(),this.J=XO(),this.Y=new rn(Ke)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.O(t.resumeToken);break;case 1:i.K(),i.F||i.L(),i.O(t.resumeToken);break;case 2:i.K(),i.F||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.O(t.resumeToken));break;default:_e()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(iv(s))if(r===0){var a=new be(s.path);this.tt(n,a,Ln.newNoDocument(a,We.min()))}else Re(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,c){var l=n.ot(c);if(l){if(a.current&&iv(l.target)){var h=new be(l.target.path);n.H.get(h)!==null||n.at(c,h)||n.tt(c,h,Ln.newNoDocument(h,t))}a.$&&(r.set(c,a.M()),a.L())}});var i=bt();this.J.forEach(function(a,c){var l=!0;c.forEachWhile(function(h){var d=n.ot(h);return!d||d.purpose===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new jT(t,r,this.Y,this.H,i);return this.H=di(),this.J=XO(),this.Y=new rn(Ke),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new QO,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new rn(Ke),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||se("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new QO),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function XO(){return new xn(be.comparator)}function JO(){return new xn(be.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kz={asc:"ASCENDING",desc:"DESCENDING"},Yz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zz=function(e,t){this.databaseId=e,this.I=t};function Bf(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ex(e,t){return e.I?t.toBase64():t.toUint8Array()}function Qz(e,t){return Bf(e,t.toTimestamp())}function Gn(e){return Re(!!e),We.fromTimestamp(function(t){var n=as(t);return new lr(n.seconds,n.nanos)}(e))}function BT(e,t){return function(n){return new it(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Tx(e){var t=it.fromString(e);return Re(Rx(t)),t}function Hf(e,t){return BT(e.databaseId,t.path)}function po(e,t){var n=Tx(t);if(n.get(1)!==e.databaseId.projectId)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new be(Sx(n))}function Mw(e,t){return BT(e.databaseId,t)}function Ix(e){var t=Tx(e);return t.length===4?it.emptyPath():Sx(t)}function Wf(e){return new it(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sx(e){return Re(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function ZO(e,t,n){return{name:Hf(e,t),fields:n.value.mapValue.fields}}function Xz(e,t,n){var r=po(e,t.name),i=Gn(t.updateTime),s=new wr({mapValue:{fields:t.fields}}),a=Ln.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function av(e,t){var n;if(t instanceof Ih)n={update:ZO(e,t.key,t.value)};else if(t instanceof Sh)n={delete:Hf(e,t.key)};else if(t instanceof ws)n={update:ZO(e,t.key,t.data),updateMask:n6(t.fieldMask)};else{if(!(t instanceof VT))return _e();n={verify:Hf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof fc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof La)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hc)return{fieldPath:s.field.canonicalString(),increment:a.A};throw _e()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Qz(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_e()}(e,t.precondition)),n}function eR(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?On.updateTime(Gn(h.updateTime)):h.exists!==void 0?On.exists(h.exists):On.none()}(t.currentDocument):On.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(d,v){var m=null;if("setToServerValue"in v)Re(v.setToServerValue==="REQUEST_TIME"),m=new fc;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new Pa(y)}else if("removeAllFromArray"in v){var b=v.removeAllFromArray.values||[];m=new La(b)}else"increment"in v?m=new hc(d,v.increment):_e();var E=gi.fromServerFormat(v.fieldPath);return new Th(E,m)}(e,h)}):[];if(t.update){t.update.name;var i=po(e,t.update.name),s=new wr({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var d=h.fieldPaths||[];return new ac(d.map(function(v){return gi.fromServerFormat(v)}))}(t.updateMask);return new ws(i,s,a,n,r)}return new Ih(i,s,n,r)}if(t.delete){var c=po(e,t.delete);return new Sh(c,n)}if(t.verify){var l=po(e,t.verify);return new VT(l,n)}return _e()}function Ax(e,t){return{documents:[Mw(e,t.path)]}}function Cx(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Mw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Mw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(d){if(d.op==="=="){if(jO(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NAN"}};if(VO(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(jO(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NOT_NAN"}};if(VO(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nu(d.field),op:Zz(d.op),value:d.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:Nu(h.field),direction:Jz(h.dir)}}(l)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.I||qa(l)?l:{value:l}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=tR(t.startAt)),t.endAt&&(n.structuredQuery.endAt=tR(t.endAt)),n}function Nx(e){var t=Ix(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=Ox(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(v){return function(m){return new Xu(Hu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var l=null;n.limit&&(l=function(v){var m;return qa(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=nR(n.startAt));var d=null;return n.endAt&&(d=nR(n.endAt)),sx(t,i,c,a,l,"F",h,d)}function Ox(e){return e?e.unaryFilter!==void 0?[t6(e)]:e.fieldFilter!==void 0?[e6(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return Ox(t)}).reduce(function(t,n){return t.concat(n)}):_e():[]}function tR(e){return{before:e.before,values:e.position}}function nR(e){var t=!!e.before,n=e.values||[];return new $f(n,t)}function Jz(e){return Kz[e]}function Zz(e){return Yz[e]}function Nu(e){return{fieldPath:e.canonicalString()}}function Hu(e){return gi.fromServerFormat(e.fieldPath)}function e6(e){return Ir.create(Hu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return _e()}}(e.fieldFilter.op),e.fieldFilter.value)}function t6(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Hu(e.unaryFilter.field);return Ir.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Hu(e.unaryFilter.field);return Ir.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hu(e.unaryFilter.field);return Ir.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Hu(e.unaryFilter.field);return Ir.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return _e()}}function n6(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function Rx(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=rR(t)),t=r6(e.get(n),t);return rR(t)}function r6(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function rR(e){return e+""}function co(e){var t=e.length;if(Re(t>=2),t===2)return Re(e.charAt(0)===""&&e.charAt(1)===""),it.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&_e(),e.charAt(a+1)){case"":var c=e.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:_e()}s=a+2}return new it(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i6=function(e,t){this.seconds=e,this.nanoseconds=t},_r=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};_r.store="owner",_r.key="owner";var ns=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ns.store="mutationQueues",ns.keyPath="userId";var It=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};It.store="mutations",It.keyPath="batchId",It.userMutationsIndex="userMutationsIndex",It.userMutationsKeyPath=["userId","batchId"];var Sn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,pi(n)]},e.key=function(t,n,r){return[t,pi(n),r]},e}();Sn.store="documentMutations",Sn.PLACEHOLDER=new Sn;var o6=function(e,t){this.path=e,this.readTime=t},s6=function(e,t){this.path=e,this.version=t},Ft=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Ft.store="remoteDocuments",Ft.readTimeIndex="readTimeIndex",Ft.readTimeIndexPath="readTime",Ft.collectionReadTimeIndex="collectionReadTimeIndex",Ft.collectionReadTimeIndexPath=["parentPath","readTime"];var Pi=function(e){this.byteSize=e};Pi.store="remoteDocumentGlobal",Pi.key="remoteDocumentGlobalKey";var ur=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};ur.store="targets",ur.keyPath="targetId",ur.queryTargetsIndexName="queryTargetsIndex",ur.queryTargetsKeyPath=["canonicalId","targetId"];var gn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};gn.store="targetDocuments",gn.keyPath=["targetId","path"],gn.documentTargetsIndex="documentTargetsIndex",gn.documentTargetsKeyPath=["path","targetId"];var br=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};br.key="targetGlobalKey",br.store="targetGlobal";var _a=function(e,t){this.collectionId=e,this.parent=t};_a.store="collectionParents",_a.keyPath=["collectionId","parent"];var vo=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};vo.store="clientMetadata",vo.keyPath="clientId";var dc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};dc.store="bundles",dc.keyPath="bundleId";var pc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};pc.store="namedQueries",pc.keyPath="name";var a6=rt(rt([],rt(rt([],rt(rt([],rt(rt([],[ns.store,It.store,Sn.store,Ft.store,ur.store,_r.store,br.store,gn.store]),[vo.store])),[Pi.store])),[_a.store])),[dc.store,pc.store]),kx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dx=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),dr=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},re=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(c){return c?e.resolve(c):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),Px=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new dr,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new pf(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=HT(i.target.error);r.ft.reject(new pf(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new pf(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(se("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new c6(n)},e}(),vc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Na())===12.2&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return se("SimpleDb","Removing database:",t),sa(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Na(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=bz)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return B(this,void 0,void 0,function(){var n,r=this;return $(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(se("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new pf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new te(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new pf(t,h))},c.onupgradeneeded=function(l){se("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.wt.Rt(h,c.transaction,l.oldVersion,r.version).next(function(){se("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return B(this,void 0,void 0,function(){var s,a,c,l,h;return $(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,c=function(){var v,m,y,b,E;return $(this,function(T){switch(T.label){case 0:++a,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,l.At(t)];case 2:return l.db=T.sent(),v=Px.open(l.db,t,s?"readonly":"readwrite",r),m=i(v).catch(function(N){return v.abort(N),re.reject(N)}).toPromise(),y={},m.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(T.sent(),m),y)];case 4:return b=T.sent(),E=b.name!=="FirebaseError"&&a<3,se("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),l.close(),E?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},l=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),u6=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return sa(this.Pt.delete())},e}(),pf=function(e){function t(n,r){var i=this;return(i=e.call(this,W.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return ce(t,e),t}(te);function Ga(e){return e.name==="IndexedDbTransactionError"}var c6=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(se("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),sa(r)},e.prototype.add=function(t){return se("SimpleDb","ADD",this.store.name,t,t),sa(this.store.add(t))},e.prototype.get=function(t){var n=this;return sa(this.store.get(t)).next(function(r){return r===void 0&&(r=null),se("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return se("SimpleDb","DELETE",this.store.name,t),sa(this.store.delete(t))},e.prototype.count=function(){return se("SimpleDb","COUNT",this.store.name),sa(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.kt=function(t,n){se("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var i=this.cursor(r);return this.xt(i,function(s,a,c){return c.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new re(function(r,i){n.onerror=function(s){var a=HT(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new re(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var c=a.target.result;if(c){var l=new u6(c),h=n(c.primaryKey,c.value,l);if(h instanceof re){var d=h.catch(function(v){return l.done(),re.reject(v)});r.push(d)}l.isDone?i():l.Dt===null?c.continue():c.continue(l.Dt)}else i()}}).next(function(){return re.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function sa(e){return new re(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=HT(r.target.error);n(i)}})}var iR=!1;function HT(e){var t=vc._t(Na());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new te("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return iR||(iR=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oR=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return ce(t,e),t}(Dx);function vr(e,t){var n=fe(e);return vc.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WT=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&Fz(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&Lw(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&Lw(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(We.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},bt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&sc(this.mutations,t.mutations,function(n,r){return qO(n,r)})&&sc(this.baseMutations,t.baseMutations,function(n,r){return qO(n,r)})},e}(),l6=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){Re(t.mutations.length===r.length);for(var i=Hz(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),Sm=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=We.min()),a===void 0&&(a=We.min()),c===void 0&&(c=hr.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Lx=function(e){this.Lt=e};function Fw(e,t){if(t.document)return Xz(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=be.fromSegments(t.noDocument.path),r=gc(t.noDocument.readTime),i=Ln.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=be.fromSegments(t.unknownDocument.path);return r=gc(t.unknownDocument.version),Ln.newUnknownDocument(s,r)}return _e()}function sR(e,t,n){var r=qT(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,m){return{name:Hf(v,m.key),fields:m.data.value.mapValue.fields,updateTime:Bf(v,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ft(null,null,s,a,r,i)}if(t.isNoDocument()){var c=t.key.path.toArray(),l=mc(t.version);return a=t.hasCommittedMutations,new Ft(null,new o6(c,l),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),d=mc(t.version);return new Ft(new s6(h,d),null,null,!0,r,i)}return _e()}function qT(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xx(e){var t=new lr(e[0],e[1]);return We.fromTimestamp(t)}function mc(e){var t=e.toTimestamp();return new i6(t.seconds,t.nanoseconds)}function gc(e){var t=new lr(e.seconds,e.nanoseconds);return We.fromTimestamp(t)}function Mu(e,t){for(var n=(t.baseMutations||[]).map(function(l){return eR(e.Lt,l)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(l){return eR(e.Lt,l)}),c=lr.fromMillis(t.localWriteTimeMs);return new WT(t.batchId,c,n,a)}function rf(e){var t,n,r=gc(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?gc(e.lastLimboFreeSnapshotVersion):We.min();return e.query.documents!==void 0?(Re((n=e.query).documents.length===1),t=Wi(bh(Ix(n.documents[0])))):t=function(s){return Wi(Nx(s))}(e.query),new Sm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,hr.fromBase64String(e.resumeToken))}function Mx(e,t){var n,r=mc(t.snapshotVersion),i=mc(t.lastLimboFreeSnapshotVersion);n=iv(t.target)?Ax(e.Lt,t.target):Cx(e.Lt,t.target);var s=t.resumeToken.toBase64();return new ur(t.targetId,_h(t.target),r,s,t.sequenceNumber,i,n)}function Fx(e){var t=Nx({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ax(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f6=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return aR(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:gc(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return aR(t).put({bundleId:(r=n).id,createTime:mc(Gn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return uR(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:Fx(i.bundledQuery),readTime:gc(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return uR(t).put(function(r){return{name:r.name,readTime:mc(Gn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function aR(e){return vr(e,dc.store)}function uR(e){return vr(e,pc.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h6=function(){function e(){this.Bt=new GT}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),re.resolve()},e.prototype.getCollectionParents=function(t,n){return re.resolve(this.Bt.getEntries(n))},e}(),GT=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new rn(it.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new rn(it.comparator)).toArray()},e}(),d6=function(){function e(){this.qt=new GT}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:pi(s)};return cR(t).put(a)}return re.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[Z1(n),""],!1,!0);return cR(t).Nt(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(co(l.parent))}return r})},e}();function cR(e){return vr(e,_a.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ri=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(e,t,n){var r=e.store(It.store),i=e.store(Sn.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.$t({range:a},function(b,E,T){return c++,T.delete()});s.push(l.next(function(){Re(c===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var m=v[d],y=Sn.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return re.waitFor(s).next(function(){return h})}function uv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _e();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(41943040,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);var p6=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Kt={}}return e.Qt=function(t,n,r,i){return Re(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vo(t).$t({index:It.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=Fu(t),c=Vo(t);return c.add({}).next(function(l){Re(typeof l=="number");for(var h=new WT(l,n,r,i),d=function(N,L,A){var D=A.baseMutations.map(function(R){return av(N.Lt,R)}),F=A.mutations.map(function(R){return av(N.Lt,R)});return new It(L,A.batchId,A.localWriteTime.toMillis(),D,F)}(s.R,s.userId,h),v=[],m=new rn(function(N,L){return Ke(N.canonicalString(),L.canonicalString())}),y=0,b=i;y<b.length;y++){var E=b[y],T=Sn.key(s.userId,E.key.path,l);m=m.add(E.key.path.popLast()),v.push(c.put(d)),v.push(a.put(T,Sn.PLACEHOLDER))}return m.forEach(function(N){v.push(s.Ut.addToCollectionParentIndex(t,N))}),t.addOnCommittedListener(function(){s.Kt[l]=h.keys()}),re.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Vo(t).get(n).next(function(i){return i?(Re(i.userId===r.userId),Mu(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?re.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Vo(t).$t({index:It.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(Re(l.batchId>=i),a=Mu(r.R,l)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Vo(t).$t({index:It.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vo(t).Nt(It.userMutationsIndex,r).next(function(i){return i.map(function(s){return Mu(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=Sn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Fu(t).$t({range:s},function(c,l,h){var d=c[0],v=c[1],m=c[2],y=co(v);if(d===r.userId&&n.path.isEqual(y))return Vo(t).get(m).next(function(b){if(!b)throw _e();Re(b.userId===r.userId),a.push(Mu(r.R,b))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new rn(Ke),s=[];return n.forEach(function(a){var c=Sn.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=Fu(t).$t({range:l},function(d,v,m){var y=d[0],b=d[1],E=d[2],T=co(b);y===r.userId&&a.path.isEqual(T)?i=i.add(E):m.done()});s.push(h)}),re.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=Sn.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new rn(Ke);return Fu(t).$t({range:c},function(h,d,v){var m=h[0],y=h[1],b=h[2],E=co(y);m===r.userId&&i.isPrefixOf(E)?E.length===s&&(l=l.add(b)):v.done()}).next(function(){return r.Wt(t,l)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(Vo(t).get(a).next(function(c){if(c===null)throw _e();Re(c.userId===r.userId),i.push(Mu(r.R,c))}))}),re.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return Ux(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),re.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return re.resolve();var i=IDBKeyRange.lowerBound(Sn.prefixForUser(n.userId)),s=[];return Fu(t).$t({range:i},function(a,c,l){if(a[0]===n.userId){var h=co(a[1]);s.push(h)}else l.done()}).next(function(){Re(s.length===0)})})},e.prototype.containsKey=function(t,n){return Vx(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return jx(t).get(this.userId).next(function(r){return r||new ns(n.userId,-1,"")})},e}();function Vx(e,t,n){var r=Sn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Fu(e).$t({range:s,Ft:!0},function(c,l,h){var d=c[0],v=c[1];c[2],d===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function Vo(e){return vr(e,It.store)}function Fu(e){return vr(e,Sn.store)}function jx(e){return vr(e,ns.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cv=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),v6=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new cv(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return We.fromTimestamp(new lr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ou(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return Re(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return Ou(t).$t(function(c,l){var h=rf(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return re.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Ou(t).$t(function(r,i){var s=rf(i);n(s)})},e.prototype.Xt=function(t){return fR(t).get(br.key).next(function(n){return Re(n!==null),n})},e.prototype.Zt=function(t,n){return fR(t).put(br.key,n)},e.prototype.te=function(t,n){return Ou(t).put(Mx(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=_h(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Ou(t).$t({range:i,index:ur.queryTargetsIndexName},function(a,c,l){var h=rf(c);wm(n,h.target)&&(s=h,l.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=Qo(t);return n.forEach(function(c){var l=pi(c.path);s.push(a.put(new gn(r,l))),s.push(i.referenceDelegate.addReference(t,r,c))}),re.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=Qo(t);return re.forEach(n,function(a){var c=pi(a.path);return re.waitFor([s.delete([r,c]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Qo(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Qo(t),s=bt();return i.$t({range:r,Ft:!0},function(a,c,l){var h=co(a[1]),d=new be(h);s=s.add(d)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=pi(n.path),i=IDBKeyRange.bound([r],[Z1(r)],!1,!0),s=0;return Qo(t).$t({index:gn.documentTargetsIndex,Ft:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Ou(t).get(n).next(function(r){return r?rf(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(e){return vr(e,ur.store)}function fR(e){return vr(e,br.store)}function Qo(e){return vr(e,gn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(e){return B(this,void 0,void 0,function(){return $(this,function(t){if(e.code!==W.FAILED_PRECONDITION||e.message!==kx)throw e;return se("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=Ke(n,i);return a===0?Ke(r,s):a}var m6=function(){function e(t){this.ne=t,this.buffer=new rn(hR),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();hR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),g6=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;se("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return B(n,void 0,void 0,function(){var i;return $(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Ga(i=s.sent())?(se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ka(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),y6=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return re.resolve(Tr.o);var i=new m6(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(lR)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),lR):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,c,l,h,d=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>d.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.maximumSequenceNumbersToCollect+" from "+m),i=d.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),d.nthSequenceNumber(t,i)}).next(function(m){return r=m,c=Date.now(),d.removeTargets(t,r,n)}).next(function(m){return s=m,l=Date.now(),d.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),Rw()<=Ze.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+m+" documents in "+(h-l)+`ms
Total Duration: `+(h-v)+"ms"),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),_6=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new y6(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return rp(t,r)},e.prototype.removeReference=function(t,n,r){return rp(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return rp(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return jx(r).Ot(function(a){return Vx(r,a,i).next(function(c){return c&&(s=!0),re.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(c,l){if(l<=n){var h=r._e(t,c).next(function(d){if(!d)return a++,i.getEntry(t,c).next(function(){return i.removeEntry(c),Qo(t).delete([0,pi(c.path)])})});s.push(h)}}).next(function(){return re.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return rp(t,n)},e.prototype.we=function(t,n){var r,i=Qo(t),s=Tr.o;return i.$t({index:gn.documentTargetsIndex},function(a,c){var l=a[0];a[1];var h=c.path,d=c.sequenceNumber;l===0?(s!==Tr.o&&n(new be(co(r)),s),s=d,r=h):s=Tr.o}).next(function(){s!==Tr.o&&n(new be(co(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function rp(e,t){return Qo(e).put(function(n,r){return new gn(0,pi(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hc=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.equalsFn(c,t))return l}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Wa(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];t(c,l)}})},e.prototype.isEmpty=function(){return ex(this.inner)},e}(),$x=function(){function e(){this.changes=new Hc(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:We.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Ln.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?re.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),b6=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Ko(t).put(ip(n),r)},e.prototype.removeEntry=function(t,n){var r=Ko(t),i=ip(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Ko(t).get(ip(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Ko(t).get(ip(n)).next(function(i){return{document:r.ye(n,i),size:uv(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=di();return this.pe(t,n,function(s,a){var c=r.ye(s,a);i=i.insert(s,c)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=di(),s=new xn(be.comparator);return this.pe(t,n,function(a,c){var l=r.ye(a,c);i=i.insert(a,l),s=s.insert(a,uv(c))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return re.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Ko(t).$t({range:i},function(c,l,h){for(var d=be.fromSegments(c);a&&be.comparator(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=di(),a=n.path.length+1,c={};if(r.isEqual(We.min())){var l=n.path.toArray();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.toArray(),d=qT(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=Ft.collectionReadTimeIndex}return Ko(t).$t(c,function(v,m,y){if(v.length===a){var b=Fw(i.R,m);n.path.isPrefixOf(b.key.path)?Eh(n,b)&&(s=s.insert(b.key,b)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new w6(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return dR(t).get(Pi.key).next(function(n){return Re(!!n),n})},e.prototype.me=function(t,n){return dR(t).put(Pi.key,n)},e.prototype.ye=function(t,n){if(n){var r=Fw(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(We.min()))return r}return Ln.newInvalidDocument(t)},e}(),w6=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Hc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return ce(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new rn(function(c,l){return Ke(c.canonicalString(),l.canonicalString())});return this.changes.forEach(function(c,l){var h=r.Ae.get(c);if(l.document.isValidDocument()){var d=sR(r.Ie.R,l.document,r.getReadTime(c));a=a.add(c.path.popLast());var v=uv(d);s+=v-h,i.push(r.Ie.addEntry(n,c,d))}else if(s-=h,r.trackRemovals){var m=sR(r.Ie.R,Ln.newNoDocument(c,We.min()),r.getReadTime(c));i.push(r.Ie.addEntry(n,c,m))}else i.push(r.Ie.removeEntry(n,c))}),a.forEach(function(c){i.push(r.Ie.Ut.addToCollectionParentIndex(n,c))}),i.push(this.Ie.updateMetadata(n,s)),re.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(c,l){i.Ae.set(c,l)}),a})},t}($x);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(e){return vr(e,Pi.store)}function Ko(e){return vr(e,Ft.store)}function ip(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E6=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;Re(r<i&&r>=0&&i<=11);var a=new Px("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(_r.store)}(t),function(l){l.createObjectStore(ns.store,{keyPath:ns.keyPath}),l.createObjectStore(It.store,{keyPath:It.keyPath,autoIncrement:!0}).createIndex(It.userMutationsIndex,It.userMutationsKeyPath,{unique:!0}),l.createObjectStore(Sn.store)}(t),pR(t),function(l){l.createObjectStore(Ft.store)}(t));var c=re.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(gn.store),l.deleteObjectStore(ur.store),l.deleteObjectStore(br.store)}(t),pR(t)),c=c.next(function(){return function(l){var h=l.store(br.store),d=new br(0,0,We.min().toTimestamp(),0);return h.put(br.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(It.store).Nt().next(function(d){l.deleteObjectStore(It.store),l.createObjectStore(It.store,{keyPath:It.keyPath,autoIncrement:!0}).createIndex(It.userMutationsIndex,It.userMutationsKeyPath,{unique:!0});var v=h.store(It.store),m=d.map(function(y){return v.put(y)});return re.waitFor(m)})}(t,a)})),c=c.next(function(){(function(l){l.createObjectStore(vo.store,{keyPath:vo.keyPath})})(t)})),r<5&&i>=5&&(c=c.next(function(){return s.Re(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(Pi.store)}(t),s.be(a)})),r<7&&i>=7&&(c=c.next(function(){return s.ve(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(t),function(l){var h=l.objectStore(Ft.store);h.createIndex(Ft.readTimeIndex,Ft.readTimeIndexPath,{unique:!1}),h.createIndex(Ft.collectionReadTimeIndex,Ft.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Ve(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(dc.store,{keyPath:dc.keyPath})})(t),function(l){l.createObjectStore(pc.store,{keyPath:pc.keyPath})}(t)})),c},e.prototype.be=function(t){var n=0;return t.store(Ft.store).$t(function(r,i){n+=uv(i)}).next(function(){var r=new Pi(n);return t.store(Pi.store).put(Pi.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(ns.store),i=t.store(It.store);return r.Nt().next(function(s){return re.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(It.userMutationsIndex,c).next(function(l){return re.forEach(l,function(h){Re(h.userId===a.userId);var d=Mu(n.R,h);return Ux(t,a.userId,d).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(gn.store),r=t.store(Ft.store);return t.store(br.store).get(br.key).next(function(i){var s=[];return r.$t(function(a,c){var l=new it(a),h=function(d){return[0,pi(d)]}(l);s.push(n.get(h).next(function(d){return d?re.resolve():function(v){return n.put(new gn(0,pi(v),i.highestListenSequenceNumber))}(l)}))}).next(function(){return re.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(_a.store,{keyPath:_a.keyPath});var r=n.store(_a.store),i=new GT,s=function(a){if(i.add(a)){var c=a.lastSegment(),l=a.popLast();return r.put({collectionId:c,parent:pi(l)})}};return n.store(Ft.store).$t({Ft:!0},function(a,c){var l=new it(a);return s(l.popLast())}).next(function(){return n.store(Sn.store).$t({Ft:!0},function(a,c){a[0];var l=a[1];a[2];var h=co(l);return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(ur.store);return r.$t(function(i,s){var a=rf(s),c=Mx(n.R,a);return r.put(c)})},e}();function pR(e){e.createObjectStore(gn.store,{keyPath:gn.keyPath}).createIndex(gn.documentTargetsIndex,gn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ur.store,{keyPath:ur.keyPath}).createIndex(ur.queryTargetsIndexName,ur.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(br.store)}var bb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",T6=function(){function e(t,n,r,i,s,a,c,l,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=c,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new te(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _6(this,i),this.Le=n+"main",this.R=new Lx(l),this.Be=new vc(this.Le,11,new E6(this.R)),this.qe=new v6(this.referenceDelegate,this.R),this.Ut=new d6,this.Ue=function(v,m){return new b6(v,m)}(this.R,this.Ut),this.Ke=new f6,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,d===!1&&Yt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new te(W.FAILED_PRECONDITION,bb);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Tr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return B(n,void 0,void 0,function(){return $(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return B(n,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return B(n,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return op(n).put(new vo(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ga(n))return se("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Gl(t).get(_r.key).next(function(r){return re.resolve(n.tn(r))})},e.prototype.en=function(t){return op(t).delete(this.clientId)},e.prototype.nn=function(){return B(this,void 0,void 0,function(){var t,n,r,i,s=this;return $(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=vr(c,vo.store);return l.Nt().next(function(h){var d=s.rn(h,18e5),v=h.filter(function(m){return d.indexOf(m)===-1});return re.forEach(v,function(m){return l.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)i=r[n],this.Qe.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?re.resolve(!0):Gl(t).get(_r.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new te(W.FAILED_PRECONDITION,bb);return!1}}return!(!n.networkEnabled||!n.inForeground)||op(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&se("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return B(this,void 0,void 0,function(){var t=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[_r.store,vo.store],function(r){var i=new oR(r,Tr.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return op(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return p6.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;se("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,a6,function(c){return s=new oR(c,i.Ne?i.Ne.next():Tr.o),n==="readwrite-primary"?i.Je(s).next(function(l){return!!l||i.Ye(s)}).next(function(l){if(!l)throw Yt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new te(W.FAILED_PRECONDITION,kx);return r(s)}).next(function(l){return i.Ze(s).next(function(){return l})}):i.dn(s).next(function(){return r(s)})}).then(function(c){return s.raiseOnCommittedEvent(),c})},e.prototype.dn=function(t){var n=this;return Gl(t).get(_r.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new te(W.FAILED_PRECONDITION,bb)})},e.prototype.Ze=function(t){var n=new _r(this.clientId,this.allowTabSynchronization,Date.now());return Gl(t).put(_r.key,n)},e.yt=function(){return vc.yt()},e.prototype.Xe=function(t){var n=this,r=Gl(t);return r.get(_r.key).next(function(i){return n.tn(i)?(se("IndexedDbPersistence","Releasing primary lease."),r.delete(_r.key)):re.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Yt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),w4()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return se("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Yt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Yt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Gl(e){return vr(e,_r.store)}function op(e){return vr(e,vo.store)}function KT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Bx=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):UT(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new be(n)).next(function(r){var i=xw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=xw();return this.Ut.getCollectionParents(t,s).next(function(c){return re.forEach(c,function(l){var h=function(d,v){return new So(v,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return i.An(t,h,r).next(function(d){d.forEach(function(v,m){a=a.insert(v,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(c){return i=c,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(c){return s=c,a.Rn(t,s,i).next(function(l){i=l;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],m=0,y=v.mutations;m<y.length;m++){var b=y[m],E=b.key,T=i.get(E);T==null&&(T=Ln.newInvalidDocument(E),i=i.insert(E,T)),Lw(b,T,v.localWriteTime),T.isFoundDocument()||(i=i.remove(E))}})}).next(function(){return i.forEach(function(c,l){Eh(n,l)||(i=i.remove(c))}),i})},e.prototype.Rn=function(t,n,r){for(var i=bt(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof ws&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(m,y){y.isFoundDocument()&&(d=d.insert(m,y))}),d})},e}(),I6=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=bt(),i=bt(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Hx=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(We.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var c=s.Cn(n,a);return(Np(n)||sv(n))&&s.Nn(n.limitType,c,i,r)?s.Dn(t,n):(Rw()<=Ze.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pw(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(l){return c.forEach(function(h){l=l.insert(h.key,h)}),l}))})},e.prototype.Cn=function(t,n){var r=new rn(cx(t));return n.forEach(function(i,s){Eh(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return Rw()<=Ze.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Pw(n)),this.Sn.getDocumentsMatchingQuery(t,n,We.min())},e}(),S6=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.kn=new xn(Ke),this.Fn=new Hc(function(s){return _h(s)},wm),this.$n=We.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Bx(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(e,t,n,r){return new S6(e,t,n,r)}function qx(e,t){return B(this,void 0,void 0,function(){var n,r,i,s;return $(this,function(a){switch(a.label){case 0:return n=fe(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n._n.getAllMutationBatches(c).next(function(h){return l=h,r=n.persistence.getMutationQueue(t),i=new Bx(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(c)}).next(function(h){for(var d=[],v=[],m=bt(),y=0,b=l;y<b.length;y++){var E=b[y];d.push(E.batchId);for(var T=0,N=E.mutations;T<N.length;T++){var L=N[T];m=m.add(L.key)}}for(var A=0,D=h;A<D.length;A++){var F=D[A];v.push(F.batchId);for(var R=0,j=F.mutations;R<j.length;R++){var H=j[R];m=m.add(H.key)}}return i.pn(c,m).next(function(Q){return{Ln:Q,removedBatchIds:d,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function A6(e,t){var n=fe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(a,c,l,h){var d=l.batch,v=d.keys(),m=re.resolve();return v.forEach(function(y){m=m.next(function(){return h.getEntry(c,y)}).next(function(b){var E=l.docVersions.get(y);Re(E!==null),b.version.compareTo(E)<0&&(d.applyToRemoteDocument(b,l),b.isValidDocument()&&h.addEntry(b,l.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(c,d)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function Gx(e){var t=fe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function C6(e,t){var n=fe(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var c=[];t.targetChanges.forEach(function(d,v){var m=i.get(v);if(m){c.push(n.qe.removeMatchingKeys(s,d.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,d.addedDocuments,v)}));var y=d.resumeToken;if(y.approximateByteSize()>0){var b=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,b),function(E,T,N){return Re(T.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(m,b,d)&&c.push(n.qe.updateTargetData(s,b))}}});var l=di();if(t.documentUpdates.forEach(function(d,v){t.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(N6(s,a,t.documentUpdates,r).next(function(d){l=d})),!r.isEqual(We.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(d){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});c.push(h)}return re.waitFor(c).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,l)}).next(function(){return l})}).then(function(s){return n.kn=i,s})}function N6(e,t,n,r,i){var s=bt();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var c=di();return n.forEach(function(l,h){var d=a.get(l),v=r;h.isNoDocument()&&h.version.isEqual(We.min())?(t.removeEntry(l,v),c=c.insert(l,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h,v),c=c.insert(l,h)):se("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",h.version)}),c})}function O6(e,t){var n=fe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function lv(e,t){var n=fe(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,re.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new Sm(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.kn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function yc(e,t,n){return B(this,void 0,void 0,function(){var r,i,s,a;return $(this,function(c){switch(c.label){case 0:r=fe(e),i=r.kn.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.referenceDelegate.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!Ga(a=c.sent()))throw a;return se("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}})})}function fv(e,t,n){var r=fe(e),i=We.min(),s=bt();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var d=fe(c),v=d.Fn.get(h);return v!==void 0?re.resolve(d.kn.get(v)):d.qe.getTargetData(l,h)}(r,a,Wi(t)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,c.targetId).next(function(l){s=l})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:We.min(),n?s:bt())}).next(function(c){return{documents:c,Bn:s}})})}function Kx(e,t){var n=fe(e),r=fe(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function Yx(e){var t=fe(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=fe(r),c=di(),l=qT(s),h=Ko(i),d=IDBKeyRange.lowerBound(l,!0);return h.$t({index:Ft.readTimeIndex,range:d},function(v,m){var y=Fw(a.R,m);c=c.insert(y.key,y),l=m.readTime}).next(function(){return{wn:c,readTime:xx(l)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,i=n.readTime;return t.$n=i,r})}function R6(e){return B(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,(t=fe(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Ko(i),a=We.min();return s.$t({index:Ft.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=xx(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k6=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return re.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Gn(r.createTime)}),re.resolve()},e.prototype.getNamedQuery=function(t,n){return re.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Fx(r.bundledQuery),readTime:Gn(r.readTime)}}(n)),re.resolve()},e}(),YT=function(){function e(){this.Wn=new rn(un.Gn),this.zn=new rn(un.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new un(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new un(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new be(new it([])),i=new un(r,t),s=new un(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(c){n.Yn(c),a.push(c.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new be(new it([])),r=new un(n,t),i=new un(n,t+1),s=bt();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new un(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),un=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return be.comparator(t.key,n.key)||Ke(t.ns,n.ns)},e.Hn=function(t,n){return Ke(t.ns,n.ns)||be.comparator(t.key,n.key)},e}(),D6=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new rn(un.Gn)}return e.prototype.checkEmpty=function(t){return re.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new WT(s,n,r,i);this._n.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.rs=this.rs.add(new un(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return re.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return re.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return re.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return re.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return re.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new un(n,0),s=new un(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(c){var l=r.os(c.ns);a.push(l)}),re.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new rn(Ke);return n.forEach(function(s){var a=new un(s,0),c=new un(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,c],function(l){i=i.add(l.ns)})}),re.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;be.isDocumentKey(s)||(s=s.child(""));var a=new un(new be(s),0),c=new rn(Ke);return this.rs.forEachWhile(function(l){var h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(l.ns)),!0)},a),re.resolve(this.us(c))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Re(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return re.forEach(n.mutations,function(s){var a=new un(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new un(n,0),i=this.rs.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,re.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),P6=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new xn(be.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:c,readTime:r}),this.size+=c-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return re.resolve(r?r.document.clone():Ln.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=di();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():Ln.newInvalidDocument(s))}),re.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=di(),s=new be(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var c=a.getNext(),l=c.key,h=c.value,d=h.document,v=h.readTime;if(!n.path.isPrefixOf(l.path))break;v.compareTo(r)<=0||Eh(n,d)&&(i=i.insert(d.key,d.clone()))}return re.resolve(i)},e.prototype.fs=function(t,n){return re.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new L6(this)},e.prototype.getSize=function(t){return re.resolve(this.size)},e}(),L6=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return ce(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),re.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}($x),x6=function(){function e(t){this.persistence=t,this.ds=new Hc(function(n){return _h(n)},wm),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.ws=0,this._s=new YT,this.targetCount=0,this.ys=cv.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),re.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return re.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return re.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),re.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),re.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new cv(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,re.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),re.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,re.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.ds.delete(c),a.push(i.removeMatchingKeysForTargetId(t,l.targetId)),s++)}),re.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return re.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return re.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),re.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),re.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),re.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return re.resolve(r)},e.prototype.containsKey=function(t,n){return re.resolve(this._s.containsKey(n))},e}(),M6=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Tr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new x6(this),this.Ut=new h6,this.Ue=function(i,s){return new P6(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new Lx(n),this.Ke=new k6(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new D6(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var i=this;se("MemoryPersistence","Starting transaction:",t);var s=new F6(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return re.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),F6=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return ce(t,e),t}(Dx),U6=function(){function e(t){this.persistence=t,this.As=new YT,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw _e()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),re.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),re.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),re.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.vs,function(i){var s=be.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return re.or([function(){return re.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),pn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(e,t){return"firestore_clients_"+e+"_"+t}function mR(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function wb(e,t){return"firestore_targets_"+e+"_"+t}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");var gR=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new te(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(Yt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Eb=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new te(i.error.code,i.error.message)),s?new e(t,i.state,r):(Yt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),yR=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Im(),a=0;i&&a<r.activeTargetIds.length;++a)i=rx(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(Yt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),V6=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Yt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Uw=function(){function e(){this.activeTargetIds=Im()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Tb=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new xn(Ke),this.started=!1,this.$s=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=vR(this.persistenceKey,this.Ns),this.Ms=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Uw),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.Ks=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return B(this,void 0,void 0,function(){var t,n,r,i,s,a,c,l,h,d,v,m=this;return $(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(vR(this.persistenceKey,i)))&&(a=yR.Vs(i,s))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(c=this.storage.getItem(this.Us))&&(l=this.js(c))&&this.Ws(l),h=0,d=this.$s;h<d.length;h++)v=d[h],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(wb(this.persistenceKey,t));if(r){var i=Eb.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(wb(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return se("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){se("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){se("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(se("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return B(n,void 0,void 0,function(){var i,s,a,c,l,h;return $(this,function(d){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(c=this.ri(r.key,r.newValue)))return[2,this.oi(c)]}else if(r.key===this.Us){if(r.newValue!==null&&(l=this.js(r.newValue)))return[2,this.Ws(l)]}else if(r.key===this.Ms)(h=function(v){var m=Tr.o;if(v!=null)try{var y=JSON.parse(v);Re(typeof y=="number"),m=y}catch(b){Yt("SharedClientState","Failed to read sequence number from WebStorage",b)}return m}(r.newValue))!==Tr.o&&this.sequenceNumberHandler(h);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new gR(this.currentUser,t,n,r),s=mR(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=mR(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=wb(this.persistenceKey,t),s=new Eb(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return yR.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return gR.Vs(new pn(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return Eb.Vs(i,n)},e.prototype.js=function(t){return V6.Vs(t)},e.prototype.ii=function(t){return B(this,void 0,void 0,function(){return $(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(se("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),a=this.Gs(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this.syncEngine.hi(c,l).then(function(){r.Fs=i})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Im();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),zx=function(){function e(){this.li=new Uw,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Uw,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),j6=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),_R=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),$6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},B6=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),H6=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return ce(t,e),t.prototype.Fi=function(n,r,i,s){return new Promise(function(a,c){var l=new _z;l.listenOnce(mz.COMPLETE,function(){try{switch(l.getLastErrorCode()){case _b.NO_ERROR:var d=l.getResponseJson();se("Connection","XHR received:",JSON.stringify(d)),a(d);break;case _b.TIMEOUT:se("Connection",'RPC "'+n+'" timed out'),c(new te(W.DEADLINE_EXCEEDED,"Request time out"));break;case _b.HTTP_ERROR:var v=l.getStatus();if(se("Connection",'RPC "'+n+'" failed with status:',v,"response text:",l.getResponseText()),v>0){var m=l.getResponseJson().error;if(m&&m.status&&m.message){var y=function(b){var E=b.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(E)>=0?E:W.UNKNOWN}(m.status);c(new te(y,m.message))}else c(new te(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new te(W.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{se("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},t.prototype.Oi=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=pz(),a=vz(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new yz({})),this.ki(c.initMessageHeaders,r),oT()||jL()||y4()||_4()||b4()||sT()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");se("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),d=!1,v=!1,m=new B6({Ei:function(b){v?se("Connection","Not sending because WebChannel is closed:",b):(d||(se("Connection","Opening WebChannel transport."),h.open(),d=!0),se("Connection","WebChannel sending:",b),h.send(b))},Ti:function(){return h.close()}}),y=function(b,E,T){b.listen(E,function(N){try{T(N)}catch(L){setTimeout(function(){throw L},0)}})};return y(h,tp.EventType.OPEN,function(){v||se("Connection","WebChannel transport opened.")}),y(h,tp.EventType.CLOSE,function(){v||(v=!0,se("Connection","WebChannel transport closed"),m.Vi())}),y(h,tp.EventType.ERROR,function(b){v||(v=!0,tv("Connection","WebChannel transport errored:",b),m.Vi(new te(W.UNAVAILABLE,"The operation could not be completed")))}),y(h,tp.EventType.MESSAGE,function(b){var E;if(!v){var T=b.data[0];Re(!!T);var N=T,L=N.error||((E=N[0])===null||E===void 0?void 0:E.error);if(L){se("Connection","WebChannel received error:",L);var A=L.status,D=function(R){var j=Gt[R];if(j!==void 0)return _x(j)}(A),F=L.message;D===void 0&&(D=W.INTERNAL,F="Unknown error status: "+A+" with message "+L.message),v=!0,m.Vi(new te(D,F)),h.close()}else se("Connection","WebChannel received:",T),m.Si(T)}}),y(a,gz.STAT_EVENT,function(b){b.stat===MO.PROXY?se("Connection","Detected buffering proxy"):b.stat===MO.NOPROXY&&se("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);se("RestConnection","Sending: ",s,r);var a={};return this.ki(a,i),this.Fi(t,s,a,r).then(function(c){return se("RestConnection","Received: ",c),c},function(c){throw tv("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.$i=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=$6[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(){return typeof window<"u"?window:null}function kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(e){return new zz(e,!0)}var zT=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-i);s>0&&se("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Xx=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new zT(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return B(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return B(this,void 0,void 0,function(){return $(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return B(this,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===W.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new te(W.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return B(t,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return se("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),W6=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,c}return ce(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:_e()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(T,N){return T.I?(Re(N===void 0||typeof N=="string"),hr.fromBase64String(N||"")):(Re(N===void 0||N instanceof Uint8Array),hr.fromUint8Array(N||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(T){var N=T.code===void 0?W.UNKNOWN:_x(T.code);return new te(N,T.message||"")}(m);c=new wx(l,h,d,v||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=po(s,l.document.name),d=Gn(l.document.updateTime);var m=new wr({mapValue:{fields:l.document.fields}}),y=(v=Ln.newFoundDocument(h,d,m),l.targetIds||[]),b=l.removedTargetIds||[];c=new Rp(y,b,v.key,v)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=po(s,l.document),d=l.readTime?Gn(l.readTime):We.min(),m=Ln.newNoDocument(h,d),v=l.removedTargetIds||[],c=new Rp([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=po(s,l.document),d=l.removedTargetIds||[],c=new Rp([],d,h,null);else{if(!("filter"in a))return _e();a.filter;var E=a.filter;E.targetId,l=E.count||0,h=new Vz(l),d=E.targetId,c=new bx(d,h)}return c}(this.R,n),i=function(s){if(!("targetChange"in s))return We.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?We.min():a.readTime?Gn(a.readTime):We.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=Wf(this.R),r.addTarget=function(s,a){var c,l=a.target;return(c=iv(l)?{documents:Ax(s,l)}:{query:Cx(s,l)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=Ex(s,a.resumeToken):a.snapshotVersion.compareTo(We.min())>0&&(c.readTime=Bf(s,a.snapshotVersion.toTimestamp())),c}(this.R,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _e()}}(0,a.purpose);return c==null?null:{"goog-listen-tags":c}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=Wf(this.R),r.removeTarget=n,this.cr(r)},t}(Xx),q6=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,c.gr=!1,c}return ce(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Re(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(Re(a!==void 0),s.map(function(c){return function(l,h){var d=l.updateTime?Gn(l.updateTime):Gn(h);return d.isEqual(We.min())&&(d=Gn(h)),new Mz(d,l.transformResults||[])}(c,a)})):[]}(n.writeResults,n.commitTime),i=Gn(n.commitTime);return this.listener.Tr(i,r)}return Re(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Wf(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return av(r.R,s)})};this.cr(i)},t}(Xx),G6=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return ce(t,e),t.prototype.br=function(){if(this.Rr)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new te(W.UNKNOWN,a.toString())})},t.prototype.$i=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.$i(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new te(W.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),K6=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Yt(n),this.Vr=!1):se("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),Y6=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return B(s,void 0,void 0,function(){return $(this,function(c){switch(c.label){case 0:return Es(this)?(se("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return B(this,void 0,void 0,function(){var h;return $(this,function(d){switch(d.label){case 0:return(h=fe(l)).Or.add(4),[4,Wc(h)];case 1:return d.sent(),h.Br.set("Unknown"),h.Or.delete(4),[4,Ah(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Br=new K6(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(e){return B(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:if(!Es(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Wc(e){return B(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Cm(e,t){var n=fe(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),JT(n)?XT(n):Gc(n).er()&&QT(n,t))}function qf(e,t){var n=fe(e),r=Gc(n);n.$r.delete(t),r.er()&&Jx(n,t),n.$r.size===0&&(r.er()?r.ir():Es(n)&&n.Br.set("Unknown"))}function QT(e,t){e.qr.U(t.targetId),Gc(e).mr(t)}function Jx(e,t){e.qr.U(t),Gc(e).yr(t)}function XT(e){e.qr=new Gz({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Gc(e).start(),e.Br.Sr()}function JT(e){return Es(e)&&!Gc(e).tr()&&e.$r.size>0}function Es(e){return fe(e).Or.size===0}function Zx(e){e.qr=void 0}function z6(e){return B(this,void 0,void 0,function(){return $(this,function(t){return e.$r.forEach(function(n,r){QT(e,n)}),[2]})})}function Q6(e,t){return B(this,void 0,void 0,function(){return $(this,function(n){return Zx(e),JT(e)?(e.Br.Nr(t),XT(e)):e.Br.set("Unknown"),[2]})})}function X6(e,t,n){return B(this,void 0,void 0,function(){var r,i,s;return $(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof wx&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return B(this,void 0,void 0,function(){var h,d,v,m;return $(this,function(y){switch(y.label){case 0:h=l.cause,d=0,v=l.targetIds,y.label=1;case 1:return d<v.length?(m=v[d],c.$r.has(m)?[4,c.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),c.$r.delete(m),c.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),se("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,hv(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Rp?e.qr.X(t):t instanceof bx?e.qr.rt(t):e.qr.et(t),n.isEqual(We.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Gx(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(c,l){var h=c.qr.ut(l);return h.targetChanges.forEach(function(d,v){if(d.resumeToken.approximateByteSize()>0){var m=c.$r.get(v);m&&c.$r.set(v,m.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach(function(d){var v=c.$r.get(d);if(v){c.$r.set(d,v.withResumeToken(hr.EMPTY_BYTE_STRING,v.snapshotVersion)),Jx(c,d);var m=new Sm(v.target,d,1,v.sequenceNumber);QT(c,m)}}),c.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return se("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,hv(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function hv(e,t,n){return B(this,void 0,void 0,function(){var r=this;return $(this,function(i){switch(i.label){case 0:if(!Ga(t))throw t;return e.Or.add(1),[4,Wc(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Gx(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return B(r,void 0,void 0,function(){return $(this,function(s){switch(s.label){case 0:return se("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Ah(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function eM(e,t){return t().catch(function(n){return hv(e,n,t)})}function qc(e){return B(this,void 0,void 0,function(){var t,n,r,i,s;return $(this,function(a){switch(a.label){case 0:t=fe(e),n=us(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return Es(c)&&c.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,O6(t.localStore,r)];case 3:return(i=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(c,l){c.Fr.push(l);var h=us(c);h.er()&&h.pr&&h.Er(l.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,hv(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return tM(t)&&nM(t),[2]}})})}function tM(e){return Es(e)&&!us(e).tr()&&e.Fr.length>0}function nM(e){us(e).start()}function J6(e){return B(this,void 0,void 0,function(){return $(this,function(t){return us(e).Ar(),[2]})})}function Z6(e){return B(this,void 0,void 0,function(){var t,n,r,i;return $(this,function(s){for(t=us(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function e8(e,t,n){return B(this,void 0,void 0,function(){var r,i;return $(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),i=l6.from(r,t,n),[4,eM(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,qc(e)];case 2:return s.sent(),[2]}})})}function t8(e,t){return B(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return t&&us(e).pr?[4,function(r,i){return B(this,void 0,void 0,function(){var s,a;return $(this,function(c){switch(c.label){case 0:return yx(a=i.code)&&a!==W.ABORTED?(s=r.Fr.shift(),us(r).sr(),[4,eM(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,qc(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return tM(e)&&nM(e),[2]}})})}function Vw(e,t){return B(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return n=fe(e),t?(n.Or.delete(2),[4,Ah(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Wc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Gc(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=fe(n);return s.br(),new W6(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:z6.bind(null,e),Ri:Q6.bind(null,e),_r:X6.bind(null,e)}),e.Mr.push(function(n){return B(t,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),JT(e)?XT(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),Zx(e),r.label=3;case 3:return[2]}})})})),e.Ur}function us(e){var t=this;return e.Kr||(e.Kr=function(n,r,i){var s=fe(n);return s.br(),new q6(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:J6.bind(null,e),Ri:t8.bind(null,e),Ir:Z6.bind(null,e),Tr:e8.bind(null,e)}),e.Mr.push(function(n){return B(t,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,qc(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(se("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var n8=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Kc(e,t){if(Yt("AsyncQueue",t+": "+e),Ga(e))return new te(W.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rM=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||be.comparator(n.key,r.key)}:function(n,r){return be.comparator(n.key,r.key)},this.keyedMap=xw(),this.sortedSet=new xn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),bR=function(){function e(){this.Qr=new xn(be.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):_e():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),dv=function(){function e(t,n,r,i,s,a,c,l){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,rM.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),r8=function(){this.Wr=void 0,this.listeners=[]},i8=function(){this.queries=new Hc(function(e){return ux(e)},wh),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(e,t){return B(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return $(this,function(h){switch(h.label){case 0:if(n=fe(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new r8),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return c=h.sent(),l=Kc(c,"Initialization of query '"+Pw(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&t0(n),[2]}})})}function e0(e,t){return B(this,void 0,void 0,function(){var n,r,i,s,a;return $(this,function(c){return n=fe(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function o8(e,t){for(var n=fe(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,d=l.listeners;h<d.length;h++)d[h].Hr(a)&&(r=!0);l.Wr=a}}r&&t0(n)}function s8(e,t,n){var r=fe(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function t0(e){e.Gr.forEach(function(t){t.next()})}var n0=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new dv(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=dv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iM=function(e){this.key=e},oM=function(e){this.key=e},sM=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=bt(),this.mutatedKeys=bt(),this.lo=cx(t),this.fo=new rM(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new bR,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,c=s,l=!1,h=Np(this.query)&&s.size===this.query.limit?s.last():null,d=sv(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var b=s.get(m),E=Eh(r.query,y)?y:null,T=!!b&&r.mutatedKeys.has(b.key),N=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),L=!1;b&&E?b.data.isEqual(E.data)?T!==N&&(i.track({type:3,doc:E}),L=!0):r.yo(b,E)||(i.track({type:2,doc:E}),L=!0,(h&&r.lo(E,h)>0||d&&r.lo(E,d)<0)&&(l=!0)):!b&&E?(i.track({type:0,doc:E}),L=!0):b&&!E&&(i.track({type:1,doc:b}),L=!0,(h||d)&&(l=!0)),L&&(E?(c=c.add(E),a=N?a.add(m):a.delete(m)):(c=c.delete(m),a=a.delete(m)))}),Np(this.query)||sv(this.query))for(;c.size>this.query.limit;){var v=Np(this.query)?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:c,mo:i,Nn:l,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(d,v){return function(m,y){var b=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return b(m)-b(y)}(d.type,v.type)||i.lo(d.doc,v.doc)}),this.po(r);var c=n?this.Eo():[],l=this.ho.size===0&&this.current?1:0,h=l!==this.ao;return this.ao=l,a.length!==0||h?{snapshot:new dv(this.query,t.fo,s,a,t.mutatedKeys,l===0,h,!1),To:c}:{To:c}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new bR,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=bt(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new oM(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new iM(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=bt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return dv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),a8=function(e,t,n){this.query=e,this.targetId=t,this.view=n},u8=function(e){this.key=e,this.bo=!1},c8=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Hc(function(c){return ux(c)},wh),this.Vo=new Map,this.So=new Set,this.Do=new xn(be.comparator),this.Co=new Map,this.No=new YT,this.xo={},this.ko=new Map,this.Fo=cv.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function l8(e,t){return B(this,void 0,void 0,function(){var n,r,i,s,a,c;return $(this,function(l){switch(l.label){case 0:return n=a0(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,lv(n.localStore,Wi(t))];case 2:return a=l.sent(),c=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,r0(n,t,r,c==="current")];case 3:i=l.sent(),n.isPrimaryClient&&Cm(n.remoteStore,a),l.label=4;case 4:return[2,i]}})})}function r0(e,t,n,r){return B(this,void 0,void 0,function(){var i,s,a,c,l,h;return $(this,function(d){switch(d.label){case 0:return e.Oo=function(v,m,y){return function(b,E,T,N){return B(this,void 0,void 0,function(){var L,A,D;return $(this,function(F){switch(F.label){case 0:return L=E.view._o(T),L.Nn?[4,fv(b.localStore,E.query,!1).then(function(R){var j=R.documents;return E.view._o(j,L)})]:[3,2];case 1:L=F.sent(),F.label=2;case 2:return A=N&&N.targetChanges.get(E.targetId),D=E.view.applyChanges(L,b.isPrimaryClient,A),[2,(jw(b,E.targetId,D.To),D.snapshot)]}})})}(e,v,m,y)},[4,fv(e.localStore,t,!0)];case 1:return i=d.sent(),s=new sM(t,i.Bn),a=s._o(i.documents),c=$T.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),l=s.applyChanges(a,e.isPrimaryClient,c),jw(e,n,l.To),h=new a8(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot)]}})})}function f8(e,t){return B(this,void 0,void 0,function(){var n,r,i;return $(this,function(s){switch(s.label){case 0:return n=fe(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!wh(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,yc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),qf(n.remoteStore,r.targetId),_c(n,r.targetId)}).catch(Ka)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return _c(n,r.targetId),[4,yc(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function h8(e,t,n){return B(this,void 0,void 0,function(){var r,i,s,a;return $(this,function(c){switch(c.label){case 0:r=u0(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var d,v=fe(l),m=lr.now(),y=h.reduce(function(b,E){return b.add(E.key)},bt());return v.persistence.runTransaction("Locally write mutations","readwrite",function(b){return v.Mn.pn(b,y).next(function(E){d=E;for(var T=[],N=0,L=h;N<L.length;N++){var A=L[N],D=Uz(A,d.get(A.key));D!=null&&T.push(new ws(A.key,D,ix(D.value.mapValue),On.exists(!0)))}return v._n.addMutationBatch(b,m,T,h)})}).then(function(b){return b.applyToLocalDocumentSet(d),{batchId:b.batchId,changes:d}})}(r.localStore,t)];case 2:return i=c.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(l,h,d){var v=l.xo[l.currentUser.toKey()];v||(v=new xn(Ke)),v=v.insert(h,d),l.xo[l.currentUser.toKey()]=v}(r,i.batchId,n),[4,Ts(r,i.changes)];case 3:return c.sent(),[4,qc(r.remoteStore)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=Kc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function aM(e,t){return B(this,void 0,void 0,function(){var n,r;return $(this,function(i){switch(i.label){case 0:n=fe(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,C6(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var c=n.Co.get(a);c&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.bo=!0:s.modifiedDocuments.size>0?Re(c.bo):s.removedDocuments.size>0&&(Re(c.bo),c.bo=!1))}),[4,Ts(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ka(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function wR(e,t,n){var r=fe(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var c=a.view.zr(t);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=fe(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,d){for(var v=0,m=d.listeners;v<m.length;v++)m[v].zr(a)&&(l=!0)}),l&&t0(c)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function d8(e,t,n){return B(this,void 0,void 0,function(){var r,i,s,a,c,l;return $(this,function(h){switch(h.label){case 0:return(r=fe(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new xn(be.comparator)).insert(s,Ln.newNoDocument(s,We.min())),c=bt().add(s),l=new jT(We.min(),new Map,new rn(Ke),a,c),[4,aM(r,l)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),s0(r),[3,4];case 2:return[4,yc(r.localStore,t,!1).then(function(){return _c(r,t,n)}).catch(Ka)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function p8(e,t){return B(this,void 0,void 0,function(){var n,r,i;return $(this,function(s){switch(s.label){case 0:n=fe(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,A6(n.localStore,t)];case 2:return i=s.sent(),o0(n,r,null),i0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ts(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ka(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function v8(e,t,n){return B(this,void 0,void 0,function(){var r,i;return $(this,function(s){switch(s.label){case 0:r=fe(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=fe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return l._n.lookupMutationBatch(h,c).next(function(v){return Re(v!==null),d=v.keys(),l._n.removeMutationBatch(h,v)}).next(function(){return l._n.performConsistencyCheck(h)}).next(function(){return l.Mn.pn(h,d)})})}(r.localStore,t)];case 2:return i=s.sent(),o0(r,t,n),i0(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Ts(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ka(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function m8(e,t){return B(this,void 0,void 0,function(){var n,r,i,s,a;return $(this,function(c){switch(c.label){case 0:Es((n=fe(e)).remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=fe(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h._n.getHighestUnacknowledgedBatchId(d)})}(n.localStore)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return s=c.sent(),a=Kc(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function i0(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function o0(e,t,n){var r=fe(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function _c(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||uM(e,a)})}function uM(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(qf(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),s0(e))}function jw(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof iM?(e.No.addReference(s.key,t),g8(e,s)):s instanceof oM?(se("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||uM(e,s.key)):_e()}}function g8(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(se("SyncEngine","New document in limbo: "+n),e.So.add(r),s0(e))}function s0(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new be(it.fromString(t)),r=e.Fo.next();e.Co.set(r,new u8(n)),e.Do=e.Do.insert(n,r),Cm(e.remoteStore,new Sm(Wi(bh(n.path)),r,2,Tr.o))}}function Ts(e,t,n){return B(this,void 0,void 0,function(){var r,i,s,a;return $(this,function(c){switch(c.label){case 0:return r=fe(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(l,h){a.push(r.Oo(h,t,n).then(function(d){if(d){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=I6.Pn(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.vo._r(i),[4,function(l,h){return B(this,void 0,void 0,function(){var d,v,m,y,b,E,T,N,L;return $(this,function(A){switch(A.label){case 0:d=fe(l),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(D){return re.forEach(h,function(F){return re.forEach(F.bn,function(R){return d.persistence.referenceDelegate.addReference(D,F.targetId,R)}).next(function(){return re.forEach(F.vn,function(R){return d.persistence.referenceDelegate.removeReference(D,F.targetId,R)})})})})];case 2:return A.sent(),[3,4];case 3:if(!Ga(v=A.sent()))throw v;return se("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)b=y[m],E=b.targetId,b.fromCache||(T=d.kn.get(E),N=T.snapshotVersion,L=T.withLastLimboFreeSnapshotVersion(N),d.kn=d.kn.insert(E,L));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function y8(e,t){return B(this,void 0,void 0,function(){var n,r;return $(this,function(i){switch(i.label){case 0:return(n=fe(e)).currentUser.isEqual(t)?[3,3]:(se("SyncEngine","User change. New user:",t.toKey()),[4,qx(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.ko.forEach(function(c){c.forEach(function(l){l.reject(new te(W.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Ts(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function _8(e,t){var n=fe(e),r=n.Co.get(t);if(r&&r.bo)return bt().add(r.key);var i=bt(),s=n.Vo.get(t);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.Po.get(l);i=i.unionWith(h.view.wo)}return i}function b8(e,t){return B(this,void 0,void 0,function(){var n,r,i;return $(this,function(s){switch(s.label){case 0:return[4,fv((n=fe(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&jw(n,t.targetId,i.To),i)]}})})}function w8(e){return B(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,Yx((t=fe(e)).localStore).then(function(r){return Ts(t,r)})]})})}function E8(e,t,n,r){return B(this,void 0,void 0,function(){var i,s;return $(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=fe(c),d=fe(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.jt(v,l).next(function(m){return m?h.Mn.pn(v,m):re.resolve(null)})})}((i=fe(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,qc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(o0(i,t,r||null),i0(i,t),function(c,l){fe(fe(c)._n).Gt(l)}(i.localStore,t)):_e(),a.label=4;case 4:return[4,Ts(i,s)];case 5:return a.sent(),[3,7];case 6:se("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function T8(e,t){return B(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return $(this,function(d){switch(d.label){case 0:return a0(n=fe(e)),u0(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ER(n,r.toArray())]);case 1:return i=d.sent(),n.$o=!0,[4,Vw(n.remoteStore,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)c=a[s],Cm(n.remoteStore,c);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(l=[],h=Promise.resolve(),n.Vo.forEach(function(v,m){n.sharedClientState.isLocalQueryTarget(m)?l.push(m):h=h.then(function(){return _c(n,m),yc(n.localStore,m,!0)}),qf(n.remoteStore,m)}),[4,h]);case 4:return d.sent(),[4,ER(n,l)];case 5:return d.sent(),function(v){var m=fe(v);m.Co.forEach(function(y,b){qf(m.remoteStore,b)}),m.No.ts(),m.Co=new Map,m.Do=new xn(be.comparator)}(n),n.$o=!1,[4,Vw(n.remoteStore,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function ER(e,t,n){return B(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m,y,b,E,T;return $(this,function(N){switch(N.label){case 0:r=fe(e),i=[],s=[],a=0,c=t,N.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(d=r.Vo.get(l))&&d.length!==0?[4,lv(r.localStore,Wi(d[0]))]:[3,7]):[3,13];case 2:h=N.sent(),v=0,m=d,N.label=3;case 3:return v<m.length?(y=m[v],b=r.Po.get(y),[4,b8(r,b)]):[3,6];case 4:(E=N.sent()).snapshot&&s.push(E.snapshot),N.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,Kx(r.localStore,l)];case 8:return T=N.sent(),[4,lv(r.localStore,T)];case 9:return h=N.sent(),[4,r0(r,cM(T),l,!1)];case 10:N.sent(),N.label=11;case 11:i.push(h),N.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function cM(e){return sx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function I8(e){var t=fe(e);return fe(fe(t.localStore).persistence).fn()}function S8(e,t,n,r){return B(this,void 0,void 0,function(){var i,s,a;return $(this,function(c){switch(c.label){case 0:return(i=fe(e)).$o?(se("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Yx(i.localStore)];case 3:return s=c.sent(),a=jT.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Ts(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,yc(i.localStore,t,!0)];case 6:return c.sent(),_c(i,t,r),[3,8];case 7:_e(),c.label=8;case 8:return[2]}})})}function A8(e,t,n){return B(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m;return $(this,function(y){switch(y.label){case 0:if(!(r=a0(e)).$o)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(se("SyncEngine","Adding an already active target "+a),[3,5]):[4,Kx(r.localStore,a)]):[3,6];case 2:return c=y.sent(),[4,lv(r.localStore,c)];case 3:return l=y.sent(),[4,r0(r,cM(c),l.targetId,!1)];case 4:y.sent(),Cm(r.remoteStore,l),y.label=5;case 5:return i++,[3,1];case 6:h=function(b){return $(this,function(E){switch(E.label){case 0:return r.Vo.has(b)?[4,yc(r.localStore,b,!1).then(function(){qf(r.remoteStore,b),_c(r,b)}).catch(Ka)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(m=v[d],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function a0(e){var t=fe(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aM.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=d8.bind(null,t),t.vo._r=o8.bind(null,t.eventManager),t.vo.Mo=s8.bind(null,t.eventManager),t}function u0(e){var t=fe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=p8.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=v8.bind(null,t),t}var lM=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return B(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=Am(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return Wx(this.persistence,new Hx,t.initialUser,this.R)},e.prototype.qo=function(t){return new M6(U6.bs,this.R)},e.prototype.Bo=function(t){return new zx},e.prototype.terminate=function(){return B(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),fM=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return ce(t,e),t.prototype.initialize=function(n){return B(this,void 0,void 0,function(){var r=this;return $(this,function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,R6(this.localStore)];case 2:return i.sent(),[4,this.Qo.initialize(this,n)];case 3:return i.sent(),[4,u0(this.Qo.syncEngine)];case 4:return i.sent(),[4,qc(this.Qo.remoteStore)];case 5:return i.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return i.sent(),[2]}})})},t.prototype.Ko=function(n){return Wx(this.persistence,new Hx,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new g6(r,n.asyncQueue)},t.prototype.qo=function(n){var r=KT(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new T6(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,Qx(),kp(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new zx},t}(lM),C8=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Qo=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ce(t,e),t.prototype.initialize=function(n){return B(this,void 0,void 0,function(){var r,i=this;return $(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Tb?(this.sharedClientState.syncEngine={ui:E8.bind(null,r),ai:S8.bind(null,r),hi:A8.bind(null,r),fn:I8.bind(null,r),ci:w8.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return B(i,void 0,void 0,function(){return $(this,function(c){switch(c.label){case 0:return[4,T8(this.Qo.syncEngine,a)];case 1:return c.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=Qx();if(!Tb.yt(r))throw new te(W.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=KT(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Tb(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(fM),$w=function(){function e(){}return e.prototype.initialize=function(t,n){return B(this,void 0,void 0,function(){var r=this;return $(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return wR(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=y8.bind(null,this.syncEngine),[4,Vw(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new i8},e.prototype.createDatastore=function(t){var n,r=Am(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new H6(n));return function(s,a,c){return new G6(s,a,c)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,c=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(l){return wR(c.syncEngine,l,0)},a=_R.yt()?new _R:new j6,new Y6(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,c,l,h){var d=new c8(r,i,s,a,c,l);return h&&(d.$o=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return B(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return n=fe(t),se("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Wc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nm=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),N8=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return B(this,void 0,void 0,function(){var n,r=this;return $(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new te(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return B(this,void 0,void 0,function(){var c,l,h,d,v,m;return $(this,function(y){switch(y.label){case 0:return c=fe(s),l=Wf(c.R)+"/documents",h={documents:a.map(function(b){return Hf(c.R,b)})},[4,c.$i("BatchGetDocuments",l,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(b){var E=function(T,N){return"found"in N?function(L,A){Re(!!A.found),A.found.name,A.found.updateTime;var D=po(L,A.found.name),F=Gn(A.found.updateTime),R=new wr({mapValue:{fields:A.found.fields}});return Ln.newFoundDocument(D,F,R)}(T,N):"missing"in N?function(L,A){Re(!!A.missing),Re(!!A.readTime);var D=po(L,A.missing),F=Gn(A.readTime);return Ln.newNoDocument(D,F)}(T,N):_e()}(c.R,b);v.set(E.key.toString(),E)}),m=[],[2,(a.forEach(function(b){var E=v.get(b.toString());Re(!!E),m.push(E)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Sh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return B(this,void 0,void 0,function(){var t,n=this;return $(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=be.fromPath(s);n.mutations.push(new VT(a,n.precondition(a)))}),[4,function(i,s){return B(this,void 0,void 0,function(){var a,c,l;return $(this,function(h){switch(h.label){case 0:return a=fe(i),c=Wf(a.R)+"/documents",l={writes:s.map(function(d){return av(a.R,d)})},[4,a.Ni("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw _e();n=We.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new te(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?On.updateTime(n):On.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(We.min()))throw new te(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return On.updateTime(n)}return On.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),O8=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new zT(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return B(t,void 0,void 0,function(){var n,r,i=this;return $(this,function(s){return n=new N8(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(c){i.ic(c)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!qa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!yx(n)}return!1},e}(),R8=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=pn.UNAUTHENTICATED,this.clientId=J1.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return B(i,void 0,void 0,function(){return $(this,function(a){switch(a.label){case 0:return se("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return a.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return B(this,void 0,void 0,function(){return $(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return B(t,void 0,void 0,function(){var r,i;return $(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Kc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(e,t){return B(this,void 0,void 0,function(){var n,r,i=this;return $(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){return B(i,void 0,void 0,function(){return $(this,function(c){switch(c.label){case 0:return r.isEqual(a)?[3,2]:[4,qx(t.localStore,a)];case 1:c.sent(),r=a,c.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function dM(e,t){return B(this,void 0,void 0,function(){var n,r;return $(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,c0(e)];case 1:return n=i.sent(),se("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return function(a,c){return B(this,void 0,void 0,function(){var l,h;return $(this,function(d){switch(d.label){case 0:return(l=fe(a)).asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials"),h=Es(l),l.Or.add(3),[4,Wc(l)];case 1:return d.sent(),h&&l.Br.set("Unknown"),[4,l.remoteSyncer.handleCredentialChange(c)];case 2:return d.sent(),l.Or.delete(3),[4,Ah(l)];case 3:return d.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function c0(e){return B(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(se("FirestoreClient","Using default OfflineComponentProvider"),[4,hM(e,new lM)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Om(e){return B(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(se("FirestoreClient","Using default OnlineComponentProvider"),[4,dM(e,new $w)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function TR(e){return c0(e).then(function(t){return t.persistence})}function pM(e){return c0(e).then(function(t){return t.localStore})}function IR(e){return Om(e).then(function(t){return t.remoteStore})}function vM(e){return Om(e).then(function(t){return t.syncEngine})}function bc(e){return B(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:return[4,Om(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=l8.bind(null,t.syncEngine),n.onUnlisten=f8.bind(null,t.syncEngine),n)]}})})}function SR(e,t,n){var r=this;n===void 0&&(n={});var i=new dr;return e.asyncQueue.enqueueAndForget(function(){return B(r,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new Nm({next:function(b){l.enqueueAndForget(function(){return e0(c,y)});var E=b.docs.has(h);!E&&b.fromCache?v.reject(new te(W.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&d&&d.source==="server"?v.reject(new te(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new n0(bh(h.path),m,{includeMetadataChanges:!0,so:!0});return ZT(c,y)},[4,bc(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function AR(e,t,n){var r=this;n===void 0&&(n={});var i=new dr;return e.asyncQueue.enqueueAndForget(function(){return B(r,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new Nm({next:function(b){l.enqueueAndForget(function(){return e0(c,y)}),b.fromCache&&d.source==="server"?v.reject(new te(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new n0(h,m,{includeMetadataChanges:!0,so:!0});return ZT(c,y)},[4,bc(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var k8=function(e,t,n,r,i,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=c},pv=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),CR=new Map,mM=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},NR=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(pn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),D8=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),P8=function(){function e(t){var n=this;this.currentUser=pn.UNAUTHENTICATED,this.oc=new dr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(i){se("FirebaseCredentialsProvider","Auth detected"),n.auth=i,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(i){return r(i)}),setTimeout(function(){if(!n.auth){var i=t.getImmediate({optional:!0});i?r(i):(se("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(se("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(Re(typeof i.accessToken=="string"),new mM(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return B(r,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return[4,this.oc.promise];case 1:return i.sent(),[4,n(this.currentUser)];case 2:return i.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Re(t===null||typeof t=="string"),new pn(t)},e}(),L8=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=pn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),x8=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new L8(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(pn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(e,t,n){if(!n)throw new te(W.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function f0(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new te(W.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function gM(e,t,n,r){if(t===!0&&r===!0)throw new te(W.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function OR(e){if(!be.isDocumentKey(e))throw new te(W.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function RR(e){if(be.isDocumentKey(e))throw new te(W.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Rm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":_e()}function ut(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new te(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Rm(e);throw new te(W.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function kR(e,t){if(t<=0)throw new te(W.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DR=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new te(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new te(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,gM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Gf=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DR({}),this._settingsFrozen=!1,t instanceof pv?(this._databaseId=t,this._credentials=new NR):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new te(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pv(r.options.projectId)}(t),this._credentials=new P8(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new te(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DR(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new NR;switch(n.type){case"gapi":var r=n.client;return Re(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new x8(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new te(W.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=CR.get(t))&&(se("ComponentProvider","Removing Datastore"),CR.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Lt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new rs(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Sr=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),rs=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,bh(i))||this)._path=i,s.type="collection",s}return ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Lt(this.firestore,null,new be(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Sr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=je(e),l0("collection","path",t),e instanceof Gf)return RR(n=it.fromString.apply(it,rt([t],r))),new rs(e,null,n);if(!(e instanceof Lt||e instanceof rs))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return RR(n=it.fromString.apply(it,rt([e.path],r)).child(it.fromString(t))),new rs(e.firestore,null,n)}function Dp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=je(e),arguments.length===1&&(t=J1.u()),l0("doc","path",t),e instanceof Gf)return OR(n=it.fromString.apply(it,rt([t],r))),new Lt(e,null,new be(n));if(!(e instanceof Lt||e instanceof rs))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return OR(n=e._path.child(it.fromString.apply(it,rt([t],r)))),new Lt(e.firestore,e instanceof rs?e.converter:null,new be(n))}function _M(e,t){return e=je(e),t=je(t),(e instanceof Lt||e instanceof rs)&&(t instanceof Lt||t instanceof rs)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function bM(e,t){return e=je(e),t=je(t),e instanceof Sr&&t instanceof Sr&&e.firestore===t.firestore&&wh(e._query,t._query)&&e.converter===t.converter}var M8=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new zT(this,"async_queue_retry"),this.Ic=function(){var r=kp();r&&se("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=kp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=kp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new dr;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return B(this,void 0,void 0,function(){var t,n=this;return $(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ga(t=r.sent()))throw t;return se("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(i){throw n.yc=i,n.gc=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.gc=!1,i})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=n8.createAndSchedule(this,t,n,r,function(a){return i.vc(a)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&_e()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return B(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,c){return a.targetTimeMs-c.targetTimeMs});for(var r=0,i=n.mc;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function wc(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var F8=-1,nn=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new M8,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return ce(t,e),t.prototype._terminate=function(){return this._firestoreClient||wM(this),this._firestoreClient.terminate()},t}(Gf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(e){return e._firestoreClient||wM(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wM(e){var t,n=e._freezeSettings(),r=function(i,s,a,c){return new k8(i,s,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new R8(e._credentials,e._queue,r)}function PR(e,t,n){var r=this,i=new dr;return e.asyncQueue.enqueue(function(){return B(r,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,hM(e,n)];case 1:return a.sent(),[4,dM(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===W.FAILED_PRECONDITION||c.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function LR(e){if(e._initialized||e._terminated)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mi=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new te(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gi(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),xa=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(hr.fromBase64String(t))}catch(n){throw new te(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(hr.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Ya=function(e){this._methodName=e},km=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new te(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new te(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ke(this._lat,t._lat)||Ke(this._long,t._long)},e}(),U8=/^__.*__$/,V8=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new ws(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ih(t,this.data,n,this.fieldTransforms)},e}(),EM=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new ws(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}var IM=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.$c(t),i},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.xc({path:r,Fc:!1});return i.Cc(),i},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return vv(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(TM(this.Nc)&&U8.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),j8=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Am(t)}return e.prototype.Uc=function(t,n,r,i){return i===void 0&&(i=!1),new IM({Nc:t,methodName:n,qc:r,path:gi.emptyPath(),Fc:!1,Bc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function za(e){var t=e._freezeSettings(),n=Am(e._databaseId);return new j8(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Dm(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Uc(s.merge||s.mergeFields?2:0,t,n,i);v0("Data must be an object, but it was:",a,r);var c,l,h=CM(r,a);if(s.merge)c=new ac(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,m=s.mergeFields;v<m.length;v++){var y=Bw(t,m[v],n);if(!a.contains(y))throw new te(W.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");OM(d,y)||d.push(y)}c=new ac(d),l=a.fieldTransforms.filter(function(b){return c.covers(b.field)})}else c=null,l=a.fieldTransforms;return new V8(new wr(h),c,l)}var h0=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ce(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ya);function SM(e,t,n){return new IM({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var $8=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ce(t,e),t.prototype._toFieldTransform=function(n){return new Th(n.path,new fc)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ya),B8=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return ce(t,e),t.prototype._toFieldTransform=function(n){var r=SM(this,n,!0),i=this.Kc.map(function(a){return Qa(a,r)}),s=new Pa(i);return new Th(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ya),H8=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Kc=r,i}return ce(t,e),t.prototype._toFieldTransform=function(n){var r=SM(this,n,!0),i=this.Kc.map(function(a){return Qa(a,r)}),s=new La(i);return new Th(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ya),W8=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Qc=r,i}return ce(t,e),t.prototype._toFieldTransform=function(n){var r=new hc(n.R,hx(n.R,this.Qc));return new Th(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ya);function d0(e,t,n,r){var i=e.Uc(1,t,n);v0("Data must be an object, but it was:",i,r);var s=[],a=wr.empty();Wa(r,function(l,h){var d=m0(t,l,n);h=je(h);var v=i.Oc(d);if(h instanceof h0)s.push(d);else{var m=Qa(h,v);m!=null&&(s.push(d),a.set(d,m))}});var c=new ac(s);return new EM(a,c,i.fieldTransforms)}function p0(e,t,n,r,i,s){var a=e.Uc(1,t,n),c=[Bw(t,r,n)],l=[i];if(s.length%2!=0)throw new te(W.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(Bw(t,s[h])),l.push(s[h+1]);for(var d=[],v=wr.empty(),m=c.length-1;m>=0;--m)if(!OM(d,c[m])){var y=c[m],b=l[m];b=je(b);var E=a.Oc(y);if(b instanceof h0)d.push(y);else{var T=Qa(b,E);T!=null&&(d.push(y),v.set(y,T))}}var N=new ac(d);return new EM(v,N,a.fieldTransforms)}function AM(e,t,n,r){return r===void 0&&(r=!1),Qa(n,e.Uc(r?4:3,t))}function Qa(e,t){if(NM(e=je(e)))return v0("Unsupported field value:",t,e),CM(e,t);if(e instanceof Ya)return function(n,r){if(!TM(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=Qa(c[a],r.Mc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=je(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hx(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=lr.fromDate(n);return{timestampValue:Bf(r.R,i)}}if(n instanceof lr)return i=new lr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Bf(r.R,i)};if(n instanceof km)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof xa)return{bytesValue:Ex(r.R,n._byteString)};if(n instanceof Lt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:BT(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+Rm(n))}(e,t)}function CM(e,t){var n={};return ex(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wa(e,function(r,i){var s=Qa(i,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof lr||e instanceof km||e instanceof xa||e instanceof Lt||e instanceof Ya)}function v0(e,t,n){if(!NM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Rm(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Bw(e,t,n){if((t=je(t))instanceof Mi)return t._internalPath;if(typeof t=="string")return m0(e,t);throw vv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var q8=new RegExp("[~\\*/\\[\\]]");function m0(e,t,n){if(t.search(q8)>=0)throw vv("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Mi.bind.apply(Mi,rt([void 0],t.split("."))))()._internalPath}catch{throw vv("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function vv(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new te(W.INVALID_ARGUMENT,(c+=". ")+e+l)}function OM(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kf=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Lt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new G8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(mv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),G8=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ce(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Kf);function mv(e,t){return typeof t=="string"?m0(e,t):t instanceof Mi?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var la=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),mo=function(e){function t(n,r,i,s,a,c){var l=this;return(l=e.call(this,n,r,i,s,c)||this)._firestore=n,l._firestoreImpl=n,l.metadata=a,l}return ce(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(mv("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Kf),vf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ce(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(mo),Xo=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new la(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new vf(r._firestore,r._userDataWriter,i.key,i,new la(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(c){return{type:"added",doc:new vf(r._firestore,r._userDataWriter,c.doc.key,c.doc,new la(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new vf(r._firestore,r._userDataWriter,c.doc.key,c.doc,new la(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,d=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(d=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:K8(c.type),doc:l,oldIndex:h,newIndex:d}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function K8(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}function RM(e,t){return e instanceof mo&&t instanceof mo?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Xo&&t instanceof Xo&&e._firestore===t._firestore&&bM(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(e){if(sv(e)&&e.explicitOrderBy.length===0)throw new te(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ch=function(){};function jo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var Y8=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=i,s.type="where",s}return ce(t,e),t.prototype._apply=function(n){var r=za(n.firestore),i=function(s,a,c,l,h,d,v){var m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new te(W.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){VR(v,d);for(var y=[],b=0,E=v;b<E.length;b++){var T=E[b];y.push(UR(l,s,T))}m={arrayValue:{values:y}}}else m=UR(l,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||VR(v,d),m=AM(c,"where",v,d==="in"||d==="not-in");var N=Ir.create(h,d,m);return function(L,A){if(A.g()){var D=FT(L);if(D!==null&&!D.isEqual(A.field))throw new te(W.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+D.toString()+"' and '"+A.field.toString()+"'");var F=MT(L);F!==null&&PM(L,A.field,F)}var R=function(j,H){for(var Q=0,P=j.filters;Q<P.length;Q++){var De=P[Q];if(H.indexOf(De.op)>=0)return De.op}return null}(L,function(j){switch(j){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(A.op));if(R!==null)throw R===A.op?new te(W.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+A.op.toString()+"' filter."):new te(W.INVALID_ARGUMENT,"Invalid query. You cannot use '"+A.op.toString()+"' filters with '"+R.toString()+"' filters.")}(s,N),N}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Sr(n.firestore,n.converter,function(s,a){var c=s.filters.concat([a]);return new So(s.path,s.collectionGroup,s.explicitOrderBy.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(Ch),z8=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jc=n,i.zc=r,i.type="orderBy",i}return ce(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new te(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Xu(s,a);return function(l,h){if(MT(l)===null){var d=FT(l);d!==null&&PM(l,d,h.field)}}(i,c),c}(n._query,this.jc,this.zc);return new Sr(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new So(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Ch),xR=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return ce(t,e),t.prototype._apply=function(n){return new Sr(n.firestore,n.converter,ax(n._query,this.Hc,this.Jc))},t}(Ch),MR=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return ce(t,e),t.prototype._apply=function(n){var r=DM(n,this.type,this.Yc,this.Xc);return new Sr(n.firestore,n.converter,function(i,s){return new So(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(Ch),FR=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=i,s}return ce(t,e),t.prototype._apply=function(n){var r=DM(n,this.type,this.Yc,this.Xc);return new Sr(n.firestore,n.converter,function(i,s){return new So(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(Ch);function DM(e,t,n,r){if(n[0]=je(n[0]),n[0]instanceof Kf)return function(s,a,c,l,h){if(!l)throw new te(W.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],v=0,m=lc(s);v<m.length;v++){var y=m[v];if(y.field.isKeyField())d.push(rv(a,l.key));else{var b=l.data.field(y.field);if(PT(b))throw new te(W.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var E=y.field.canonicalString();throw new te(W.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}d.push(b)}}return new $f(d,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=za(e.firestore);return function(s,a,c,l,h,d){var v=s.explicitOrderBy;if(h.length>v.length)throw new te(W.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var b=h[y];if(v[y].field.isKeyField()){if(typeof b!="string")throw new te(W.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof b);if(!UT(s)&&b.indexOf("/")!==-1)throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+b+"' contains a slash.");var E=s.path.child(it.fromString(b));if(!be.isDocumentKey(E))throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var T=new be(E);m.push(rv(a,T))}else{var N=AM(c,l,b);m.push(N)}}return new $f(m,d)}(e._query,e.firestore._databaseId,i,t,n,r)}function UR(e,t,n){if(typeof(n=je(n))=="string"){if(n==="")throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!UT(t)&&n.indexOf("/")!==-1)throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(it.fromString(n));if(!be.isDocumentKey(r))throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return rv(e,new be(r))}if(n instanceof Lt)return rv(e,n._key);throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Rm(n)+".")}function VR(e,t){if(!Array.isArray(e)||e.length===0)throw new te(W.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new te(W.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function PM(e,t,n){if(!n.isEqual(t))throw new te(W.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g0=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Da(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(uc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw _e()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Wa(t.fields,function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new km(Kt(t.latitude),Kt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=nx(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vf(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=as(t);return new lr(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=it.fromString(t);Re(Rx(r));var i=new pv(r.get(1),r.get(3)),s=new be(r.popFirst(5));return i.isEqual(n)||Yt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Q8=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ce(t,e),t.prototype.convertBytes=function(n){return new xa(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Lt(this.firestore,null,r)},t}(g0),X8=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=za(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Jo(t,this._firestore),s=Pm(i.converter,n,r),a=Dm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,On.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,c=Jo(t,this._firestore);return a=typeof(n=je(n))=="string"||n instanceof Mi?p0(this._dataReader,"WriteBatch.update",c._key,n,r,i):d0(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(a.toMutation(c._key,On.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Jo(t,this._firestore);return this._mutations=this._mutations.concat(new Sh(n._key,On.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new te(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(e,t){if((e=je(e)).firestore!==t)throw new te(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ba=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ce(t,e),t.prototype.convertBytes=function(n){return new xa(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Lt(this.firestore,null,r)},t}(g0);function jR(e,t,n){e=ut(e,Lt);var r=ut(e.firestore,nn),i=Pm(e.converter,t,n);return Nh(r,[Dm(za(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,On.none())])}function $R(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=ut(e,Lt);var s=ut(e.firestore,nn),a=za(s);return Nh(s,[(typeof(t=je(t))=="string"||t instanceof Mi?p0(a,"updateDoc",e._key,t,n,r):d0(a,"updateDoc",e._key,t)).toMutation(e._key,On.exists(!0))])}function LM(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=je(e);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||wc(i[c])||(a=i[c],c++);var l,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(wc(i[c])){var m=i[c];i[c]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[c+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[c+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Lt)h=ut(e.firestore,nn),d=bh(e._key.path),l={next:function(E){i[c]&&i[c](Hw(h,e,E))},error:i[c+1],complete:i[c+2]};else{var y=ut(e,Sr);h=ut(y.firestore,nn),d=y._query;var b=new ba(h);l={next:function(E){i[c]&&i[c](new Xo(h,b,y,E))},error:i[c+1],complete:i[c+2]},kM(e._query)}return function(E,T,N,L){var A=this,D=new Nm(L),F=new n0(T,D,N);return E.asyncQueue.enqueueAndForget(function(){return B(A,void 0,void 0,function(){var R;return $(this,function(j){switch(j.label){case 0:return R=ZT,[4,bc(E)];case 1:return[2,R.apply(void 0,[j.sent(),F])]}})})}),function(){D.Wo(),E.asyncQueue.enqueueAndForget(function(){return B(A,void 0,void 0,function(){var R;return $(this,function(j){switch(j.label){case 0:return R=e0,[4,bc(E)];case 1:return[2,R.apply(void 0,[j.sent(),F])]}})})})}}(An(h),d,v,l)}function Nh(e,t){return function(n,r){var i=this,s=new dr;return n.asyncQueue.enqueueAndForget(function(){return B(i,void 0,void 0,function(){var a;return $(this,function(c){switch(c.label){case 0:return a=h8,[4,vM(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(An(e),t)}function Hw(e,t,n){var r=n.docs.get(t._key),i=new ba(e);return new mo(e,i,t._key,r,new la(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J8=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return ce(t,e),t.prototype.get=function(n){var r=this,i=Jo(n,this._firestore),s=new ba(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new mo(r._firestore,s,i._key,a._document,new la(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=za(t)}return e.prototype.get=function(t){var n=this,r=Jo(t,this._firestore),i=new Q8(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return _e();var a=s[0];if(a.isFoundDocument())return new Kf(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Kf(n._firestore,i,r._key,null,r.converter);throw _e()})},e.prototype.set=function(t,n,r){var i=Jo(t,this._firestore),s=Pm(i.converter,n,r),a=Dm(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=Jo(t,this._firestore);return a=typeof(n=je(n))=="string"||n instanceof Mi?p0(this._dataReader,"Transaction.update",c._key,n,r,i):d0(this._dataReader,"Transaction.update",c._key,n),this._transaction.update(c._key,a),this},e.prototype.delete=function(t){var n=Jo(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){if(typeof Uint8Array>"u")throw new te(W.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function HR(){if(typeof atob>"u")throw new te(W.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var xM=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return HR(),new e(xa.fromBase64String(t))},e.fromUint8Array=function(t){return BR(),new e(xa.fromUint8Array(t))},e.prototype.toBase64=function(){return HR(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return BR(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Z8=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){LR(r=ut(r,nn));var s=An(r),a=r._freezeSettings(),c=new $w;return PR(s,c,new fM(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){LR(n=ut(n,nn));var r=An(n),i=n._freezeSettings(),s=new $w;return PR(r,s,new C8(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new te(W.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new dr;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return B(r,void 0,void 0,function(){var s;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return B(this,void 0,void 0,function(){var l;return $(this,function(h){switch(h.label){case 0:return vc.yt()?(l=c+"main",[4,vc.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(KT(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),MM=function(){function e(t,n,r){var i=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof pv||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||tv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,c){var l;c===void 0&&(c={});var h=(i=ut(i,Gf))._getSettings();if(h.host!=="firestore.googleapis.com"&&h.host!==s&&tv("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:s+":"+a,ssl:!1})),c.mockUserToken){var d,v;if(typeof c.mockUserToken=="string")d=c.mockUserToken,v=pn.MOCK_USER;else{d=iT(c.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);var m=c.mockUserToken.sub||c.mockUserToken.user_id;if(!m)throw new te(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new pn(m)}i._credentials=new D8(new mM(d,v))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return B(n,void 0,void 0,function(){var r,i;return $(this,function(s){switch(s.label){case 0:return[4,TR(t)];case 1:return r=s.sent(),[4,IR(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var c=fe(a);return c.Or.delete(0),Ah(c)}(i))]}})})})}(An(ut(this._delegate,nn)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return B(n,void 0,void 0,function(){var r,i;return $(this,function(s){switch(s.label){case 0:return[4,TR(t)];case 1:return r=s.sent(),[4,IR(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return B(this,void 0,void 0,function(){var c;return $(this,function(l){switch(l.label){case 0:return(c=fe(a)).Or.add(0),[4,Wc(c)];case 1:return l.sent(),c.Br.set("Offline"),[2]}})})}(i))]}})})})}(An(ut(this._delegate,nn)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&gM("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new dr;return t.asyncQueue.enqueueAndForget(function(){return B(n,void 0,void 0,function(){var i;return $(this,function(s){switch(s.label){case 0:return i=m8,[4,vM(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(An(ut(this._delegate,nn)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,c=new Nm(s);return i.asyncQueue.enqueueAndForget(function(){return B(a,void 0,void 0,function(){var l;return $(this,function(h){switch(h.label){case 0:return l=function(d,v){fe(d).Gr.add(v),v.next()},[4,bc(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})}),function(){c.Wo(),i.asyncQueue.enqueueAndForget(function(){return B(a,void 0,void 0,function(){var l;return $(this,function(h){switch(h.label){case 0:return l=function(d,v){fe(d).Gr.delete(v)},[4,bc(i)];case 1:return[2,l.apply(void 0,[h.sent(),c])]}})})})}}(An(n=ut(n,nn)),wc(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new te(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new gv(this,yM(this._delegate,t))}catch(n){throw $n(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new wa(this,Dp(this._delegate,t))}catch(n){throw $n(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Mm(this,function(n,r){if(n=ut(n,Gf),l0("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new te(W.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Sr(n,null,function(i){return new So(it.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw $n(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var c=this,l=new dr;return s.asyncQueue.enqueueAndForget(function(){return B(c,void 0,void 0,function(){var h;return $(this,function(d){switch(d.label){case 0:return[4,function(v){return Om(v).then(function(m){return m.datastore})}(s)];case 1:return h=d.sent(),new O8(s.asyncQueue,h,a,l).run(),[2]}})})}),l.promise}(An(r),function(s){return i(new J8(r,s))})}(this._delegate,function(r){return t(new FM(n,r))})},e.prototype.batch=function(){var t=this;return An(this._delegate),new UM(new X8(this._delegate,function(n){return Nh(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new te(W.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new te(W.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Lm=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return ce(t,e),t.prototype.convertBytes=function(n){return new xM(new xa(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return wa.eu(r,this.firestore,null)},t}(g0);function eQ(e){var t;t=e,hi.setLogLevel(t)}var FM=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Lm(t)}return e.prototype.get=function(t){var n=this,r=fa(t);return this._delegate.get(r).then(function(i){return new Yf(n._firestore,new mo(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=fa(t);return r?(f0("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=fa(t);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,rt([c,n,r],s)),this},e.prototype.delete=function(t){var n=fa(t);return this._delegate.delete(n),this},e}(),UM=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=fa(t);return r?(f0("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var c=fa(t);return arguments.length===2?this._delegate.update(c,n):(i=this._delegate).update.apply(i,rt([c,n,r],s)),this},e.prototype.delete=function(t){var n=fa(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),xm=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new vf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new zf(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Lm(t),n),i.set(n,s)),s},e}();xm.su=new WeakMap;var wa=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Lm(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new te(W.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Lt(n._delegate,r,new be(t)))},e.eu=function(t,n,r){return new e(n,new Lt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new gv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new gv(this.firestore,yM(this._delegate,t))}catch(n){throw $n(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=je(t))instanceof Lt&&_M(this._delegate,t)},e.prototype.set=function(t,n){n=f0("DocumentReference.set",n);try{return n?jR(this._delegate,t,n):jR(this._delegate,t)}catch(r){throw $n(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?$R(this._delegate,t):$R.apply(void 0,rt([this._delegate,t,n],r))}catch(s){throw $n(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Nh(ut((t=this._delegate).firestore,nn),[new Sh(t._key,On.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=VM(n),s=jM(n,function(a){return new Yf(t.firestore,new mo(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return LM(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ut(r,Lt);var i=ut(r.firestore,nn),s=An(i),a=new ba(i);return function(c,l){var h=this,d=new dr;return c.asyncQueue.enqueueAndForget(function(){return B(h,void 0,void 0,function(){var v;return $(this,function(m){switch(m.label){case 0:return v=function(y,b,E){return B(this,void 0,void 0,function(){var T,N;return $(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,,3]),[4,function(A,D){var F=fe(A);return F.persistence.runTransaction("read document","readonly",function(R){return F.Mn.mn(R,D)})}(y,b)];case 1:return(N=L.sent()).isFoundDocument()?E.resolve(N):N.isNoDocument()?E.resolve(null):E.reject(new te(W.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return T=L.sent(),N=Kc(T,"Failed to get document '"+b+" from cache"),E.reject(N),[3,3];case 3:return[2]}})})},[4,pM(c)];case 1:return[2,v.apply(void 0,[m.sent(),l,d])]}})})}),d.promise}(s,r._key).then(function(c){return new mo(i,a,r._key,c,new la(c!==null&&c.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ut(r,Lt);var i=ut(r.firestore,nn);return SR(An(i),r._key,{source:"server"}).then(function(s){return Hw(i,r,s)})}(this._delegate):function(r){r=ut(r,Lt);var i=ut(r.firestore,nn);return SR(An(i),r._key).then(function(s){return Hw(i,r,s)})}(this._delegate)).then(function(r){return new Yf(n.firestore,new mo(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(xm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function $n(e,t,n){return e.message=e.message.replace(t,n),e}function VM(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!wc(r))return r}return{}}function jM(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=wc(e[0])?e[0]:wc(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Yf=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new wa(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return RM(this._delegate,t._delegate)},e}(),zf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return ce(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Yf),Mm=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Lm(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,jo(this._delegate,function(i,s,a){var c=s,l=mv("where",i);return new Y8(l,c,a)}(t,n,r)))}catch(i){throw $n(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,jo(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=mv("orderBy",r);return new z8(a,s)}(t,n)))}catch(r){throw $n(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,jo(this._delegate,function(n){return kR("limit",n),new xR("limit",n,"F")}(t)))}catch(n){throw $n(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,jo(this._delegate,function(n){return kR("limitToLast",n),new xR("limitToLast",n,"L")}(t)))}catch(n){throw $n(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new MR("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw $n(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new MR("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw $n(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new FR("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw $n(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,jo(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new FR("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw $n(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return bM(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=ut(r,Sr);var i=ut(r.firestore,nn),s=An(i),a=new ba(i);return function(c,l){var h=this,d=new dr;return c.asyncQueue.enqueueAndForget(function(){return B(h,void 0,void 0,function(){var v;return $(this,function(m){switch(m.label){case 0:return v=function(y,b,E){return B(this,void 0,void 0,function(){var T,N,L,A,D;return $(this,function(F){switch(F.label){case 0:return F.trys.push([0,2,,3]),[4,fv(y,b,!0)];case 1:return D=F.sent(),T=new sM(b,D.Bn),N=T._o(D.documents),L=T.applyChanges(N,!1),E.resolve(L.snapshot),[3,3];case 2:return A=F.sent(),D=Kc(A,"Failed to execute query '"+b+" against cache"),E.reject(D),[3,3];case 3:return[2]}})})},[4,pM(c)];case 1:return[2,v.apply(void 0,[m.sent(),l,d])]}})})}),d.promise}(s,r._query).then(function(c){return new Xo(i,a,r,c)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=ut(r,Sr);var i=ut(r.firestore,nn),s=An(i),a=new ba(i);return AR(s,r._query,{source:"server"}).then(function(c){return new Xo(i,a,r,c)})}(this._delegate):function(r){r=ut(r,Sr);var i=ut(r.firestore,nn),s=An(i),a=new ba(i);return kM(r._query),AR(s,r._query).then(function(c){return new Xo(i,a,r,c)})}(this._delegate)).then(function(r){return new Ww(n.firestore,new Xo(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=VM(n),s=jM(n,function(a){return new Ww(t.firestore,new Xo(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return LM(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(xm.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),tQ=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new zf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Ww=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Mm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new zf(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new tQ(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new zf(r._firestore,i))})},e.prototype.isEqual=function(t){return RM(this._delegate,t._delegate)},e}(),gv=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return ce(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new wa(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new wa(this.firestore,n===void 0?Dp(this._delegate):Dp(this._delegate,n))}catch(r){throw $n(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=ut(i.firestore,nn),c=Dp(i),l=Pm(i.converter,s);return Nh(a,[Dm(za(i.firestore),"addDoc",c._key,l,i.converter!==null,{}).toMutation(c._key,On.exists(!1))]).then(function(){return c})}(this._delegate,n).then(function(i){return new wa(r.firestore,i)})},t.prototype.isEqual=function(n){return _M(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(xm.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Mm);function fa(e){return ut(e,Lt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nQ=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Mi.bind.apply(Mi,rt([void 0],t)))}return e.documentId=function(){return new e(gi.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=je(t))instanceof Mi&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),rQ=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new $8("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new h0("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new B8("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new H8("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new W8("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),iQ={Firestore:MM,GeoPoint:km,Timestamp:lr,Blob:xM,Transaction:FM,WriteBatch:UM,DocumentReference:wa,DocumentSnapshot:Yf,Query:Mm,QueryDocumentSnapshot:zf,QuerySnapshot:Ww,CollectionReference:gv,FieldPath:nQ,FieldValue:rQ,setLogLevel:eQ,CACHE_SIZE_UNLIMITED:F8};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oQ(e){(function(t,n){t.INTERNAL.registerComponent(new Bi("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},iQ)))})(e,function(t,n){return new MM(t,new nn(t,n),new Z8)}),e.registerVersion("@firebase/firestore","2.4.1")}oQ(Ce);var sQ={},aQ="@firebase/database",uQ="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $M="";function BM(e){$M=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cQ=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Zt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Pf(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lQ=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return Ar(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HM=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new cQ(t)}}catch{}return new lQ},ha=HM("localStorage"),qw=HM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ju=new om("@firebase/database"),WM=function(){var e=1;return function(){return e++}}(),qM=function(e){var t=D4(e),n=new N4;n.update(t);var r=n.digest();return rT.encodeByteArray(r)},Oh=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Oh.apply(null,i):typeof i=="object"?n+=Zt(i):n+=i,n+=" "}return n},Ea=null,WR=!0,GM=function(e,t){ie(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ju.logLevel=Ze.VERBOSE,Ea=Ju.log.bind(Ju),t&&qw.set("logging_enabled",!0)):typeof e=="function"?Ea=e:(Ea=null,qw.remove("logging_enabled"))},ln=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(WR===!0&&(WR=!1,Ea===null&&qw.get("logging_enabled")===!0&&GM(!0)),Ea){var n=Oh.apply(null,e);Ea(n)}},Rh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];ln.apply(void 0,rt([e],Nn(t)))}},Gw=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Oh.apply(void 0,rt([],Nn(e)));Ju.error(n)},qi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Oh.apply(void 0,rt([],Nn(e)));throw Ju.error(n),new Error(n)},bn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Oh.apply(void 0,rt([],Nn(e)));Ju.warn(n)},fQ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Fm=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},hQ=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},wo="[MIN_NAME]",Gi="[MAX_NAME]",Xa=function(e,t){if(e===t)return 0;if(e===wo||t===Gi)return-1;if(t===wo||e===Gi)return 1;var n=yv(e),r=yv(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},dQ=function(e,t){return e===t?0:e<t?-1:1},Kl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Zt(t))},y0=function(e){if(typeof e!="object"||e===null)return Zt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=Zt(t[i]),r+=":",r+=y0(e[t[i]]);return r+="}",r},KM=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function sn(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var YM=function(e){ie(!Fm(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,c,l;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=c+r,a=Math.round(e*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(l=n;l;l-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(l=t;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(l=0;l<64;l+=8){var m=parseInt(d.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},pQ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vQ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mQ(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var gQ=new RegExp("^-?(0*)\\d{1,10}$"),zM=-2147483648,_0=2147483647,yv=function(e){if(gQ.test(e)){var t=Number(e);if(t>=zM&&t<=_0)return t}return null},Yc=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw bn("Exception was thrown by user callback.",n),t},Math.floor(0))}},yQ=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},mf=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _Q=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){var n=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(r,i){setTimeout(function(){n.appCheck?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){bn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bQ=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){var n=this;return this.auth_?this.auth_.getToken(t).catch(function(r){return r&&r.code==="auth/token-not-initialized"?(ln("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)}):new Promise(function(r,i){setTimeout(function(){n.auth_?n.getToken(t).then(r,i):r(null)},0)})},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)})},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bn(t)},e}(),gf=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b0="5",QM="v",XM="s",JM="r",ZM="f",eF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tF="ls",wQ="p",Kw="ac",nF="websocket",rF="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w0=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=!1),a===void 0&&(a=""),c===void 0&&(c=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ha.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ha.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function EQ(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function iF(e,t,n){ie(typeof t=="string","typeof type must == string"),ie(typeof n=="object","typeof params must == object");var r;if(t===nF)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===rF)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);EQ(e)&&(n.ns=e.namespace);var i=[];return sn(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TQ=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),Ar(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return UL(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ib={},Sb={};function E0(e){var t=e.toString();return Ib[t]||(Ib[t]=new TQ),Ib[t]}function IQ(e,t){var n=e.toString();return Sb[n]||(Sb[n]=t()),Sb[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SQ=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var c=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var l=function(d){c[d]&&Yc(function(){r.onMessage_(c[d])})},h=0;h<c.length;++h)l(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qR="start",AQ="close",CQ="pLPCommand",NQ="pRTLPCB",oF="id",sF="pw",aF="ser",OQ="cb",RQ="seg",kQ="ts",DQ="d",PQ="dframe",uF=1870,cF=30,LQ=uF-cF,xQ=25e3,MQ=3e4,T0=function(){function e(t,n,r,i,s,a,c){var l=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Rh(t),this.stats_=E0(n),this.urlFn=function(h){return l.appCheckToken&&(h[Kw]=l.appCheckToken),iF(n,rF,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new SQ(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(MQ)),hQ(function(){if(!r.isClosed_){r.scriptTagHolder=new FQ(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Nn(a,5),h=l[0],d=l[1],v=l[2];if(l[3],l[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===qR)r.id=d,r.password=v;else if(h===AQ)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Nn(a,2),h=l[0],d=l[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[qR]="t",i[aF]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[OQ]=r.scriptTagHolder.uniqueCallbackIdentifier),i[QM]=b0,r.transportSessionId&&(i[XM]=r.transportSessionId),r.lastSessionId&&(i[tF]=r.lastSessionId),r.applicationId&&(i[wQ]=r.applicationId),r.appCheckToken&&(i[Kw]=r.appCheckToken),typeof location<"u"&&location.hostname&&eF.test(location.hostname)&&(i[JM]=ZM);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pQ()&&!vQ()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=Zt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=FL(n),i=KM(r,LQ),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[PQ]="t",r[oF]=t,r[sF]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=Zt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),FQ=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WM(),window[CQ+this.uniqueCallbackIdentifier]=t,window[NQ+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(l){ln("frame writing exception"),l.stack&&ln(l.stack),ln(l)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||ln("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[oF]=this.myID,t[sF]=this.myPW,t[aF]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+cF+r.length<=uF){var a=this.pendingSegs.shift();r=r+"&"+RQ+i+"="+a.seg+"&"+kQ+i+"="+a.ts+"&"+DQ+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(xQ)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){ln("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UQ=16384,VQ=45e3,_v=null;typeof MozWebSocket<"u"?_v=MozWebSocket:typeof WebSocket<"u"&&(_v=WebSocket);var aa=function(){function e(t,n,r,i,s,a,c){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Rh(this.connId),this.stats_=E0(n),this.connURL=e.connectionURL_(n,a,c,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[QM]=b0,typeof location<"u"&&location.hostname&&eF.test(location.hostname)&&(s[JM]=ZM),n&&(s[XM]=n),r&&(s[tF]=r),i&&(s[Kw]=i),iF(t,nF,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ha.set("previous_websocket_failure",!0);try{var i,s,a,c;if(!$L()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new _v(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&_v!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return ha.isInMemoryStorage||ha.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){ha.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Pf(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(ie(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=Zt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=KM(n,UQ);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(VQ))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jQ=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[T0,aa]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=aa&&aa.isAvailable(),s=i&&!aa.previouslyFailed();if(t.webSocketOnly&&(i||bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[aa];else{var a=this.transports_=[];try{for(var c=Yn(e.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $Q=6e4,BQ=5e3,HQ=10*1024,WQ=100*1024,Ab="t",GR="d",qQ="s",KR="r",GQ="e",YR="o",zR="a",QR="n",XR="p",KQ="h",lF=function(){function e(t,n,r,i,s,a,c,l,h,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=l,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Rh("c:"+this.id+":"),this.transportManager_=new jQ(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=mf(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>WQ?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>HQ?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(Ab in t){var n=t[Ab];n===zR?this.upgradeIfSecondaryHealthy_():n===KR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===YR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Kl("t",t),r=Kl("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:XR,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:QR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Kl("t",t),r=Kl("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Kl(Ab,t);if(GR in t){var r=t[GR];if(n===KQ)this.onHandshake_(r);else if(n===QR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qQ?this.onConnectionShutdown_(r):n===KR?this.onReset_(r):n===GQ?Gw("Server Error: "+r):n===YR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Gw("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),b0!==r&&bn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),mf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor($Q))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(BQ))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:XR,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fF=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hF=function(){function e(t){this.allowedEvents_=t,this.listeners_={},ie(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=rt([],Nn(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){ie(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JR=function(e){ce(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!oT()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return ie(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(hF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZR=32,ek=768,lt=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function tt(){return new lt("")}function $e(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function cs(e){return e.pieces_.length-e.pieceNum_}function mt(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new lt(e.pieces_,t)}function I0(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function YQ(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Qf(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function dF(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new lt(t,0)}function Rt(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof lt)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new lt(n,0)}function Be(e){return e.pieceNum_>=e.pieces_.length}function Kn(e,t){var n=$e(e),r=$e(t);if(n===null)return t;if(n===r)return Kn(mt(e),mt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function zQ(e,t){for(var n=Qf(e,0),r=Qf(t,0),i=0;i<n.length&&i<r.length;i++){var s=Xa(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function S0(e,t){if(cs(e)!==cs(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ur(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(cs(e)>cs(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var QQ=function(){function e(t,n){this.errorPrefix_=n,this.parts_=Qf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=im(this.parts_[r]);pF(this)}return e}();function XQ(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=im(t),pF(e)}function JQ(e){var t=e.parts_.pop();e.byteLength_-=im(t),e.parts_.length>0&&(e.byteLength_-=1)}function pF(e){if(e.byteLength_>ek)throw new Error(e.errorPrefix_+"has a key path longer than "+ek+" bytes ("+e.byteLength_+").");if(e.parts_.length>ZR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ZR+") or object contains a cycle "+ra(e))}function ra(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZQ=function(e){ce(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return ie(n==="visible","Unknown event type: "+n),[this.visible_]},t}(hF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yl=1e3,eX=60*5*1e3,tX=3*1e3,tk=30*1e3,nX=1.3,rX=3e4,iX="server_kill",nk=3,Ta=function(e){ce(t,e);function t(n,r,i,s,a,c,l,h){var d=e.call(this)||this;if(d.repoInfo_=n,d.applicationId_=r,d.onDataUpdate_=i,d.onConnectStatus_=s,d.onServerInfoUpdate_=a,d.authTokenProvider_=c,d.appCheckTokenProvider_=l,d.authOverride_=h,d.id=t.nextPersistentConnectionId_++,d.log_=Rh("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=Yl,d.maxReconnectDelay_=eX,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!$L())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return ZQ.getInstance().on("visible",d.onVisible_,d),n.host.indexOf("fblocal")===-1&&JR.getInstance().on("online",d.onOnline_,d),d}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Zt(a)),ie(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this;this.initConnection_();var i=new ir,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(l){var h=l.d;l.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[c];l===void 0||a!==l||(delete r.outstandingGets_[c],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},tX),this.connected_&&this.sendGet_(c),i.promise},t.prototype.listen=function(n,r,i,s){this.initConnection_();var a=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),ie(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ie(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");var l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(a,l),this.connected_&&this.sendListen_(l)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var c={p:s},l="q";n.tag&&(c.q=i._queryObject,c.t=n.tag),c.h=n.hashFn(),this.sendRequest(l,c,function(h){var d=h.d,v=h.s;t.warnOnListenWarnings_(d,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Ar(n,"w")){var i=Oa(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();bn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||A4(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tk)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=S4(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var c=a.s,l=a.d||"error";n.authToken_===r&&(c==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(c,l))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),ie(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},c="n";s&&(a.q=i,a.t=s),this.sendRequest(c,a)},t.prototype.onDisconnectPut=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(c){s&&setTimeout(function(){s(c.s,c.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){this.initConnection_();var c={p:r,d:i};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(c){r.log_(i+" response",c),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(c.s,c.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var c=s.d;r.log_("reportStats","Error sending stats: "+c)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Zt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Gw("Unrecognized action received from server: "+Zt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;ie(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>rX&&(this.reconnectDelay_=Yl),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nX)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return B(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,m,y,b,E,T=this;return $(this,function(N){switch(N.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())},d=function(L){ie(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(L)},this.realtime_={close:h,sendRequest:d},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,N.label=1;case 1:return N.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return m=Nn.apply(void 0,[N.sent(),2]),y=m[0],b=m[1],c?ln("getToken() completed but was canceled"):(ln("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=b&&b.token,l=new lF(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(L){bn(L+" ("+T.repoInfo_.toString()+")"),T.interrupt(iX)},a)),[3,4];case 3:return E=N.sent(),this.log_("Failed to get token: "+E),c||(this.repoInfo_.nodeAdmin&&bn(E),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){ln("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){ln("Resuming connection for reason: "+n),delete this.interruptReasons_[n],mw(this.interruptReasons_)&&(this.reconnectDelay_=Yl,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return y0(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new lt(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){ln("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=nk&&(this.reconnectDelay_=tk,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){ln("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=nk&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=Yn(this.listens.values()),c=a.next();!c.done;c=a.next()){var l=c.value;try{for(var h=(i=void 0,Yn(l.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(b){i={error:b}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+$M.replace(/\./g,"-")]=1,oT()?n["framework.cordova"]=1:jL()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=JR.getInstance().currentlyOnline();return mw(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(fF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Um=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Ye(wo,t),i=new Ye(wo,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Ye.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sp,vF=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return sp},set:function(n){sp=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Xa(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw Vc("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Ye.MIN},t.prototype.maxPost=function(){return new Ye(Gi,sp)},t.prototype.makePost=function(n,r){return ie(typeof n=="string","KeyIndex indexValue must always be a string."),new Ye(n,sp)},t.prototype.toString=function(){return".key"},t}(Um),Fi=new vF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ap=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),ai=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??lo.EMPTY_NODE,this.right=s??lo.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return lo.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return lo.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),oX=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new ai(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),lo=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ai.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ai.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new ap(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new ap(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new ap(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new ap(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new oX,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(e,t){return Xa(e.name,t.name)}function A0(e,t){return Xa(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yw;function aX(e){Yw=e}var mF=function(e){return typeof e=="number"?"number:"+YM(e):"string:"+e},gF=function(e){if(e.isLeafNode()){var t=e.val();ie(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ar(t,".sv"),"Priority must be a string or number.")}else ie(e===Yw||e.isEmpty(),"priority of unexpected type.");ie(e===Yw||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rk,Ec=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ie(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gF(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return rk},set:function(t){rk=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Be(t)?this:$e(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=$e(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ie(r!==".priority"||cs(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(mt(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+mF(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=YM(this.value_):t+=this.value_,this.lazyHash_=qM(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ie(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return ie(i>=0,"Unknown leaf type: "+n),ie(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yF,_F;function uX(e){yF=e}function cX(e){_F=e}var lX=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Xa(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Ye.MIN},t.prototype.maxPost=function(){return new Ye(Gi,new Ec("[PRIORITY-POST]",_F))},t.prototype.makePost=function(n,r){var i=yF(n);return new Ye(r,new Ec("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(Um),wt=new lX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fX=Math.log(2),hX=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/fX,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),bv=function(e,t,n,r){e.sort(t);var i=function(l,h){var d=h-l,v,m;if(d===0)return null;if(d===1)return v=e[l],m=n?n(v):v,new ai(m,v.node,ai.BLACK,null,null);var y=parseInt(d/2,10)+l,b=i(l,y),E=i(y+1,h);return v=e[y],m=n?n(v):v,new ai(m,v.node,ai.BLACK,b,E)},s=function(l){for(var h=null,d=null,v=e.length,m=function(N,L){var A=v-N,D=v;v-=N;var F=i(A+1,D),R=e[A],j=n?n(R):R;y(new ai(j,R.node,L,null,F))},y=function(N){h?(h.left=N,h=N):(d=N,h=N)},b=0;b<l.count;++b){var E=l.nextBitIsOne(),T=Math.pow(2,l.count-(b+1));E?m(T,ai.BLACK):(m(T,ai.BLACK),m(T,ai.RED))}return d},a=new hX(e.length),c=s(a);return new lo(r||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cb,Ru={},wv=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return ie(Ru&&wt,"ChildrenNode.ts has not been loaded"),Cb=Cb||new e({".priority":Ru},{".priority":wt}),Cb},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=Oa(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof lo?n:null},e.prototype.hasIndex=function(t){return Ar(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){ie(t!==Fi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Ye.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var c;i?c=bv(r,t.getCompare()):c=Ru;var l=t.toString(),h=tn({},this.indexSet_);h[l]=t;var d=tn({},this.indexes_);return d[l]=c,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Wp(this.indexes_,function(s,a){var c=Oa(r.indexSet_,a);if(ie(c,"Missing index implementation for "+a),s===Ru)if(c.isDefinedOn(t.node)){for(var l=[],h=n.getIterator(Ye.Wrap),d=h.getNext();d;)d.name!==t.name&&l.push(d),d=h.getNext();return l.push(t),bv(l,c.getCompare())}else return Ru;else{var v=n.get(t.name),m=s;return v&&(m=m.remove(new Ye(t.name,v))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Wp(this.indexes_,function(i){if(i===Ru)return i;var s=n.get(t.name);return s?i.remove(new Ye(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zl,Fe=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&gF(this.priorityNode_),this.children_.isEmpty()&&ie(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return zl||(zl=new e(new lo(A0),null,wv.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||zl},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?zl:n},e.prototype.getChild=function(t){var n=$e(t);return n===null?this:this.getImmediateChild(n).getChild(mt(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(ie(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Ye(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?zl:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=$e(t);if(r===null)return n;ie($e(t)!==".priority"||cs(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(mt(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(wt,function(l,h){n[l]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!t&&s&&i<2*r){var a=[];for(var c in n)a[c]=n[c];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+mF(this.getPriority().val())+":"),this.forEachChild(wt,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":qM(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Ye(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Ye(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Ye(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Ye.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Ye.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===kh?-1:0},e.prototype.withIndex=function(t){if(t===Fi||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===Fi||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(wt),i=n.getIterator(wt),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===Fi?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),dX=function(e){ce(t,e);function t(){return e.call(this,new lo(A0),Fe.EMPTY_NODE,wv.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return Fe.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Fe),kh=new dX;Object.defineProperties(Ye,{MIN:{value:new Ye(wo,Fe.EMPTY_NODE)},MAX:{value:new Ye(Gi,kh)}});vF.__EMPTY_NODE=Fe.EMPTY_NODE;Ec.__childrenNodeConstructor=Fe;aX(kh);cX(kh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pX=!0;function xt(e,t){if(t===void 0&&(t=null),e===null)return Fe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),ie(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new Ec(n,xt(t))}if(!(e instanceof Array)&&pX){var r=[],i=!1,s=e;if(sn(s,function(h,d){if(h.substring(0,1)!=="."){var v=xt(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Ye(h,v)))}}),r.length===0)return Fe.EMPTY_NODE;var a=bv(r,sX,function(h){return h.name},A0);if(i){var c=bv(r,wt.getCompare());return new Fe(a,xt(t),new wv({".priority":c},{".priority":wt}))}else return new Fe(a,xt(t),wv.Default)}else{var l=Fe.EMPTY_NODE;return sn(e,function(h,d){if(Ar(e,h)&&h.substring(0,1)!=="."){var v=xt(d);(v.isLeafNode()||!v.isEmpty())&&(l=l.updateImmediateChild(h,v))}}),l.updatePriority(xt(t))}}uX(xt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C0=function(e){ce(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,ie(!Be(n)&&$e(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Xa(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=xt(n),s=Fe.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ye(r,s)},t.prototype.maxPost=function(){var n=Fe.EMPTY_NODE.updateChild(this.indexPath_,kh);return new Ye(Gi,n)},t.prototype.toString=function(){return Qf(this.indexPath_,0).join("/")},t}(Um);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vX=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Xa(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Ye.MIN},t.prototype.maxPost=function(){return Ye.MAX},t.prototype.makePost=function(n,r){var i=xt(n);return new Ye(r,i)},t.prototype.toString=function(){return".value"},t}(Um),N0=new vX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zw="-",bF="z",wF=786,mX=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=Tc.charAt(n%64),n=Math.floor(n/64);ie(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Tc.charAt(t[i]);return ie(a.length===20,"nextPushId: Length should be 20."),a}}(),ik=function(e){if(e===""+_0)return zw;var t=yv(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<wF)return n.push(zw),n.join("");for(var i=n.length-1;i>=0&&n[i]===bF;)i--;if(i===-1)return Gi;var s=n[i],a=Tc.charAt(Tc.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},ok=function(e){if(e===""+zM)return wo;var t=yv(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===zw?n.length===1?""+_0:(delete n[n.length-1],n.join("")):(n[n.length-1]=Tc.charAt(Tc.indexOf(n[n.length-1])-1),n.join("")+bF.repeat(wF-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(e){return{type:"value",snapshotNode:e}}function Ic(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Xf(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Jf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function gX(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O0=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){ie(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=t.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Xf(n,c)):ie(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(Ic(n,r)):a.trackChildChange(Jf(n,r,c))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(wt,function(i,s){n.hasChild(i)||r.trackChildChange(Xf(i,s))}),n.isLeafNode()||n.forEachChild(wt,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Jf(i,s,a))}else r.trackChildChange(Ic(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?Fe.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TF=function(){function e(t){this.indexedFilter_=new O0(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Ye(n,r))||(r=Fe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=Fe.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Fe.EMPTY_NODE);var s=this;return n.forEachChild(wt,function(a,c){s.matches(new Ye(a,c))||(i=i.updateImmediateChild(a,Fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yX=function(){function e(t){this.rangedFilter_=new TF(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Ye(n,r))||(r=Fe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Fe.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var c=s.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:l=this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(c.name,c.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Fe.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(T,N){return m(N,T)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var c=s.getNext();!y&&v(h,c)<=0&&(y=!0);var l=y&&a<this.limit_&&v(c,d)<=0;l?a++:i=i.updateImmediateChild(c.name,Fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var c=this.index_.getCompare();a=function(L,A){return c(A,L)}}else a=this.index_.getCompare();var l=t;ie(l.numChildren()===this.limit_,"");var h=new Ye(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(l.hasChild(n)){for(var m=l.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var b=y==null?1:a(y,h),E=v&&!r.isEmpty()&&b>=0;if(E)return s!=null&&s.trackChildChange(Jf(n,r,m)),l.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Xf(n,m));var T=l.updateImmediateChild(n,Fe.EMPTY_NODE),N=y!=null&&this.rangedFilter_.matches(y);return N?(s!=null&&s.trackChildChange(Ic(y.name,y.node)),T.updateImmediateChild(y.name,y.node)):T}else return r.isEmpty()?t:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(Xf(d.name,d.node)),s.trackChildChange(Ic(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,Fe.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IF=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return ie(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return ie(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wo},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return ie(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return ie(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return ie(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===wt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function _X(e){return e.loadsAllData()?new O0(e.getIndex()):e.hasLimit()?new yX(e):new TF(e)}function bX(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function wX(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Qw(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function EX(e,t,n){var r;if(e.index_===Fi)typeof t=="string"&&(t=ik(t)),r=Qw(e,t,n);else{var i=void 0;n==null?i=Gi:i=ik(n),r=Qw(e,t,i)}return r.startAfterSet_=!0,r}function Xw(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function TX(e,t,n){var r,i;return e.index_===Fi?(typeof t=="string"&&(t=ok(t)),i=Xw(e,t,n)):(n==null?r=wo:r=ok(n),i=Xw(e,t,r)),i.endBeforeSet_=!0,i}function Vm(e,t){var n=e.copy();return n.index_=t,n}function sk(e){var t={};if(e.isDefault())return t;var n;return e.index_===wt?n="$priority":e.index_===N0?n="$value":e.index_===Fi?n="$key":(ie(e.index_ instanceof C0,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Zt(n),e.startSet_&&(t.startAt=Zt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Zt(e.indexStartName_))),e.endSet_&&(t.endAt=Zt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Zt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ak(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==wt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IX=function(e){ce(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=Rh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(ie(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,c=n._path.toString();this.log_("Listen called for "+c+" "+n._queryIdentifier);var l=t.getListenId_(n,i),h={};this.listens_[l]=h;var d=sk(n._queryParams);this.restRequest_(c+".json",d,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(c,y,!1,i),Oa(a.listens_,l)===h){var b;v?v===401?b="permission_denied":b="rest_error:"+v:b="ok",s(b,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=sk(n._queryParams),s=n._path.toString(),a=new ir;return this.restRequest_(s+".json",i,function(c,l){var h=l;c===404&&(h=null,c=null),c===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var c=Nn(a,2),l=c[0],h=c[1];l&&l.accessToken&&(r.auth=l.accessToken),h&&h.token&&(r.ac=h.token);var d=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+C4(r);s.log_("Sending REST request for "+d);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+d+" received. status:",v.status,"response:",v.responseText);var m=null;if(v.status>=200&&v.status<300){try{m=Pf(v.responseText)}catch{bn("Failed to parse JSON response for "+d+": "+v.responseText)}i(null,m)}else v.status!==401&&v.status!==404&&bn("Got unsuccessful REST response for "+d+" Status: "+v.status),i(v.status);i=null}},v.open("GET",d,!0),v.send()})},t}(fF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SX=function(){function e(){this.rootNode_=Fe.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(){return{value:null,children:new Map}}function zc(e,t,n){if(Be(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=$e(t);e.children.has(r)||e.children.set(r,Ev());var i=e.children.get(r);t=mt(t),zc(i,t,n)}}function Jw(e,t){if(Be(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(wt,function(s,a){zc(e,new lt(s),a)}),Jw(e,t)}else if(e.children.size>0){var r=$e(t);if(t=mt(t),e.children.has(r)){var i=Jw(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function Zw(e,t,n){e.value!==null?n(t,e.value):AX(e,function(r,i){var s=new lt(t.toString()+"/"+r);Zw(i,s,n)})}function AX(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SF=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=tn({},t);return this.last_&&sn(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uk=10*1e3,CX=30*1e3,NX=5*60*1e3,OX=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new SF(t);var r=uk+(CX-uk)*Math.random();mf(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;sn(n,function(s,a){a>0&&Ar(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),mf(this.reportStats_.bind(this),Math.floor(Math.random()*2*NX))},e}();function RX(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ci||(ci={}));function R0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function k0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function D0(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kX=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ci.ACK_USER_WRITE,this.source=R0()}return e.prototype.operationForChild=function(t){if(Be(this.path)){if(this.affectedTree.value!=null)return ie(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new lt(t));return new e(tt(),n,this.revert)}else return ie($e(this.path)===t,"operationForChild called for unrelated child."),new e(mt(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AF=function(){function e(t,n){this.source=t,this.path=n,this.type=ci.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Be(this.path)?new e(this.source,tt()):new e(this.source,mt(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jm=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ci.OVERWRITE}return e.prototype.operationForChild=function(t){return Be(this.path)?new e(this.source,tt(),this.snap.getImmediateChild(t)):new e(this.source,mt(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P0=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ci.MERGE}return e.prototype.operationForChild=function(t){if(Be(this.path)){var n=this.children.subtree(new lt(t));return n.isEmpty()?null:n.value?new jm(this.source,tt(),n.value):new e(this.source,tt(),n)}else return ie($e(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,mt(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(Be(t))return this.isFullyInitialized()&&!this.filtered_;var n=$e(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DX=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function PX(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(gX(a.childName,a.snapshotNode))}),Ql(e,i,"child_removed",t,r,n),Ql(e,i,"child_added",t,r,n),Ql(e,i,"child_moved",s,r,n),Ql(e,i,"child_changed",t,r,n),Ql(e,i,"value",t,r,n),i}function Ql(e,t,n,r,i,s){var a=r.filter(function(c){return c.type===n});a.sort(function(c,l){return xX(e,c,l)}),a.forEach(function(c){var l=LX(e,c,s);i.forEach(function(h){h.respondsTo(c.type)&&t.push(h.createEvent(l,e.query_))})})}function LX(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function xX(e,t,n){if(t.childName==null||n.childName==null)throw Vc("Should only compare child_ events.");var r=new Ye(t.childName,t.snapshotNode),i=new Ye(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(e,t){return{eventCache:e,serverCache:t}}function yf(e,t,n,r){return $m(new ls(t,n,r),e.serverCache)}function CF(e,t,n,r){return $m(e.eventCache,new ls(t,n,r))}function Tv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ma(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nb,MX=function(){return Nb||(Nb=new lo(dQ)),Nb},Nr=function(){function e(t,n){n===void 0&&(n=MX()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return sn(t,function(r,i){n=n.set(new lt(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:tt(),value:this.value};if(Be(t))return null;var r=$e(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(mt(t),n);if(s!=null){var a=Rt(new lt(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(Be(t))return this;var n=$e(t),r=this.children.get(n);return r!==null?r.subtree(mt(t)):new e(null)},e.prototype.set=function(t,n){if(Be(t))return new e(n,this.children);var r=$e(t),i=this.children.get(r)||new e(null),s=i.set(mt(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(Be(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=$e(t),r=this.children.get(n);if(r){var i=r.remove(mt(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(Be(t))return this.value;var n=$e(t),r=this.children.get(n);return r?r.get(mt(t)):null},e.prototype.setTree=function(t,n){if(Be(t))return n;var r=$e(t),i=this.children.get(r)||new e(null),s=i.setTree(mt(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(tt(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(Rt(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,tt(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(Be(t))return null;var s=$e(t),a=this.children.get(s);return a?a.findOnPath_(mt(t),Rt(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,tt(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(Be(t))return this;this.value&&r(n,this.value);var i=$e(t),s=this.children.get(i);return s?s.foreachOnPath_(mt(t),Rt(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(tt(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(Rt(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var go=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new Nr(null))},e}();function _f(e,t,n){if(Be(t))return new go(new Nr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=Kn(i,t);return s=s.updateChild(a,n),new go(e.writeTree_.set(i,s))}else{var c=new Nr(n),l=e.writeTree_.setTree(t,c);return new go(l)}}function eE(e,t,n){var r=e;return sn(n,function(i,s){r=_f(r,Rt(t,i),s)}),r}function ck(e,t){if(Be(t))return go.empty();var n=e.writeTree_.setTree(t,new Nr(null));return new go(n)}function tE(e,t){return Ja(e,t)!=null}function Ja(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Kn(n.path,t)):null}function lk(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(wt,function(r,i){t.push(new Ye(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Ye(r,i.value))}),t}function is(e,t){if(Be(t))return e;var n=Ja(e,t);return n!=null?new go(new Nr(n)):new go(e.writeTree_.subtree(t))}function nE(e){return e.writeTree_.isEmpty()}function Sc(e,t){return NF(tt(),e.writeTree_,t)}function NF(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(ie(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=NF(Rt(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Rt(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(e,t){return DF(t,e)}function FX(e,t,n,r,i){ie(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=_f(e.visibleWrites,t,n)),e.lastWriteId=r}function UX(e,t,n,r){ie(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=eE(e.visibleWrites,t,n),e.lastWriteId=r}function VX(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function jX(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});ie(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var c=e.allWrites[a];c.visible&&(a>=n&&$X(c,r.path)?i=!1:Ur(r.path,c.path)&&(s=!0)),a--}if(i){if(s)return BX(e),!0;if(r.snap)e.visibleWrites=ck(e.visibleWrites,r.path);else{var l=r.children;sn(l,function(h){e.visibleWrites=ck(e.visibleWrites,Rt(r.path,h))})}return!0}else return!1}function $X(e,t){if(e.snap)return Ur(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ur(Rt(e.path,n),t))return!0;return!1}function BX(e){e.visibleWrites=OF(e.allWrites,HX,tt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function HX(e){return e.visible}function OF(e,t,n){for(var r=go.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,c=void 0;if(s.snap)Ur(n,a)?(c=Kn(n,a),r=_f(r,c,s.snap)):Ur(a,n)&&(c=Kn(a,n),r=_f(r,tt(),s.snap.getChild(c)));else if(s.children){if(Ur(n,a))c=Kn(n,a),r=eE(r,c,s.children);else if(Ur(a,n))if(c=Kn(a,n),Be(c))r=eE(r,tt(),s.children);else{var l=Oa(s.children,$e(c));if(l){var h=l.getChild(mt(c));r=_f(r,tt(),h)}}}else throw Vc("WriteRecord should have .snap or .children")}}return r}function RF(e,t,n,r,i){if(!r&&!i){var s=Ja(e.visibleWrites,t);if(s!=null)return s;var a=is(e.visibleWrites,t);if(nE(a))return n;if(n==null&&!tE(a,tt()))return null;var c=n||Fe.EMPTY_NODE;return Sc(a,c)}else{var l=is(e.visibleWrites,t);if(!i&&nE(l))return n;if(!i&&n==null&&!tE(l,tt()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(Ur(m.path,t)||Ur(t,m.path))},d=OF(e.allWrites,h,t),c=n||Fe.EMPTY_NODE;return Sc(d,c)}}function WX(e,t,n){var r=Fe.EMPTY_NODE,i=Ja(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(wt,function(c,l){r=r.updateImmediateChild(c,l)}),r;if(n){var s=is(e.visibleWrites,t);return n.forEachChild(wt,function(c,l){var h=Sc(is(s,new lt(c)),l);r=r.updateImmediateChild(c,h)}),lk(s).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}else{var a=is(e.visibleWrites,t);return lk(a).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}}function qX(e,t,n,r,i){ie(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=Rt(t,n);if(tE(e.visibleWrites,s))return null;var a=is(e.visibleWrites,s);return nE(a)?i.getChild(n):Sc(a,i.getChild(n))}function GX(e,t,n,r){var i=Rt(t,n),s=Ja(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=is(e.visibleWrites,i);return Sc(a,r.getNode().getImmediateChild(n))}else return null}function KX(e,t){return Ja(e.visibleWrites,t)}function YX(e,t,n,r,i,s,a){var c,l=is(e.visibleWrites,t),h=Ja(l,tt());if(h!=null)c=h;else if(n!=null)c=Sc(l,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){for(var d=[],v=a.getCompare(),m=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a),y=m.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=m.getNext();return d}else return[]}function zX(){return{visibleWrites:go.empty(),allWrites:[],lastWriteId:-1}}function Iv(e,t,n,r){return RF(e.writeTree,e.treePath,t,n,r)}function L0(e,t){return WX(e.writeTree,e.treePath,t)}function fk(e,t,n,r){return qX(e.writeTree,e.treePath,t,n,r)}function Sv(e,t){return KX(e.writeTree,Rt(e.treePath,t))}function QX(e,t,n,r,i,s){return YX(e.writeTree,e.treePath,t,n,r,i,s)}function x0(e,t,n){return GX(e.writeTree,e.treePath,t,n)}function kF(e,t){return DF(Rt(e.treePath,t),e.writeTree)}function DF(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XX=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;ie(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ie(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Jf(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Xf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ic(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Jf(r,t.snapshotNode,i.oldSnap));else throw Vc("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JX=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),PF=new JX,M0=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new ls(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return x0(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ma(this.viewCache_),s=QX(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(e){return{filter:e}}function e5(e,t){ie(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),ie(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function t5(e,t,n,r,i){var s=new XX,a,c;if(n.type===ci.OVERWRITE){var l=n;l.source.fromUser?a=rE(e,t,l.path,l.snap,r,i,s):(ie(l.source.fromServer,"Unknown source."),c=l.source.tagged||t.serverCache.isFiltered()&&!Be(l.path),a=Av(e,t,l.path,l.snap,r,i,c,s))}else if(n.type===ci.MERGE){var h=n;h.source.fromUser?a=r5(e,t,h.path,h.children,r,i,s):(ie(h.source.fromServer,"Unknown source."),c=h.source.tagged||t.serverCache.isFiltered(),a=iE(e,t,h.path,h.children,r,i,c,s))}else if(n.type===ci.ACK_USER_WRITE){var d=n;d.revert?a=s5(e,t,d.path,r,i,s):a=i5(e,t,d.path,d.affectedTree,r,i,s)}else if(n.type===ci.LISTEN_COMPLETE)a=o5(e,t,n.path,r,s);else throw Vc("Unknown operation type: "+n.type);var v=s.getChanges();return n5(t,a,v),{viewCache:a,changes:v}}function n5(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Tv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(EF(Tv(t)))}}function LF(e,t,n,r,i,s){var a=t.eventCache;if(Sv(r,n)!=null)return t;var c=void 0,l=void 0;if(Be(n))if(ie(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=Ma(t),d=h instanceof Fe?h:Fe.EMPTY_NODE,v=L0(r,d);c=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var m=Iv(r,Ma(t));c=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=$e(n);if(y===".priority"){ie(cs(n)===1,"Can't have a priority with additional path components");var b=a.getNode();l=t.serverCache.getNode();var E=fk(r,n,b,l);E!=null?c=e.filter.updatePriority(b,E):c=a.getNode()}else{var T=mt(n),N=void 0;if(a.isCompleteForChild(y)){l=t.serverCache.getNode();var L=fk(r,n,a.getNode(),l);L!=null?N=a.getNode().getImmediateChild(y).updateChild(T,L):N=a.getNode().getImmediateChild(y)}else N=x0(r,y,t.serverCache);N!=null?c=e.filter.updateChild(a.getNode(),y,N,T,i,s):c=a.getNode()}}return yf(t,c,a.isFullyInitialized()||Be(n),e.filter.filtersNodes())}function Av(e,t,n,r,i,s,a,c){var l=t.serverCache,h,d=a?e.filter:e.filter.getIndexedFilter();if(Be(n))h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){var v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{var m=$e(n);if(!l.isCompleteForPath(n)&&cs(n)>1)return t;var y=mt(n),b=l.getNode().getImmediateChild(m),E=b.updateChild(y,r);m===".priority"?h=d.updatePriority(l.getNode(),E):h=d.updateChild(l.getNode(),m,E,y,PF,null)}var T=CF(t,h,l.isFullyInitialized()||Be(n),d.filtersNodes()),N=new M0(i,T,s);return LF(e,T,n,i,N,c)}function rE(e,t,n,r,i,s,a){var c=t.eventCache,l,h,d=new M0(i,t,s);if(Be(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=yf(t,h,!0,e.filter.filtersNodes());else{var v=$e(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),l=yf(t,h,c.isFullyInitialized(),c.isFiltered());else{var m=mt(n),y=c.getNode().getImmediateChild(v),b=void 0;if(Be(m))b=r;else{var E=d.getCompleteChild(v);E!=null?I0(m)===".priority"&&E.getChild(dF(m)).isEmpty()?b=E:b=E.updateChild(m,r):b=Fe.EMPTY_NODE}if(y.equals(b))l=t;else{var T=e.filter.updateChild(c.getNode(),v,b,m,d,a);l=yf(t,T,c.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function hk(e,t){return e.eventCache.isCompleteForChild(t)}function r5(e,t,n,r,i,s,a){var c=t;return r.foreach(function(l,h){var d=Rt(n,l);hk(t,$e(d))&&(c=rE(e,c,d,h,i,s,a))}),r.foreach(function(l,h){var d=Rt(n,l);hk(t,$e(d))||(c=rE(e,c,d,h,i,s,a))}),c}function dk(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function iE(e,t,n,r,i,s,a,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var l=t,h;Be(n)?h=r:h=new Nr(null).setTree(n,r);var d=t.serverCache.getNode();return h.children.inorderTraversal(function(v,m){if(d.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),b=dk(e,y,m);l=Av(e,l,new lt(v),b,i,s,a,c)}}),h.children.inorderTraversal(function(v,m){var y=!t.serverCache.isCompleteForChild(v)&&m.value===void 0;if(!d.hasChild(v)&&!y){var b=t.serverCache.getNode().getImmediateChild(v),E=dk(e,b,m);l=Av(e,l,new lt(v),E,i,s,a,c)}}),l}function i5(e,t,n,r,i,s,a){if(Sv(i,n)!=null)return t;var c=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(Be(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Av(e,t,n,l.getNode().getChild(n),i,s,c,a);if(Be(n)){var h=new Nr(null);return l.getNode().forEachChild(Fi,function(v,m){h=h.set(new lt(v),m)}),iE(e,t,n,h,i,s,c,a)}else return t}else{var d=new Nr(null);return r.foreach(function(v,m){var y=Rt(n,v);l.isCompleteForPath(y)&&(d=d.set(v,l.getNode().getChild(y)))}),iE(e,t,n,d,i,s,c,a)}}function o5(e,t,n,r,i){var s=t.serverCache,a=CF(t,s.getNode(),s.isFullyInitialized()||Be(n),s.isFiltered());return LF(e,a,n,r,PF,i)}function s5(e,t,n,r,i,s){var a;if(Sv(r,n)!=null)return t;var c=new M0(r,t,i),l=t.eventCache.getNode(),h=void 0;if(Be(n)||$e(n)===".priority"){var d=void 0;if(t.serverCache.isFullyInitialized())d=Iv(r,Ma(t));else{var v=t.serverCache.getNode();ie(v instanceof Fe,"serverChildren would be complete if leaf node"),d=L0(r,v)}d=d,h=e.filter.updateFullNode(l,d,s)}else{var m=$e(n),y=x0(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=l.getImmediateChild(m)),y!=null?h=e.filter.updateChild(l,m,y,mt(n),c,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(l,m,Fe.EMPTY_NODE,mt(n),c,s):h=l,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Iv(r,Ma(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||Sv(r,tt())!=null,yf(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a5=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new O0(r.getIndex()),s=_X(r);this.processor_=ZX(s);var a=n.serverCache,c=n.eventCache,l=i.updateFullNode(Fe.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(Fe.EMPTY_NODE,c.getNode(),null),d=new ls(l,a.isFullyInitialized(),i.filtersNodes()),v=new ls(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=$m(v,d),this.eventGenerator_=new DX(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function u5(e){return e.viewCache_.serverCache.getNode()}function c5(e){return Tv(e.viewCache_)}function l5(e,t){var n=Ma(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Be(t)&&!n.getImmediateChild($e(t)).isEmpty())?n.getChild(t):null}function pk(e){return e.eventRegistrations_.length===0}function f5(e,t){e.eventRegistrations_.push(t)}function vk(e,t,n){var r=[];if(n){ie(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(l){var h=l.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var c=e.eventRegistrations_[a];if(!c.matches(t))s.push(c);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function mk(e,t,n,r){t.type===ci.MERGE&&t.source.queryId!==null&&(ie(Ma(e.viewCache_),"We should always have a full cache before handling merges"),ie(Tv(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=t5(e.processor_,i,t,n,r);return e5(e.processor_,s.viewCache),ie(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,xF(e,s.changes,s.viewCache.eventCache.getNode(),null)}function h5(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(wt,function(s,a){r.push(Ic(s,a))})}return n.isFullyInitialized()&&r.push(EF(n.getNode())),xF(e,r,n.getNode(),t)}function xF(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return PX(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cv,MF=function(){function e(){this.views=new Map}return e}();function d5(e){ie(!Cv,"__referenceConstructor has already been defined"),Cv=e}function p5(){return ie(Cv,"Reference.ts has not been loaded"),Cv}function v5(e){return e.views.size===0}function F0(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var c=e.views.get(a);return ie(c!=null,"SyncTree gave us an op for an invalid query."),mk(c,t,n,r)}else{var l=[];try{for(var h=Yn(e.views.values()),d=h.next();!d.done;d=h.next()){var c=d.value;l=l.concat(mk(c,t,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}}function FF(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var c=Iv(n,i?r:null),l=!1;c?l=!0:r instanceof Fe?(c=L0(n,r),l=!1):(c=Fe.EMPTY_NODE,l=!1);var h=$m(new ls(c,l,!1),new ls(r,i,!1));return new a5(t,h)}return a}function m5(e,t,n,r,i,s){var a=FF(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),f5(a,n),h5(a,n)}function g5(e,t,n,r){var i,s,a=t._queryIdentifier,c=[],l=[],h=fs(e);if(a==="default")try{for(var d=Yn(e.views.entries()),v=d.next();!v.done;v=d.next()){var m=Nn(v.value,2),y=m[0],b=m[1];l=l.concat(vk(b,n,r)),pk(b)&&(e.views.delete(y),b.query._queryParams.loadsAllData()||c.push(b.query))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var b=e.views.get(a);b&&(l=l.concat(vk(b,n,r)),pk(b)&&(e.views.delete(a),b.query._queryParams.loadsAllData()||c.push(b.query)))}return h&&!fs(e)&&c.push(new(p5())(t._repo,t._path)),{removed:c,events:l}}function UF(e){var t,n,r=[];try{for(var i=Yn(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function os(e,t){var n,r,i=null;try{for(var s=Yn(e.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;i=i||l5(c,t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function VF(e,t){var n=t._queryParams;if(n.loadsAllData())return Hm(e);var r=t._queryIdentifier;return e.views.get(r)}function jF(e,t){return VF(e,t)!=null}function fs(e){return Hm(e)!=null}function Hm(e){var t,n;try{for(var r=Yn(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nv;function y5(e){ie(!Nv,"__referenceConstructor has already been defined"),Nv=e}function _5(){return ie(Nv,"Reference.ts has not been loaded"),Nv}var b5=1,gk=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new Nr(null),this.pendingWriteTree_=zX(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function U0(e,t,n,r,i){return FX(e.pendingWriteTree_,t,n,r,i),i?Qc(e,new jm(R0(),t,n)):[]}function w5(e,t,n,r){UX(e.pendingWriteTree_,t,n,r);var i=Nr.fromObject(n);return Qc(e,new P0(R0(),t,i))}function Zo(e,t,n){n===void 0&&(n=!1);var r=VX(e.pendingWriteTree_,t),i=jX(e.pendingWriteTree_,t);if(i){var s=new Nr(null);return r.snap!=null?s=s.set(tt(),!0):sn(r.children,function(a){s=s.set(new lt(a),!0)}),Qc(e,new kX(r.path,s,n))}else return[]}function Dh(e,t,n){return Qc(e,new jm(k0(),t,n))}function E5(e,t,n){var r=Nr.fromObject(n);return Qc(e,new P0(k0(),t,r))}function T5(e,t){return Qc(e,new AF(k0(),t))}function I5(e,t,n){var r=V0(e,n);if(r){var i=j0(r),s=i.path,a=i.queryId,c=Kn(s,t),l=new AF(D0(a),c);return $0(e,s,l)}else return[]}function oE(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||jF(s,t))){var c=g5(s,t,n,r);v5(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var l=c.removed;a=c.events;var h=l.findIndex(function(L){return L._queryParams.loadsAllData()})!==-1,d=e.syncPointTree_.findOnPath(i,function(L,A){return fs(A)});if(h&&!d){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var m=N5(v),y=0;y<m.length;++y){var b=m[y],E=b.query,T=HF(e,b);e.listenProvider_.startListening(bf(E),Ov(e,E),T.hashFn,T.onComplete)}}if(!d&&l.length>0&&!r)if(h){var N=null;e.listenProvider_.stopListening(bf(t),N)}else l.forEach(function(L){var A=e.queryToTagMap.get(qm(L));e.listenProvider_.stopListening(bf(L),A)});O5(e,l)}return a}function S5(e,t,n,r){var i=V0(e,r);if(i!=null){var s=j0(i),a=s.path,c=s.queryId,l=Kn(a,t),h=new jm(D0(c),l,n);return $0(e,a,h)}else return[]}function A5(e,t,n,r){var i=V0(e,r);if(i){var s=j0(i),a=s.path,c=s.queryId,l=Kn(a,t),h=Nr.fromObject(n),d=new P0(D0(c),l,h);return $0(e,a,d)}else return[]}function yk(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(E,T){var N=Kn(E,r);i=i||os(T,N),s=s||fs(T)});var a=e.syncPointTree_.get(r);a?(s=s||fs(a),i=i||os(a,tt())):(a=new MF,e.syncPointTree_=e.syncPointTree_.set(r,a));var c;if(i!=null)c=!0;else{c=!1,i=Fe.EMPTY_NODE;var l=e.syncPointTree_.subtree(r);l.foreachChild(function(E,T){var N=os(T,tt());N&&(i=i.updateImmediateChild(E,N))})}var h=jF(a,t);if(!h&&!t._queryParams.loadsAllData()){var d=qm(t);ie(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=R5();e.queryToTagMap.set(d,v),e.tagToQueryMap.set(v,d)}var m=Bm(e.pendingWriteTree_,r),y=m5(a,t,n,m,i,c);if(!h&&!s){var b=VF(a,t);y=y.concat(k5(e,t,b))}return y}function Wm(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,c){var l=Kn(a,t),h=os(c,l);if(h)return h});return RF(i,t,s,n,r)}function C5(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,d){var v=Kn(h,n);r=r||os(d,v)});var i=e.syncPointTree_.get(n);i?r=r||os(i,tt()):(i=new MF,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new ls(r,!0,!1):null,c=Bm(e.pendingWriteTree_,t._path),l=FF(i,t,c,s?a.getNode():Fe.EMPTY_NODE,s);return c5(l)}function Qc(e,t){return $F(t,e.syncPointTree_,null,Bm(e.pendingWriteTree_,tt()))}function $F(e,t,n,r){if(Be(e.path))return BF(e,t,n,r);var i=t.get(tt());n==null&&i!=null&&(n=os(i,tt()));var s=[],a=$e(e.path),c=e.operationForChild(a),l=t.children.get(a);if(l&&c){var h=n?n.getImmediateChild(a):null,d=kF(r,a);s=s.concat($F(c,l,h,d))}return i&&(s=s.concat(F0(i,e,r,n))),s}function BF(e,t,n,r){var i=t.get(tt());n==null&&i!=null&&(n=os(i,tt()));var s=[];return t.children.inorderTraversal(function(a,c){var l=n?n.getImmediateChild(a):null,h=kF(r,a),d=e.operationForChild(a);d&&(s=s.concat(BF(d,c,l,h)))}),i&&(s=s.concat(F0(i,e,r,n))),s}function HF(e,t){var n=t.query,r=Ov(e,n);return{hashFn:function(){var i=u5(t)||Fe.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?I5(e,n._path,r):T5(e,n._path);var s=mQ(i,n);return oE(e,n,null,s)}}}function Ov(e,t){var n=qm(t);return e.queryToTagMap.get(n)}function qm(e){return e._path.toString()+"$"+e._queryIdentifier}function V0(e,t){return e.tagToQueryMap.get(t)}function j0(e){var t=e.indexOf("$");return ie(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new lt(e.substr(0,t))}}function $0(e,t,n){var r=e.syncPointTree_.get(t);ie(r,"Missing sync point for query tag that we're tracking");var i=Bm(e.pendingWriteTree_,t);return F0(r,n,i,null)}function N5(e){return e.fold(function(t,n,r){if(n&&fs(n)){var i=Hm(n);return[i]}else{var s=[];return n&&(s=UF(n)),sn(r,function(a,c){s=s.concat(c)}),s}})}function bf(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(_5())(e._repo,e._path):e}function O5(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=qm(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function R5(){return b5++}function k5(e,t,n){var r=t._path,i=Ov(e,t),s=HF(e,n),a=e.listenProvider_.startListening(bf(t),i,s.hashFn,s.onComplete),c=e.syncPointTree_.subtree(r);if(i)ie(!fs(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(v,m,y){if(!Be(v)&&m&&fs(m))return[Hm(m).query];var b=[];return m&&(b=b.concat(UF(m).map(function(E){return E.query}))),sn(y,function(E,T){b=b.concat(T)}),b}),h=0;h<l.length;++h){var d=l[h];e.listenProvider_.stopListening(bf(d),Ov(e,d))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D5=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),P5=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=Rt(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Wm(this.syncTree_,this.path_)},e}(),L5=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},_k=function(e,t,n){if(!e||typeof e!="object")return e;if(ie(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return x5(e[".sv"],t,n);if(typeof e[".sv"]=="object")return M5(e[".sv"],t);ie(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},x5=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ie(!1,"Unexpected server value: "+e)}},M5=function(e,t,n){e.hasOwnProperty("increment")||ie(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&ie(!1,"Unexpected increment value: "+r);var i=t.node();if(ie(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},WF=function(e,t,n,r){return H0(t,new P5(n,e),r)},B0=function(e,t,n){return H0(e,new D5(t),n)};function H0(e,t,n){var r=e.getPriority().val(),i=_k(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,c=_k(a.getValue(),t,n);return c!==a.getValue()||i!==a.getPriority().val()?new Ec(c,xt(i)):e}else{var l=e;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new Ec(i))),l.forEachChild(wt,function(h,d){var v=H0(d,t.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W0=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function Gm(e,t){for(var n=t instanceof lt?t:new lt(t),r=e,i=$e(n);i!==null;){var s=Oa(r.node.children,i)||{children:{},childCount:0};r=new W0(i,r,s),n=mt(n),i=$e(n)}return r}function Za(e){return e.node.value}function q0(e,t){e.node.value=t,sE(e)}function qF(e){return e.node.childCount>0}function F5(e){return Za(e)===void 0&&!qF(e)}function Km(e,t){sn(e.node.children,function(n,r){t(new W0(n,e,r))})}function GF(e,t,n,r){n&&!r&&t(e),Km(e,function(i){GF(i,t,!0,r)}),n&&r&&t(e)}function U5(e,t,n){for(var r=e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Ph(e){return new lt(e.parent===null?e.name:Ph(e.parent)+"/"+e.name)}function sE(e){e.parent!==null&&V5(e.parent,e.name,e)}function V5(e,t,n){var r=F5(n),i=Ar(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,sE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,sE(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j5=/[\[\].#$\/\u0000-\u001F\u007F]/,$5=/[\[\].#$\u0000-\u001F\u007F]/,Ob=10*1024*1024,Ym=function(e){return typeof e=="string"&&e.length!==0&&!j5.test(e)},KF=function(e){return typeof e=="string"&&e.length!==0&&!$5.test(e)},B5=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),KF(e)},Zf=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Fm(e)||e&&typeof e=="object"&&Ar(e,".sv")},Ki=function(e,t,n,r){r&&t===void 0||Lh(cr(e,"value"),t,n)},Lh=function(e,t,n){var r=n instanceof lt?new QQ(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ra(r));if(typeof t=="function")throw new Error(e+"contains a function "+ra(r)+" with contents = "+t.toString());if(Fm(t))throw new Error(e+"contains "+t.toString()+" "+ra(r));if(typeof t=="string"&&t.length>Ob/3&&im(t)>Ob)throw new Error(e+"contains a string greater than "+Ob+" utf8 bytes "+ra(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(sn(t,function(a,c){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!Ym(a)))throw new Error(e+" contains an invalid key ("+a+") "+ra(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XQ(r,a),Lh(e,c,r),JQ(r)}),i&&s)throw new Error(e+' contains ".value" child '+ra(r)+" in addition to actual children.")}},H5=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Qf(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!Ym(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(zQ);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&Ur(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},YF=function(e,t,n,r){var i=cr(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];sn(t,function(a,c){var l=new lt(a);if(Lh(i,c,Rt(n,l)),I0(l)===".priority"&&!Zf(c))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),H5(i,s)},G0=function(e,t,n){if(Fm(t))throw new Error(cr(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Zf(t))throw new Error(cr(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},W5=function(e,t,n){if(t!==void 0)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(cr(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},xh=function(e,t,n,r){if(n!==void 0&&!Ym(n))throw new Error(cr(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},eh=function(e,t,n,r){if(!KF(n))throw new Error(cr(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},q5=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),eh(e,t,n)},Vr=function(e,t){if($e(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},zF=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Ym(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!B5(n))throw new Error(cr(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},G5=function(e,t,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(cr(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K5=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function zm(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!S0(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function K0(e,t,n){zm(e,n),QF(e,function(r){return S0(r,t)})}function Wr(e,t,n){zm(e,n),QF(e,function(r){return Ur(r,t)||Ur(t,r)})}function QF(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(Y5(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Y5(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();Ea&&ln("event: "+n.toString()),Yc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XF="repo_interrupt",z5=25,Q5=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new K5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ev(),this.transactionQueueTree_=new W0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function X5(e,t,n){if(e.stats_=E0(e.repoInfo_),e.forceRestClient_||yQ())e.server_=new IX(e.repoInfo_,function(r,i,s,a){bk(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return wk(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ta(e.repoInfo_,t,function(r,i,s,a){bk(e,r,i,s,a)},function(r){wk(e,r)},function(r){Z5(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=IQ(e.repoInfo_,function(){return new OX(e.stats_,e.server_)}),e.infoData_=new SX,e.infoSyncTree_=new gk({startListening:function(r,i,s,a){var c=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(c=Dh(e.infoSyncTree_,r._path,l),setTimeout(function(){a("ok")},0)),c},stopListening:function(){}}),Y0(e,"connected",!1),e.serverSyncTree_=new gk({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(c,l){var h=a(c,l);Wr(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function JF(e){var t=e.infoData_.getNode(new lt(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Mh(e){return L5({timestamp:JF(e)})}function bk(e,t,n,r,i){e.dataUpdateCount++;var s=new lt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var c=Wp(n,function(m){return xt(m)});a=A5(e.serverSyncTree_,s,c,i)}else{var l=xt(n);a=S5(e.serverSyncTree_,s,l,i)}else if(r){var h=Wp(n,function(m){return xt(m)});a=E5(e.serverSyncTree_,s,h)}else{var d=xt(n);a=Dh(e.serverSyncTree_,s,d)}var v=s;a.length>0&&(v=Ac(e,s)),Wr(e.eventQueue_,v,a)}function J5(e,t){e.interceptServerDataCallback_=t}function wk(e,t){Y0(e,"connected",t),t===!1&&nJ(e)}function Z5(e,t){sn(t,function(n,r){Y0(e,n,r)})}function Y0(e,t,n){var r=new lt("/.info/"+t),i=xt(n);e.infoData_.updateSnapshot(r,i);var s=Dh(e.infoSyncTree_,r,i);Wr(e.eventQueue_,r,s)}function Qm(e){return e.nextWriteId_++}function eJ(e,t){var n=C5(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=xt(r).withIndex(t._queryParams.getIndex()),s=Dh(e.serverSyncTree_,t._path,i);return K0(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Xc(e,"get for query "+Zt(t)+" failed: "+r),Promise.reject(new Error(r))})}function z0(e,t,n,r,i){Xc(e,"set",{path:t.toString(),value:n,priority:r});var s=Mh(e),a=xt(n,r),c=Wm(e.serverSyncTree_,t),l=B0(a,c,s),h=Qm(e),d=U0(e.serverSyncTree_,t,l,h,!0);zm(e.eventQueue_,d),e.server_.put(t.toString(),a.val(!0),function(m,y){var b=m==="ok";b||bn("set at "+t+" failed: "+m);var E=Zo(e.serverSyncTree_,h,!b);Wr(e.eventQueue_,t,E),hs(e,i,m,y)});var v=X0(e,t);Ac(e,v),Wr(e.eventQueue_,v,[])}function tJ(e,t,n,r){Xc(e,"update",{path:t.toString(),value:n});var i=!0,s=Mh(e),a={};if(sn(n,function(h,d){i=!1,a[h]=WF(Rt(t,h),xt(d),e.serverSyncTree_,s)}),i)ln("update() called with empty data.  Don't do anything."),hs(e,r,"ok",void 0);else{var c=Qm(e),l=w5(e.serverSyncTree_,t,a,c);zm(e.eventQueue_,l),e.server_.merge(t.toString(),n,function(h,d){var v=h==="ok";v||bn("update at "+t+" failed: "+h);var m=Zo(e.serverSyncTree_,c,!v),y=m.length>0?Ac(e,t):t;Wr(e.eventQueue_,y,m),hs(e,r,h,d)}),sn(n,function(h){var d=X0(e,Rt(t,h));Ac(e,d)}),Wr(e.eventQueue_,t,[])}}function nJ(e){Xc(e,"onDisconnectEvents");var t=Mh(e),n=Ev();Zw(e.onDisconnect_,tt(),function(i,s){var a=WF(i,s,e.serverSyncTree_,t);zc(n,i,a)});var r=[];Zw(n,tt(),function(i,s){r=r.concat(Dh(e.serverSyncTree_,i,s));var a=X0(e,i);Ac(e,a)}),e.onDisconnect_=Ev(),Wr(e.eventQueue_,tt(),r)}function rJ(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&Jw(e.onDisconnect_,t),hs(e,n,r,i)})}function Ek(e,t,n,r){var i=xt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&zc(e.onDisconnect_,t,i),hs(e,r,s,a)})}function iJ(e,t,n,r,i){var s=xt(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,c){a==="ok"&&zc(e.onDisconnect_,t,s),hs(e,i,a,c)})}function oJ(e,t,n,r){if(mw(n)){ln("onDisconnect().update() called with empty data.  Don't do anything."),hs(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&sn(n,function(a,c){var l=xt(c);zc(e.onDisconnect_,Rt(t,a),l)}),hs(e,r,i,s)})}function sJ(e,t,n){var r;$e(t._path)===".info"?r=yk(e.infoSyncTree_,t,n):r=yk(e.serverSyncTree_,t,n),K0(e.eventQueue_,t._path,r)}function aE(e,t,n){var r;$e(t._path)===".info"?r=oE(e.infoSyncTree_,t,n):r=oE(e.serverSyncTree_,t,n),K0(e.eventQueue_,t._path,r)}function ZF(e){e.persistentConnection_&&e.persistentConnection_.interrupt(XF)}function aJ(e){e.persistentConnection_&&e.persistentConnection_.resume(XF)}function uJ(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new SF(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);sn(n,function(i,s){for(var a=i,c=i.length;c<r+2;c++)a+=" ";console.log(a+s)})}}function cJ(e,t){e.stats_.incrementCounter(t),RX(e.statsReporter_,t)}function Xc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),ln.apply(void 0,rt([r],Nn(t)))}function hs(e,t,n,r){t&&Yc(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function lJ(e,t,n,r,i,s){Xc(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:WM(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Q0(e,t,void 0);a.currentInputSnapshot=c;var l=a.update(c.val());if(l===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Lh("transaction failed: Data returned ",l,a.path),a.status=0;var h=Gm(e.transactionQueueTree_,t),d=Za(h)||[];d.push(a),q0(h,d);var v=void 0;if(typeof l=="object"&&l!==null&&Ar(l,".priority"))v=Oa(l,".priority"),ie(Zf(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=Wm(e.serverSyncTree_,t)||Fe.EMPTY_NODE;v=m.getPriority().val()}var y=Mh(e),b=xt(l,v),E=B0(b,c,y);a.currentOutputSnapshotRaw=b,a.currentOutputSnapshotResolved=E,a.currentWriteId=Qm(e);var T=U0(e.serverSyncTree_,t,E,a.currentWriteId,a.applyLocally);Wr(e.eventQueue_,t,T),Xm(e,e.transactionQueueTree_)}}function Q0(e,t,n){return Wm(e.serverSyncTree_,t,n)||Fe.EMPTY_NODE}function Xm(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||Jm(e,t),Za(t)){var n=tU(e,t);ie(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&fJ(e,Ph(t),n)}else qF(t)&&Km(t,function(i){Xm(e,i)})}function fJ(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=Q0(e,t,r),s=i,a=i.hash(),c=0;c<n.length;c++){var l=n[c];ie(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;var h=Kn(t,l.path);s=s.updateChild(h,l.currentOutputSnapshotRaw)}var d=s.val(!0),v=t;e.server_.put(v.toString(),d,function(m){Xc(e,"transaction put response",{path:v.toString(),status:m});var y=[];if(m==="ok"){for(var b=[],E=function(N){n[N].status=2,y=y.concat(Zo(e.serverSyncTree_,n[N].currentWriteId)),n[N].onComplete&&b.push(function(){return n[N].onComplete(null,!0,n[N].currentOutputSnapshotResolved)}),n[N].unwatcher()},T=0;T<n.length;T++)E(T);Jm(e,Gm(e.transactionQueueTree_,t)),Xm(e,e.transactionQueueTree_),Wr(e.eventQueue_,t,y);for(var T=0;T<b.length;T++)Yc(b[T])}else{if(m==="datastale")for(var T=0;T<n.length;T++)n[T].status===3?n[T].status=4:n[T].status=0;else{bn("transaction at "+v.toString()+" failed: "+m);for(var T=0;T<n.length;T++)n[T].status=4,n[T].abortReason=m}Ac(e,t)}},a)}function Ac(e,t){var n=eU(e,t),r=Ph(n),i=tU(e,n);return hJ(e,i,r),r}function hJ(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),c=function(h){var d=t[h],v=Kn(n,d.path),m=!1,y;if(ie(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,y=d.abortReason,i=i.concat(Zo(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=z5)m=!0,y="maxretry",i=i.concat(Zo(e.serverSyncTree_,d.currentWriteId,!0));else{var b=Q0(e,d.path,a);d.currentInputSnapshot=b;var E=t[h].update(b.val());if(E!==void 0){Lh("transaction failed: Data returned ",E,d.path);var T=xt(E),N=typeof E=="object"&&E!=null&&Ar(E,".priority");N||(T=T.updatePriority(b.getPriority()));var L=d.currentWriteId,A=Mh(e),D=B0(T,b,A);d.currentOutputSnapshotRaw=T,d.currentOutputSnapshotResolved=D,d.currentWriteId=Qm(e),a.splice(a.indexOf(L),1),i=i.concat(U0(e.serverSyncTree_,d.path,D,d.currentWriteId,d.applyLocally)),i=i.concat(Zo(e.serverSyncTree_,L,!0))}else m=!0,y="nodata",i=i.concat(Zo(e.serverSyncTree_,d.currentWriteId,!0))}Wr(e.eventQueue_,n,i),i=[],m&&(t[h].status=2,function(F){setTimeout(F,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},l=0;l<t.length;l++)c(l);Jm(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)Yc(r[l]);Xm(e,e.transactionQueueTree_)}}function eU(e,t){var n,r=e.transactionQueueTree_;for(n=$e(t);n!==null&&Za(r)===void 0;)r=Gm(r,n),t=mt(t),n=$e(t);return r}function tU(e,t){var n=[];return nU(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function nU(e,t,n){var r=Za(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Km(t,function(s){nU(e,s,n)})}function Jm(e,t){var n=Za(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,q0(t,n.length>0?n:void 0)}Km(t,function(s){Jm(e,s)})}function X0(e,t){var n=Ph(eU(e,t)),r=Gm(e.transactionQueueTree_,t);return U5(r,function(i){Rb(e,i)}),Rb(e,r),GF(r,function(i){Rb(e,i)}),n}function Rb(e,t){var n=Za(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ie(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(ie(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Zo(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?q0(t,void 0):n.length=s+1,Wr(e.eventQueue_,Ph(t),i);for(var a=0;a<r.length;a++)Yc(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dJ(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function pJ(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=Yn(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var c=a.split("=");c.length===2?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):bn("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var uE=function(e,t){var n=vJ(e),r=n.namespace;n.domain==="firebase.com"&&qi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&qi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fQ();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new w0(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new lt(n.pathString)}},vJ=function(e){var t="",n="",r="",i="",s="",a=!0,c="https",l=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(c=e.substring(0,h-1),e=e.substring(h+2));var d=e.indexOf("/");d===-1&&(d=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(d,v)),d<v&&(i=dJ(e.substring(d,v)));var m=pJ(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=c==="https"||c==="wss",l=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var b=t.indexOf(".");r=t.substring(0,b).toLowerCase(),n=t.substring(b+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rU=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Zt(this.snapshot.exportVal())},e}(),iU=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oU=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return ie(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mJ=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new ir;return rJ(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){Vr("OnDisconnect.remove",this._path);var t=new ir;return Ek(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){Vr("OnDisconnect.set",this._path),Ki("OnDisconnect.set",t,this._path,!1);var n=new ir;return Ek(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){Vr("OnDisconnect.setWithPriority",this._path),Ki("OnDisconnect.setWithPriority",t,this._path,!1),G0("OnDisconnect.setWithPriority",n);var r=new ir;return iJ(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){Vr("OnDisconnect.update",this._path),YF("OnDisconnect.update",t,this._path);var n=new ir;return oJ(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return Be(this._path)?null:I0(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new zi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=ak(this._queryParams),n=y0(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return ak(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=je(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=S0(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+YQ(this._path)},e}();function Zm(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Is(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Fi){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==wo)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==Gi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===wt){if(t!=null&&!Zf(t)||n!=null&&!Zf(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ie(e.getIndex()instanceof C0||e.getIndex()===N0,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function eg(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var zi=function(e){ce(t,e);function t(n,r){return e.call(this,n,r,new IF,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=dF(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Kr),tg=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new lt(t),r=Fa(this.ref,t);return new e(this._node.getChild(n),r,wt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,Fa(n.ref,i),wt))})},e.prototype.hasChild=function(t){var n=new lt(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function sU(e,t){return e=je(e),e._checkNotDeleted("ref"),t!==void 0?Fa(e._root,t):e._root}function Tk(e,t){e=je(e),e._checkNotDeleted("refFromURL");var n=uE(t,e._repo.repoInfo_.nodeAdmin);zF("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&qi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),sU(e,n.path.toString())}function Fa(e,t){return e=je(e),$e(e._path)===null?q5("child","path",t):eh("child","path",t),new zi(e._repo,Rt(e._path,t))}function gJ(e,t){e=je(e),Vr("push",e._path),Ki("push",t,e._path,!0);var n=JF(e._repo),r=mX(n),i=Fa(e,r),s=Fa(e,r),a;return t!=null?a=J0(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function yJ(e){return Vr("remove",e._path),J0(e,null)}function J0(e,t){e=je(e),Vr("set",e._path),Ki("set",t,e._path,!1);var n=new ir;return z0(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function _J(e,t){e=je(e),Vr("setPriority",e._path),G0("setPriority",t);var n=new ir;return z0(e._repo,Rt(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function bJ(e,t,n){if(Vr("setWithPriority",e._path),Ki("setWithPriority",t,e._path,!1),G0("setWithPriority",n),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new ir;return z0(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function wJ(e,t){YF("update",t,e._path);var n=new ir;return tJ(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function EJ(e){return e=je(e),eJ(e._repo,e).then(function(t){return new tg(t,new zi(e._repo,e._path),e._queryParams.getIndex())})}var aU=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new rU("value",this,new tg(t.snapshotNode,new zi(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new iU(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),uU=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new iU(this,t,n):null},e.prototype.createEvent=function(t,n){ie(t.childName!=null,"Child events should have a childName.");var r=Fa(new zi(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new rU(t.type,this,new tg(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Fh(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,c=function(d,v){aE(e._repo,e,h),a(d,v)};c.userCallback=n.userCallback,c.context=n.context,n=c}var l=new oU(n,s||void 0),h=t==="value"?new aU(l):new uU(t,l);return sJ(e._repo,e,h),function(){return aE(e._repo,e,h)}}function cE(e,t,n,r){return Fh(e,"value",t,n,r)}function Ik(e,t,n,r){return Fh(e,"child_added",t,n,r)}function Sk(e,t,n,r){return Fh(e,"child_changed",t,n,r)}function Ak(e,t,n,r){return Fh(e,"child_moved",t,n,r)}function Ck(e,t,n,r){return Fh(e,"child_removed",t,n,r)}function Nk(e,t,n){var r=null,i=n?new oU(n):null;t==="value"?r=new aU(i):t&&(r=new uU(t,i)),aE(e._repo,e,r)}var _i=function(){function e(){}return e}(),cU=function(e){ce(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ki("endAt",this._value,n._path,!0);var r=Xw(n._queryParams,this._value,this._key);if(eg(r),Is(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(n._repo,n._path,r,n._orderByCalled)},t}(_i);function TJ(e,t){return xh("endAt","key",t),new cU(e,t)}var IJ=function(e){ce(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ki("endBefore",this._value,n._path,!1);var r=TX(n._queryParams,this._value,this._key);if(eg(r),Is(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Kr(n._repo,n._path,r,n._orderByCalled)},t}(_i);function SJ(e,t){return xh("endBefore","key",t),new IJ(e,t)}var lU=function(e){ce(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ki("startAt",this._value,n._path,!0);var r=Qw(n._queryParams,this._value,this._key);if(eg(r),Is(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Kr(n._repo,n._path,r,n._orderByCalled)},t}(_i);function AJ(e,t){return e===void 0&&(e=null),xh("startAt","key",t),new lU(e,t)}var CJ=function(e){ce(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Ki("startAfter",this._value,n._path,!1);var r=EX(n._queryParams,this._value,this._key);if(eg(r),Is(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Kr(n._repo,n._path,r,n._orderByCalled)},t}(_i);function NJ(e,t){return xh("startAfter","key",t),new CJ(e,t)}var OJ=function(e){ce(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(n._repo,n._path,bX(n._queryParams,this._limit),n._orderByCalled)},t}(_i);function RJ(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new OJ(e)}var kJ=function(e){ce(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Kr(n._repo,n._path,wX(n._queryParams,this._limit),n._orderByCalled)},t}(_i);function DJ(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new kJ(e)}var PJ=function(e){ce(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){Zm(n,"orderByChild");var r=new lt(this._path);if(Be(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new C0(r),s=Vm(n._queryParams,i);return Is(s),new Kr(n._repo,n._path,s,!0)},t}(_i);function LJ(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return eh("orderByChild","path",e),new PJ(e)}var xJ=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Zm(n,"orderByKey");var r=Vm(n._queryParams,Fi);return Is(r),new Kr(n._repo,n._path,r,!0)},t}(_i);function MJ(){return new xJ}var FJ=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Zm(n,"orderByPriority");var r=Vm(n._queryParams,wt);return Is(r),new Kr(n._repo,n._path,r,!0)},t}(_i);function UJ(){return new FJ}var VJ=function(e){ce(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){Zm(n,"orderByValue");var r=Vm(n._queryParams,N0);return Is(r),new Kr(n._repo,n._path,r,!0)},t}(_i);function jJ(){return new VJ}var $J=function(e){ce(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(Ki("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new cU(this._value,this._key)._apply(new lU(this._value,this._key)._apply(n))},t}(_i);function BJ(e,t){return xh("equalTo","key",t),new $J(e,t)}function ni(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=je(e);try{for(var a=Yn(r),c=a.next();!c.done;c=a.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}d5(zi);y5(zi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HJ="FIREBASE_DATABASE_EMULATOR_HOST",lE={},fU=!1;function WJ(e,t,n,r){e.repoInfo_=new w0(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function hU(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||qi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ln("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=uE(s,i),c=a.repoInfo,l,h=void 0;typeof process<"u"&&(h=sQ[HJ]),h?(l=!0,s="http://"+h+"?ns="+c.namespace,a=uE(s,i),c=a.repoInfo):l=!a.repoInfo.secure;var d=i&&l?new gf(gf.OWNER):new bQ(e.name,e.options,t);zF("Invalid Firebase Database URL",a),Be(a.path)||qi("Database URL must point to the root of a Firebase Database (not including a child path).");var v=GJ(c,e,d,new _Q(e.name,n));return new YJ(v,e)}function qJ(e,t){var n=lE[t];(!n||n[e.key]!==e)&&qi("Database "+t+"("+e.repoInfo_+") has already been deleted."),ZF(e),delete n[e.key]}function GJ(e,t,n,r){var i=lE[t.name];i||(i={},lE[t.name]=i);var s=i[e.toURLString()];return s&&qi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Q5(e,fU,n,r),i[e.toURLString()]=s,s}function KJ(e){fU=e}var YJ=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(X5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new zi(this._repo,tt())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._rootInternal!==null&&(qJ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&qi("Cannot call "+t+" on a deleted database.")},e}();function zJ(e,t,n,r){r===void 0&&(r={}),e=je(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&qi("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&qi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new gf(gf.OWNER);else if(r.mockUserToken){var a=typeof r.mockUserToken=="string"?r.mockUserToken:iT(r.mockUserToken,e.app.options.projectId);s=new gf(a)}WJ(i,t,n,s)}function QJ(e){e=je(e),e._checkNotDeleted("goOffline"),ZF(e._repo)}function XJ(e){e=je(e),e._checkNotDeleted("goOnline"),aJ(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JJ={".sv":"timestamp"};function ZJ(){return JJ}function e7(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t7=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function n7(e,t,n){var r;if(e=je(e),Vr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new ir,a=function(l,h,d){var v=null;l?s.reject(l):(v=new tg(d,new zi(e._repo,e._path),wt),s.resolve(new t7(h,v)))},c=cE(e,function(){});return lJ(e._repo,e._path,t,a,c,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r7=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){Ne("OnDisconnect.cancel",0,1,arguments.length),cn("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){Ne("OnDisconnect.remove",0,1,arguments.length),cn("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){Ne("OnDisconnect.set",1,2,arguments.length),cn("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){Ne("OnDisconnect.setWithPriority",2,3,arguments.length),cn("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(Ne("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,bn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}cn("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i7=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return Ne("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wf=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return Ne("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Ne("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Ne("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Ne("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Ne("DataSnapshot.child",0,1,arguments.length),t=String(t),eh("DataSnapshot.child","path",t),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return Ne("DataSnapshot.hasChild",1,1,arguments.length),eh("DataSnapshot.hasChild","path",t),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return Ne("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Ne("DataSnapshot.forEach",1,1,arguments.length),cn("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return Ne("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Ne("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Ne("DataSnapshot.ref",0,0,arguments.length),new da(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),dU=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;Ne("Query.on",2,4,arguments.length),cn("Query.on","callback",n,!1);var c=e.getCancelAndContextArgs_("Query.on",r,i),l=function(d,v){n.call(c.context,new wf(s.database,d),v)};l.userCallback=n,l.context=c.context;var h=(a=c.cancel)===null||a===void 0?void 0:a.bind(c.context);switch(t){case"value":return cE(this._delegate,l,h),n;case"child_added":return Ik(this._delegate,l,h),n;case"child_removed":return Ck(this._delegate,l,h),n;case"child_changed":return Sk(this._delegate,l,h),n;case"child_moved":return Ak(this._delegate,l,h),n;default:throw new Error(cr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(Ne("Query.off",0,3,arguments.length),W5("Query.off",t),cn("Query.off","callback",n,!0),_O("Query.off","context",r),n){var i=function(){};i.userCallback=n,i.context=r,Nk(this._delegate,t,i)}else Nk(this._delegate,t)},e.prototype.get=function(){var t=this;return EJ(this._delegate).then(function(n){return new wf(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;Ne("Query.once",1,4,arguments.length),cn("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),c=new ir,l=function(d,v){var m=new wf(s.database,d);n&&n.call(a.context,m,v),c.resolve(m)};l.userCallback=n,l.context=a.context;var h=function(d){a.cancel&&a.cancel.call(a.context,d),c.reject(d)};switch(t){case"value":cE(this._delegate,l,h,{onlyOnce:!0});break;case"child_added":Ik(this._delegate,l,h,{onlyOnce:!0});break;case"child_removed":Ck(this._delegate,l,h,{onlyOnce:!0});break;case"child_changed":Sk(this._delegate,l,h,{onlyOnce:!0});break;case"child_moved":Ak(this._delegate,l,h,{onlyOnce:!0});break;default:throw new Error(cr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},e.prototype.limitToFirst=function(t){return Ne("Query.limitToFirst",1,1,arguments.length),new e(this.database,ni(this._delegate,RJ(t)))},e.prototype.limitToLast=function(t){return Ne("Query.limitToLast",1,1,arguments.length),new e(this.database,ni(this._delegate,DJ(t)))},e.prototype.orderByChild=function(t){return Ne("Query.orderByChild",1,1,arguments.length),new e(this.database,ni(this._delegate,LJ(t)))},e.prototype.orderByKey=function(){return Ne("Query.orderByKey",0,0,arguments.length),new e(this.database,ni(this._delegate,MJ()))},e.prototype.orderByPriority=function(){return Ne("Query.orderByPriority",0,0,arguments.length),new e(this.database,ni(this._delegate,UJ()))},e.prototype.orderByValue=function(){return Ne("Query.orderByValue",0,0,arguments.length),new e(this.database,ni(this._delegate,jJ()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),Ne("Query.startAt",0,2,arguments.length),new e(this.database,ni(this._delegate,AJ(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),Ne("Query.startAfter",0,2,arguments.length),new e(this.database,ni(this._delegate,NJ(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),Ne("Query.endAt",0,2,arguments.length),new e(this.database,ni(this._delegate,TJ(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),Ne("Query.endBefore",0,2,arguments.length),new e(this.database,ni(this._delegate,SJ(t,n)))},e.prototype.equalTo=function(t,n){return Ne("Query.equalTo",1,2,arguments.length),new e(this.database,ni(this._delegate,BJ(t,n)))},e.prototype.toString=function(){return Ne("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Ne("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Ne("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,cn(t,"cancel",i.cancel,!0),i.context=r,_O(t,"context",i.context);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(cr(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new da(this.database,new zi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),da=function(e){ce(t,e);function t(n,r){var i=e.call(this,n,new Kr(r._repo,r._path,new IF,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return Ne("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return Ne("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,Fa(this._delegate,n))},t.prototype.getParent=function(){Ne("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return Ne("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){Ne("Reference.set",1,2,arguments.length),cn("Reference.set","onComplete",r,!0);var i=J0(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(Ne("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,bn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vr("Reference.update",this._delegate._path),cn("Reference.update","onComplete",r,!0);var a=wJ(this._delegate,n);return r&&a.then(function(){return r(null)},function(c){return r(c)}),a},t.prototype.setWithPriority=function(n,r,i){Ne("Reference.setWithPriority",2,3,arguments.length),cn("Reference.setWithPriority","onComplete",i,!0);var s=bJ(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){Ne("Reference.remove",0,1,arguments.length),cn("Reference.remove","onComplete",n,!0);var r=yJ(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;Ne("Reference.transaction",1,3,arguments.length),cn("Reference.transaction","transactionUpdate",n,!1),cn("Reference.transaction","onComplete",r,!0),G5("Reference.transaction","applyLocally",i);var a=n7(this._delegate,n,{applyLocally:i}).then(function(c){return new i7(c.committed,new wf(s.database,c.snapshot))});return r&&a.then(function(c){return r(null,c.committed,c.snapshot)},function(c){return r(c,!1,null)}),a},t.prototype.setPriority=function(n,r){Ne("Reference.setPriority",1,2,arguments.length),cn("Reference.setPriority","onComplete",r,!0);var i=_J(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;Ne("Reference.push",0,2,arguments.length),cn("Reference.push","onComplete",r,!0);var s=gJ(this._delegate,n),a=s.then(function(l){return new t(i.database,l)});r&&a.then(function(){return r(null)},function(l){return r(l)});var c=new t(this.database,s);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c},t.prototype.onDisconnect=function(){return Vr("Reference.onDisconnect",this._delegate._path),new r7(new mJ(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(dU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rv=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),zJ(this._delegate,t,n,r)},e.prototype.ref=function(t){if(Ne("database.ref",0,1,arguments.length),t instanceof da){var n=Tk(this._delegate,t.toString());return new da(this,n)}else{var n=sU(this._delegate,t);return new da(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";Ne(n,1,1,arguments.length);var r=Tk(this._delegate,t);return new da(this,r)},e.prototype.goOffline=function(){return Ne("database.goOffline",0,0,arguments.length),QJ(this._delegate)},e.prototype.goOnline=function(){return Ne("database.goOnline",0,0,arguments.length),XJ(this._delegate)},e.ServerValue={TIMESTAMP:ZJ(),increment:function(t){return e7(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o7=function(){aa.forceDisallow(),T0.forceAllow()},s7=function(){T0.forceDisallow()},a7=function(){return aa.isAvailable()},u7=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},c7=function(e,t){uJ(e._delegate._repo,t)},l7=function(e,t){cJ(e._delegate._repo,t)},f7=function(e){return e._delegate._repo.dataUpdateCount},h7=function(e,t){return J5(e._delegate._repo,t)};function d7(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,c=a===void 0?!1:a;BM(r);var l=new GL("auth-internal",new KL("database-standalone"));return l.setComponent(new Bi("auth-internal",function(){return i},"PRIVATE")),{instance:new Rv(hU(t,l,void 0,n,c),t),namespace:s}}var p7=Object.freeze({__proto__:null,forceLongPolling:o7,forceWebSockets:s7,isWebSocketsAvailable:a7,setSecurityDebugCallback:u7,stats:c7,statsIncrementCounter:l7,dataUpdateCount:f7,interceptServerData:h7,initStandalone:d7});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v7=Ta;Ta.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ta.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var m7=lF,g7=function(e){var t=Ta.prototype.put;return Ta.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){Ta.prototype.put=t}},y7=w0,_7=function(e){return e._delegate._queryIdentifier},b7=function(e){KJ(e)},w7=Object.freeze({__proto__:null,DataConnection:v7,RealTimeConnection:m7,hijackHash:g7,ConnectionTarget:y7,queryIdentifier:_7,forceRestClient:b7});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E7=Rv.ServerValue;function T7(e){BM(e.SDK_VERSION),e.INTERNAL.registerComponent(new Bi("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Rv(hU(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:da,Query:dU,Database:Rv,DataSnapshot:wf,enableLogging:GM,INTERNAL:p7,ServerValue:E7,TEST_ACCESS:w7}).setMultipleInstances(!0)),e.registerVersion(aQ,uQ)}T7(Ce);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var g=o[p];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(w){this.b=0,this.c=void 0,this.a=[];var k=this.f();try{w(k.resolve,k.reject)}catch(G){k.reject(G)}}function f(){this.a=null}function p(w){return w instanceof u?w:new u(function(k){k(w)})}if(o)return o;f.prototype.b=function(w){if(this.a==null){this.a=[];var k=this;this.c(function(){k.g()})}this.a.push(w)};var g=r.setTimeout;f.prototype.c=function(w){g(w,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var k=0;k<w.length;++k){var G=w[k];w[k]=null;try{G()}catch(Z){this.f(Z)}}}this.a=null},f.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(Z){return function(ke){G||(G=!0,Z.call(k,ke))}}var k=this,G=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{e:switch(typeof w){case"object":var k=w!=null;break e;case"function":k=!0;break e;default:k=!1}k?this.v(w):this.h(w)}},u.prototype.v=function(w){var k=void 0;try{k=w.then}catch(G){this.g(G);return}typeof k=="function"?this.u(k,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,k){if(this.b!=0)throw Error("Cannot settle("+w+", "+k+"): Promise already settled in state"+this.b);this.b=w,this.c=k,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)_.b(this.a[w]);this.a=null}};var _=new f;return u.prototype.s=function(w){var k=this.f();w.Ra(k.resolve,k.reject)},u.prototype.u=function(w,k){var G=this.f();try{w.call(k,G.resolve,G.reject)}catch(Z){G.reject(Z)}},u.prototype.then=function(w,k){function G(et,an){return typeof et=="function"?function(to){try{Z(et(to))}catch(Q_){ke(Q_)}}:an}var Z,ke,ft=new u(function(et,an){Z=et,ke=an});return this.Ra(G(w,Z),G(k,ke)),ft},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Ra=function(w,k){function G(){switch(Z.b){case 1:w(Z.c);break;case 2:k(Z.c);break;default:throw Error("Unexpected state: "+Z.b)}}var Z=this;this.a==null?_.b(G):this.a.push(G)},u.resolve=p,u.reject=function(w){return new u(function(k,G){G(w)})},u.race=function(w){return new u(function(k,G){for(var Z=a(w),ke=Z.next();!ke.done;ke=Z.next())p(ke.value).Ra(k,G)})},u.all=function(w){var k=a(w),G=k.next();return G.done?p([]):new u(function(Z,ke){function ft(to){return function(Q_){et[to]=Q_,an--,an==0&&Z(et)}}var et=[],an=0;do et.push(void 0),an++,p(G.value).Ra(ft(et.length-1),ke),G=k.next();while(!G.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function b(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function E(o){return y(o)=="function"}function T(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function N(o){return Object.prototype.hasOwnProperty.call(o,L)&&o[L]||(o[L]=++A)}var L="closure_uid_"+(1e9*Math.random()>>>0),A=0;function D(o,u,f){return o.call.apply(o.bind,arguments)}function F(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,p),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function R(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R=D:R=F,R.apply(null,arguments)}function j(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function H(o,u){function f(){}f.prototype=u.prototype,o.bb=u.prototype,o.prototype=new f,o.prototype.constructor=o}function Q(o){return o}function P(o,u,f){this.code=ge+o,this.message=u||Pe[o]||"",this.a=f||null}H(P,Error),P.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},P.prototype.toJSON=function(){return this.w()};function De(o){var u=o&&o.code;return u?new P(u.substring(ge.length),o.message,o.serverResponse):null}var ge="auth/",Pe={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},kt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function gt(o){for(var u in kt)if(kt[u].id===o)return o=kt[u],{firebaseEndpoint:o.Ua,secureTokenEndpoint:o.$a,identityPlatformEndpoint:o.Xa};return null}var Se;Se=gt("__EID__")?"__EID__":void 0;function Ae(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function we(o){if(Error.captureStackTrace)Error.captureStackTrace(this,we);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}H(we,Error),we.prototype.name="CustomError";function vt(o,u){o=o.split("%s");for(var f="",p=o.length-1,g=0;g<p;g++)f+=o[g]+(g<u.length?u[g]:"%s");we.call(this,f+o[p])}H(vt,we),vt.prototype.name="AssertionError";function yt(o,u){throw new vt("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function st(o,u){this.c=o,this.f=u,this.b=0,this.a=null}st.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function nt(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function Wt(){this.b=this.a=null}var Dt=new st(function(){return new dt},function(o){o.reset()});Wt.prototype.add=function(o,u){var f=Dt.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function Vt(){var o=iS,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function dt(){this.next=this.b=this.a=null}dt.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},dt.prototype.reset=function(){this.next=this.b=this.a=null};var Y=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},ee=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,g=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in g&&u.call(f,g[_],_,o)};function ae(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var he=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],g=0,_=typeof o=="string"?o.split(""):o,w=0;w<f;w++)if(w in _){var k=_[w];u.call(void 0,k,w,o)&&(p[g++]=k)}return p},Me=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),g=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in g&&(p[_]=u.call(void 0,g[_],_,o));return p},Qe=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o))return!0;return!1};function O(o){e:{for(var u=Z$,f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o)){u=g;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function I(o,u){return 0<=Y(o,u)}function M(o,u){u=Y(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function z(o,u){var f=0;ae(o,function(p,g){u.call(void 0,p,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function q(o){return Array.prototype.concat.apply([],arguments)}function X(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var ue=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},S=/&/g,C=/</g,x=/>/g,K=/"/g,oe=/'/g,J=/\x00/g,U=/[\x00&<>"']/;function V(o,u){return o.indexOf(u)!=-1}function me(o,u){return o<u?-1:o>u?1:0}var ye;e:{var at=l.navigator;if(at){var Xt=at.userAgent;if(Xt){ye=Xt;break e}}ye=""}function Xe(o){return V(ye,o)}function ks(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function Xn(o){for(var u in o)return!1;return!0}function zr(o){var u={},f;for(f in o)u[f]=o[f];return u}var Tn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(o,u){for(var f,p,g=1;g<arguments.length;g++){p=arguments[g];for(f in p)o[f]=p[f];for(var _=0;_<Tn.length;_++)f=Tn[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function sl(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||l,p.Element&&p.Location){var g=p;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(T(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;yt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function wi(o,u){this.a=o===qh&&u||"",this.b=VI}wi.prototype.ta=!0,wi.prototype.sa=function(){return this.a},wi.prototype.toString=function(){return"Const{"+this.a+"}"};function Tg(o){return o instanceof wi&&o.constructor===wi&&o.b===VI?o.a:(yt("expected object of type Const, got '"+o+"'"),"type_error:Const")}var VI={},qh={},Gh;function jI(){if(Gh===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:Q,createScript:Q,createScriptURL:Q})}catch(f){l.console&&l.console.error(f.message)}Gh=o}else Gh=o}return Gh}function ru(o,u){this.a=u===BI?o:""}ru.prototype.ta=!0,ru.prototype.sa=function(){return this.a.toString()},ru.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function $I(o){return o instanceof ru&&o.constructor===ru?o.a:(yt("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Ig(o,u){var f=Tg(o);if(!Oj.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(Nj,function(p,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[g],p instanceof wi?Tg(p):encodeURIComponent(String(p))}),Rj(o)}var Nj=/%{(\w+)}/g,Oj=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,BI={};function Rj(o){var u=jI();return o=u?u.createScriptURL(o):o,new ru(o,BI)}function Jn(o,u){this.a=u===al?o:""}Jn.prototype.ta=!0,Jn.prototype.sa=function(){return this.a.toString()},Jn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Kh(o){return o instanceof Jn&&o.constructor===Jn?o.a:(yt("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var kj=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dj=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,HI=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function WI(o){if(o instanceof Jn)return o;if(o=typeof o=="object"&&o.ta?o.sa():String(o),HI.test(o))o=new Jn(o,al);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(Dj);o=u&&kj.test(u[1])?new Jn(o,al):null}return o}function qI(o){return o instanceof Jn?o:(o=typeof o=="object"&&o.ta?o.sa():String(o),HI.test(o)||(o="about:invalid#zClosurez"),new Jn(o,al))}var al={},GI=new Jn("about:invalid#zClosurez",al);function iu(o,u,f){this.a=f===KI?o:""}iu.prototype.ta=!0,iu.prototype.sa=function(){return this.a.toString()},iu.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Pj(o){return o instanceof iu&&o.constructor===iu?o.a:(yt("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var KI={};function Lj(o,u){sl(o,"HTMLScriptElement"),o.src=$I(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=v(u.document):(d===null&&(d=v(l.document)),u=d),u&&o.setAttribute("nonce",u)}function YI(o,u,f,p){return o=o instanceof Jn?o:qI(o),u=u||l,f=f instanceof wi?Tg(f):f||"",u.open(Kh(o),f,p,void 0)}function zI(o,u){for(var f=o.split("%s"),p="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)p+=f.shift()+g.shift();return p+f.join("%s")}function Sg(o){return U.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(S,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(C,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(x,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(K,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(oe,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(J,"&#0;"))),o}function Ag(o){return Ag[" "](o),o}Ag[" "]=m;function xj(o,u){var f=Vj;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var Mj=Xe("Opera"),Qr=Xe("Trident")||Xe("MSIE"),QI=Xe("Edge"),Fj=QI||Qr,XI=Xe("Gecko")&&!(V(ye.toLowerCase(),"webkit")&&!Xe("Edge"))&&!(Xe("Trident")||Xe("MSIE"))&&!Xe("Edge"),Uj=V(ye.toLowerCase(),"webkit")&&!Xe("Edge");function JI(){var o=l.document;return o?o.documentMode:void 0}var Yh;e:{var Cg="",Ng=function(){var o=ye;if(XI)return/rv:([^\);]+)(\)|;)/.exec(o);if(QI)return/Edge\/([\d\.]+)/.exec(o);if(Qr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(Uj)return/WebKit\/(\S+)/.exec(o);if(Mj)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Ng&&(Cg=Ng?Ng[1]:""),Qr){var Og=JI();if(Og!=null&&Og>parseFloat(Cg)){Yh=String(Og);break e}}Yh=Cg}var Vj={};function ZI(o){return xj(o,function(){for(var u=0,f=ue(String(Yh)).split("."),p=ue(String(o)).split("."),g=Math.max(f.length,p.length),_=0;u==0&&_<g;_++){var w=f[_]||"",k=p[_]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""],w[0].length==0&&k[0].length==0)break;u=me(w[1].length==0?0:parseInt(w[1],10),k[1].length==0?0:parseInt(k[1],10))||me(w[2].length==0,k[2].length==0)||me(w[2],k[2]),w=w[3],k=k[3]}while(u==0)}return 0<=u})}var Rg;if(l.document&&Qr){var eS=JI();Rg=eS||parseInt(Yh,10)||void 0}else Rg=void 0;var No=Rg;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var jj=!Qr||9<=Number(No);function ul(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function tS(o,u){ks(u,function(f,p){f&&typeof f=="object"&&f.ta&&(f=f.sa()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:nS.hasOwnProperty(p)?o.setAttribute(nS[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var nS={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function $j(o,u,f){var p=arguments,g=document,_=String(p[0]),w=p[1];if(!jj&&w&&(w.name||w.type)){if(_=["<",_],w.name&&_.push(' name="',Sg(w.name),'"'),w.type){_.push(' type="',Sg(w.type),'"');var k={};Tt(k,w),delete k.type,w=k}_.push(">"),_=_.join("")}return _=zh(g,_),w&&(typeof w=="string"?_.className=w:Array.isArray(w)?_.className=w.join(" "):tS(_,w)),2<p.length&&Bj(g,_,p),_}function Bj(o,u,f){function p(k){k&&u.appendChild(typeof k=="string"?o.createTextNode(k):k)}for(var g=2;g<f.length;g++){var _=f[g];if(!b(_)||T(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(T(_)){var w=typeof _.item=="function"||typeof _.item=="string";break e}if(E(_)){w=typeof _.item=="function";break e}}w=!1}ee(w?X(_):_,p)}}}function zh(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function rS(o){l.setTimeout(function(){throw o},0)}var kg;function Hj(){var o=l.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Xe("Presto")&&(o=function(){var g=zh(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var _=g.contentWindow;g=_.document,g.open(),g.close();var w="callImmediate"+Math.random(),k=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;g=R(function(G){(k=="*"||G.origin==k)&&G.data==w&&this.port1.onmessage()},this),_.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(w,k)}}}),typeof o<"u"&&!Xe("Trident")&&!Xe("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Hb;f.Hb=null,g()}},function(g){p.next={Hb:g},p=p.next,u.port2.postMessage(0)}}return function(g){l.setTimeout(g,0)}}function Qh(o,u){Xh||Wj(),Dg||(Xh(),Dg=!0),iS.add(o,u)}var Xh;function Wj(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);Xh=function(){o.then(oS)}}else Xh=function(){var u=oS;!E(l.setImmediate)||l.Window&&l.Window.prototype&&!Xe("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(kg||(kg=Hj()),kg(u)):l.setImmediate(u)}}var Dg=!1,iS=new Wt;function oS(){for(var o;o=Vt();){try{o.a.call(o.b)}catch(u){rS(u)}nt(Dt,o)}Dg=!1}function qe(o,u){if(this.a=Ds,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(p){Ps(f,cl,p)},function(p){if(!(p instanceof ou))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}Ps(f,Xi,p)})}catch(p){Ps(this,Xi,p)}}var Ds=0,cl=2,Xi=3;function sS(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}sS.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var aS=new st(function(){return new sS},function(o){o.reset()});function Pg(o,u,f){var p=aS.get();return p.g=o,p.b=u,p.f=f,p}function Ee(o){if(o instanceof qe)return o;var u=new qe(m);return Ps(u,cl,o),u}function At(o){return new qe(function(u,f){f(o)})}function uS(o,u,f){hS(o,u,f,null)||Qh(j(u,o))}function qj(o){return new qe(function(u,f){var p=o.length,g=[];if(p)for(var _=function(Z,ke){p--,g[Z]=ke,p==0&&u(g)},w=function(Z){f(Z)},k=0,G;k<o.length;k++)G=o[k],uS(G,j(_,k),w);else u(g)})}function cS(o){return new qe(function(u){var f=o.length,p=[];if(f)for(var g=function(k,G,Z){f--,p[k]=G?{Qb:!0,value:Z}:{Qb:!1,reason:Z},f==0&&u(p)},_=0,w;_<o.length;_++)w=o[_],uS(w,j(g,_,!0),j(g,_,!1));else u(p)})}qe.prototype.then=function(o,u,f){return fS(this,E(o)?o:null,E(u)?u:null,f)},qe.prototype.$goog_Thenable=!0,e=qe.prototype,e.oa=function(o,u){return o=Pg(o,o,u),o.c=!0,Lg(this,o),this},e.o=function(o,u){return fS(this,null,o,u)},e.cancel=function(o){if(this.a==Ds){var u=new ou(o);Qh(function(){lS(this,u)},this)}};function lS(o,u){if(o.a==Ds)if(o.c){var f=o.c;if(f.b){for(var p=0,g=null,_=null,w=f.b;w&&(w.c||(p++,w.a==o&&(g=w),!(g&&1<p)));w=w.next)g||(_=w);g&&(f.a==Ds&&p==1?lS(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):pS(f),vS(f,g,Xi,u)))}o.c=null}else Ps(o,Xi,u)}function Lg(o,u){o.b||o.a!=cl&&o.a!=Xi||dS(o),o.f?o.f.next=u:o.b=u,o.f=u}function fS(o,u,f,p){var g=Pg(null,null,null);return g.a=new qe(function(_,w){g.g=u?function(k){try{var G=u.call(p,k);_(G)}catch(Z){w(Z)}}:_,g.b=f?function(k){try{var G=f.call(p,k);G===void 0&&k instanceof ou?w(k):_(G)}catch(Z){w(Z)}}:w}),g.a.c=o,Lg(o,g),g.a}e.$c=function(o){this.a=Ds,Ps(this,cl,o)},e.ad=function(o){this.a=Ds,Ps(this,Xi,o)};function Ps(o,u,f){o.a==Ds&&(o===f&&(u=Xi,f=new TypeError("Promise cannot resolve to itself")),o.a=1,hS(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,dS(o),u!=Xi||f instanceof ou||Kj(o,f)))}function hS(o,u,f,p){if(o instanceof qe)return Lg(o,Pg(u||m,f||null,p)),!0;if(Ae(o))return o.then(u,f,p),!0;if(T(o))try{var g=o.then;if(E(g))return Gj(o,g,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function Gj(o,u,f,p,g){function _(G){k||(k=!0,p.call(g,G))}function w(G){k||(k=!0,f.call(g,G))}var k=!1;try{u.call(o,w,_)}catch(G){_(G)}}function dS(o){o.h||(o.h=!0,Qh(o.gc,o))}function pS(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=pS(this);)vS(this,o,this.a,this.i);this.h=!1};function vS(o,u,f,p){if(f==Xi&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,mS(u,f,p);else try{u.c?u.g.call(u.f):mS(u,f,p)}catch(g){gS.call(null,g)}nt(aS,u)}function mS(o,u,f){u==cl?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function Kj(o,u){o.g=!0,Qh(function(){o.g&&gS.call(null,u)})}var gS=rS;function ou(o){we.call(this,o)}H(ou,we),ou.prototype.name="cancel";function Jh(){this.ya=this.ya,this.pa=this.pa}var Yj=0;Jh.prototype.ya=!1;function yS(o){!o.ya&&(o.ya=!0,o.Da(),Yj!=0)&&N(o)}Jh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var zj=Object.freeze||function(o){return o},_S=!Qr||9<=Number(No),Qj=Qr&&!ZI("9"),Xj=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",m,u),l.removeEventListener("test",m,u)}catch{}return o}();function Zn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Zn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ls(o,u){if(Zn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(XI){e:{try{Ag(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Jj[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}H(Ls,Zn);var Jj=zj({2:"touch",3:"pen",4:"mouse"});Ls.prototype.preventDefault=function(){Ls.bb.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,Qj)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Ls.prototype.g=function(){return this.a};var ll="closure_listenable_"+(1e6*Math.random()|0),Zj=0;function e$(o,u,f,p,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Wa=g,this.key=++Zj,this.wa=this.Qa=!1}function Zh(o){o.wa=!0,o.listener=null,o.proxy=null,o.src=null,o.Wa=null}function ed(o){this.src=o,this.a={},this.b=0}ed.prototype.add=function(o,u,f,p,g){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var w=Mg(o,u,p,g);return-1<w?(u=o[w],f||(u.Qa=!1)):(u=new e$(u,this.src,_,!!p,g),u.Qa=f,o.push(u)),u};function xg(o,u){var f=u.type;f in o.a&&M(o.a[f],u)&&(Zh(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Mg(o,u,f,p){for(var g=0;g<o.length;++g){var _=o[g];if(!_.wa&&_.listener==u&&_.capture==!!f&&_.Wa==p)return g}return-1}var Fg="closure_lm_"+(1e6*Math.random()|0),Ug={};function Dr(o,u,f,p,g){if(p&&p.once)Vg(o,u,f,p,g);else if(Array.isArray(u))for(var _=0;_<u.length;_++)Dr(o,u[_],f,p,g);else f=$g(f),o&&o[ll]?SS(o,u,f,T(p)?!!p.capture:!!p,g):bS(o,u,f,!1,p,g)}function bS(o,u,f,p,g,_){if(!u)throw Error("Invalid event type");var w=T(g)?!!g.capture:!!g,k=td(o);if(k||(o[Fg]=k=new ed(o)),f=k.add(u,f,p,w,_),!f.proxy)if(p=t$(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Xj||(g=w),g===void 0&&(g=!1),o.addEventListener(u.toString(),p,g);else if(o.attachEvent)o.attachEvent(ES(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function t$(){var o=n$,u=_S?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Vg(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)Vg(o,u[_],f,p,g);else f=$g(f),o&&o[ll]?Bg(o,u,f,T(p)?!!p.capture:!!p,g):bS(o,u,f,!0,p,g)}function mr(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)mr(o,u[_],f,p,g);else p=T(p)?!!p.capture:!!p,f=$g(f),o&&o[ll]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Mg(_,f,p,g),-1<f&&(Zh(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=td(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Mg(u,f,p,g)),(f=-1<o?u[o]:null)&&wS(f))}function wS(o){if(typeof o!="number"&&o&&!o.wa){var u=o.src;if(u&&u[ll])xg(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(ES(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=td(u))?(xg(f,o),f.b==0&&(f.src=null,u[Fg]=null)):Zh(o)}}}function ES(o){return o in Ug?Ug[o]:Ug[o]="on"+o}function TS(o,u,f,p){var g=!0;if((o=td(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.wa&&(_=IS(_,p),g=g&&_!==!1)}return g}function IS(o,u){var f=o.listener,p=o.Wa||o.src;return o.Qa&&wS(o),f.call(p,u)}function n$(o,u){if(o.wa)return!0;if(!_S){if(!u)e:{u=["window","event"];for(var f=l,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new Ls(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var g=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{g=!0}(g||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],g=u.b;g;g=g.parentNode)p.push(g);for(o=o.type,g=p.length-1;0<=g;g--){u.b=p[g];var _=TS(p[g],o,!0,u);f=f&&_}for(g=0;g<p.length;g++)u.b=p[g],_=TS(p[g],o,!1,u),f=f&&_}return f}return IS(o,new Ls(u,this))}function td(o){return o=o[Fg],o instanceof ed?o:null}var jg="__closure_events_fn_"+(1e9*Math.random()>>>0);function $g(o){return E(o)?o:(o[jg]||(o[jg]=function(u){return o.handleEvent(u)}),o[jg])}function Mn(){Jh.call(this),this.v=new ed(this),this.bc=this,this.hb=null}H(Mn,Jh),Mn.prototype[ll]=!0,Mn.prototype.addEventListener=function(o,u,f,p){Dr(this,o,u,f,p)},Mn.prototype.removeEventListener=function(o,u,f,p){mr(this,o,u,f,p)},Mn.prototype.dispatchEvent=function(o){var u,f=this.hb;if(f)for(u=[];f;f=f.hb)u.push(f);f=this.bc;var p=o.type||o;if(typeof o=="string")o=new Zn(o,f);else if(o instanceof Zn)o.target=o.target||f;else{var g=o;o=new Zn(p,f),Tt(o,g)}if(g=!0,u)for(var _=u.length-1;0<=_;_--){var w=o.b=u[_];g=nd(w,p,!0,o)&&g}if(w=o.b=f,g=nd(w,p,!0,o)&&g,g=nd(w,p,!1,o)&&g,u)for(_=0;_<u.length;_++)w=o.b=u[_],g=nd(w,p,!1,o)&&g;return g},Mn.prototype.Da=function(){if(Mn.bb.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)Zh(f[p]);delete o.a[u],o.b--}}this.hb=null};function SS(o,u,f,p,g){o.v.add(String(u),f,!1,p,g)}function Bg(o,u,f,p,g){o.v.add(String(u),f,!0,p,g)}function nd(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,_=0;_<u.length;++_){var w=u[_];if(w&&!w.wa&&w.capture==f){var k=w.listener,G=w.Wa||w.src;w.Qa&&xg(o.v,w),g=k.call(G,p)!==!1&&g}}return g&&!p.defaultPrevented}function Hg(o,u,f){if(E(o))f&&(o=R(o,f));else if(o&&typeof o.handleEvent=="function")o=R(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function su(o){var u=null;return new qe(function(f,p){u=Hg(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function AS(o){if(o.X&&typeof o.X=="function")return o.X();if(typeof o=="string")return o.split("");if(b(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function CS(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.X||typeof o.X!="function"){if(b(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function r$(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(b(o)||typeof o=="string")ee(o,u,void 0);else for(var f=CS(o),p=AS(o),g=p.length,_=0;_<g;_++)u.call(void 0,p[_],f&&f[_],o)}function au(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof au)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}e=au.prototype,e.X=function(){Wg(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return Wg(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Wg(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];xs(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)p=o.a[u],xs(g,p)||(o.a[f++]=p,g[p]=1),u++;o.a.length=f}}e.get=function(o,u){return xs(this.b,o)?this.b[o]:u},e.set=function(o,u){xs(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var g=f[p],_=this.get(g);o.call(u,_,g,this)}};function xs(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var NS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function i$(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),g=null;if(0<=p){var _=o[f].substring(0,p);g=o[f].substring(p+1)}else _=o[f];u(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Oo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof Oo?(this.i=u!==void 0?u:o.i,fl(this,o.c),this.l=o.l,this.a=o.a,hl(this,o.g),this.f=o.f,qg(this,DS(o.b)),this.h=o.h):o&&(f=String(o).match(NS))?(this.i=!!u,fl(this,f[1]||"",!0),this.l=dl(f[2]||""),this.a=dl(f[3]||"",!0),hl(this,f[4]),this.f=dl(f[5]||"",!0),qg(this,f[6]||"",!0),this.h=dl(f[7]||"")):(this.i=!!u,this.b=new Ms(null,this.i))}Oo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(pl(u,OS,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(pl(u,OS,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(pl(f,f.charAt(0)=="/"?a$:s$,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",pl(f,c$)),o.join("")},Oo.prototype.resolve=function(o){var u=new Oo(this),f=!!o.c;f?fl(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)hl(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var g=u.f.lastIndexOf("/");g!=-1&&(p=u.f.substr(0,g+1)+p)}if(g=p,g==".."||g==".")p="";else if(V(g,"./")||V(g,"/.")){p=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],w=0;w<g.length;){var k=g[w++];k=="."?p&&w==g.length&&_.push(""):k==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&w==g.length&&_.push("")):(_.push(k),p=!0)}p=_.join("/")}else p=g}return f?u.f=p:f=o.b.toString()!=="",f?qg(u,DS(o.b)):f=!!o.h,f&&(u.h=o.h),u};function fl(o,u,f){o.c=f?dl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function hl(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function qg(o,u,f){u instanceof Ms?(o.b=u,l$(o.b,o.i)):(f||(u=pl(u,u$)),o.b=new Ms(u,o.i))}function jt(o,u,f){o.b.set(u,f)}function Pr(o,u){return o.b.get(u)}function er(o){return o instanceof Oo?new Oo(o):new Oo(o,void 0)}function rd(o,u,f,p){var g=new Oo(null,void 0);return o&&fl(g,o),u&&(g.a=u),f&&hl(g,f),p&&(g.f=p),g}function dl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function pl(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,o$),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function o$(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var OS=/[#\/\?@]/g,s$=/[#\?:]/g,a$=/[#\?]/g,u$=/[#\?@]/g,c$=/#/g;function Ms(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function Ro(o){o.a||(o.a=new au,o.b=0,o.c&&i$(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function RS(o){var u=CS(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Ms(null,void 0);o=AS(o);for(var p=0;p<u.length;p++){var g=u[p],_=o[p];Array.isArray(_)?kS(f,g,_):f.add(g,_)}return f}e=Ms.prototype,e.add=function(o,u){Ro(this),this.c=null,o=uu(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Ei(o,u){Ro(o),u=uu(o,u),xs(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,xs(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Wg(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Gg(o,u){return Ro(o),u=uu(o,u),xs(o.a.b,u)}e.forEach=function(o,u){Ro(this),this.a.forEach(function(f,p){ee(f,function(g){o.call(u,g,p,this)},this)},this)},e.Y=function(){Ro(this);for(var o=this.a.X(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var g=o[p],_=0;_<g.length;_++)f.push(u[p]);return f},e.X=function(o){Ro(this);var u=[];if(typeof o=="string")Gg(this,o)&&(u=q(u,this.a.get(uu(this,o))));else{o=this.a.X();for(var f=0;f<o.length;f++)u=q(u,o[f])}return u},e.set=function(o,u){return Ro(this),this.c=null,o=uu(this,o),Gg(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.X(o),0<o.length?String(o[0]):u):u};function kS(o,u,f){Ei(o,u),0<f.length&&(o.c=null,o.a.set(uu(o,u),X(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],g=encodeURIComponent(String(p));p=this.X(p);for(var _=0;_<p.length;_++){var w=g;p[_]!==""&&(w+="="+encodeURIComponent(String(p[_]))),o.push(w)}}return this.c=o.join("&")};function DS(o){var u=new Ms;return u.c=o.c,o.a&&(u.a=new au(o.a),u.b=o.b),u}function uu(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function l$(o,u){u&&!o.f&&(Ro(o),o.c=null,o.a.forEach(function(f,p){var g=p.toLowerCase();p!=g&&(Ei(this,p),kS(this,g,f))},o)),o.f=u}function PS(o){var u=[];return Kg(new f$,o,u),u.join("")}function f$(){}function Kg(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var g="",_=0;_<u;_++)f.push(g),Kg(o,p[_],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(g),xS(p,f),f.push(":"),Kg(o,_,f),g=","));f.push("}");return}}switch(typeof u){case"string":xS(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var LS={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},h$=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function xS(o,u){u.push('"',o.replace(h$,function(f){var p=LS[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),LS[f]=p),p}),'"')}function Yg(){var o=dn();return Qr&&!!No&&No==11||/Edge\/\d+/.test(o)}function vl(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function MS(o,u){u=u||l.window;var f="about:blank";o&&(f=Kh(WI(o)||GI)),u.location.href=f}function FS(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<FS(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function d$(){var o=dn();return o=cu(o)!=$S?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Qr||!No||9<No}function US(o){return o=(o||dn()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Fs(o){o=o||l.window;try{o.close()}catch{}}function VS(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=dn().toLowerCase(),p&&(u.target=p,V(f,"crios/")&&(u.target="_blank")),cu(dn())==Xg&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof Jn?f:WI(typeof f.href<"u"?f.href:String(f))||GI,f=o.target||f.target,g=[];for(w in o)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+o[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(o[w]?1:0))}var w=g.join(",");if((Xe("iPhone")&&!Xe("iPod")&&!Xe("iPad")||Xe("iPad")||Xe("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(w=zh(document,"A"),sl(w,"HTMLAnchorElement"),u=u instanceof Jn?u:qI(u),w.href=Kh(u),w.setAttribute("target",f),o.noreferrer&&w.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),w.dispatchEvent(o),w={}):o.noreferrer?(w=YI("",p,f,w),o=Kh(u),w&&(Fj&&V(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),w.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Sg(o)+'">',o=(p=jI())?p.createHTML(o):o,o=new iu(o,null,KI),p=w.document)&&(p.write(Pj(o)),p.close())):(w=YI(u,p,f,w))&&o.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function p$(o){return new qe(function(u){function f(){su(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var v$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m$=/^[^@]+@[^@]+$/;function id(){var o=null;return new qe(function(u){l.document.readyState=="complete"?u():(o=function(){u()},Vg(window,"load",o))}).o(function(u){throw mr(window,"load",o),u})}function g$(){return zg(void 0)?id().then(function(){return new qe(function(o,u){var f=l.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):At(Error("Cordova must run in an Android or iOS file scheme."))}function zg(o){return o=o||dn(),!(fu()!=="file:"&&fu()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qg(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function Xr(){return typeof l.WorkerGlobalScope<"u"&&typeof l.importScripts=="function"}function Ti(){return Ce.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ce.INTERNAL.hasOwnProperty("node")?"Node":Xr()?"Worker":"Browser"}function jS(){var o=Ti();return o==="ReactNative"||o==="Node"}function y$(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Xg="Firefox",$S="Chrome";function cu(o){var u=o.toLowerCase();if(V(u,"opera/")||V(u,"opr/")||V(u,"opios/"))return"Opera";if(V(u,"iemobile"))return"IEMobile";if(V(u,"msie")||V(u,"trident/"))return"IE";if(V(u,"edge/"))return"Edge";if(V(u,"firefox/"))return Xg;if(V(u,"silk/"))return"Silk";if(V(u,"blackberry"))return"Blackberry";if(V(u,"webos"))return"Webos";if(!V(u,"safari/")||V(u,"chrome/")||V(u,"crios/")||V(u,"android"))if(!V(u,"chrome/")&&!V(u,"crios/")||V(u,"edge/")){if(V(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return $S;else return"Safari";return"Other"}var BS={md:"FirebaseCore-web",od:"FirebaseUI-web"};function lu(o,u){u=u||[];var f=[],p={},g;for(g in BS)p[BS[g]]=!0;for(g=0;g<u.length;g++)typeof p[u[g]]<"u"&&(delete p[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Ti(),f==="Browser"?(p=dn(),f=cu(p)):f==="Worker"&&(p=dn(),f=cu(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function dn(){return l.navigator&&l.navigator.userAgent||""}function Ct(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Jg(){try{var o=l.localStorage,u=Vs();if(o)return o.setItem(u,"1"),o.removeItem(u),Yg()?!!l.indexedDB:!0}catch{return Xr()&&!!l.indexedDB}return!1}function Us(){return(od()||fu()==="chrome-extension:"||zg())&&!jS()&&Jg()&&!Xr()}function od(){return fu()==="http:"||fu()==="https:"}function fu(){return l.location&&l.location.protocol||null}function ml(o){return o=o||dn(),!(US(o)||cu(o)==Xg)}function gl(o){return typeof o>"u"?null:PS(o)}function HS(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function hu(o){if(o!==null)return JSON.parse(o)}function Vs(o){return o||Math.floor(1e9*Math.random()).toString()}function WS(o){return o=o||dn(),!(cu(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function qS(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function ko(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=dn(),u=Ti(),this.b=US(o)||u==="ReactNative"}ko.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&(od()||fu()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Zg(){var o=l.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function _$(){var o=l.document,u=null;return Zg()||!o?Ee():new qe(function(f){u=function(){Zg()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function yl(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function GS(){return!(!Ct("fireauth.oauthhelper",l)&&!Ct("fireauth.iframe",l))}function b$(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function w$(){var o=l.navigator;return o&&o.serviceWorker?Ee().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):Ee(null)}var KS={};function ey(o){KS[o]||(KS[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var ty;try{var ny={};Object.defineProperty(ny,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ny,"abcd",{configurable:!0,enumerable:!0,value:2}),ty=ny.abcd==2}catch{ty=!1}function ve(o,u,f){ty?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function Fn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&ve(o,f,u[f])}function Ii(o){var u={};return Fn(u,o),u}function E$(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function T$(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function ry(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)ve(u,f,ry(o[f]))}return u}function iy(o){var u=o&&(o[uy]?"phone":null);if(u&&o&&o[ay]){ve(this,"uid",o[ay]),ve(this,"displayName",o[YS]||null);var f=null;o[sy]&&(f=new Date(o[sy]).toUTCString()),ve(this,"enrollmentTime",f),ve(this,"factorId",u)}else throw new P("internal-error","Internal assert: invalid MultiFactorInfo object")}iy.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function oy(o){try{var u=new _l(o)}catch{u=null}return u}var YS="displayName",sy="enrolledAt",ay="mfaEnrollmentId",uy="phoneInfo";function _l(o){iy.call(this,o),ve(this,"phoneNumber",o[uy])}H(_l,iy),_l.prototype.w=function(){var o=_l.bb.w.call(this);return o.phoneNumber=this.phoneNumber,o};function I$(o){var u={},f=o[S$],p=o[C$],g=o[N$];if(o=oy(o[A$]),!g||g!=sd&&g!=bl&&!f||g==bl&&!p||g==cy&&!o)throw Error("Invalid checkActionCode response!");g==bl?(u[QS]=f||null,u[XS]=f||null,u[zS]=p):(u[QS]=p||null,u[XS]=p||null,u[zS]=f||null),u[O$]=o||null,ve(this,k$,g),ve(this,R$,ry(u))}var cy="REVERT_SECOND_FACTOR_ADDITION",sd="EMAIL_SIGNIN",bl="VERIFY_AND_CHANGE_EMAIL",S$="email",A$="mfaInfo",C$="newEmail",N$="requestType",zS="email",QS="fromEmail",O$="multiFactorInfo",XS="previousEmail",R$="data",k$="operation";function ly(o){o=er(o);var u=Pr(o,JS)||null,f=Pr(o,ZS)||null,p=Pr(o,eA)||null;if(p=p&&x$[p]||null,!u||!f||!p)throw new P("argument-error",JS+", "+ZS+"and "+eA+" are required in a valid action code URL.");Fn(this,{apiKey:u,operation:p,code:f,continueUrl:Pr(o,D$)||null,languageCode:Pr(o,P$)||null,tenantId:Pr(o,L$)||null})}var JS="apiKey",ZS="oobCode",D$="continueUrl",P$="languageCode",eA="mode",L$="tenantId",x$={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:cy,signIn:sd,verifyAndChangeEmail:bl,verifyEmail:"VERIFY_EMAIL"};function tA(o){try{return new ly(o)}catch{return null}}function ad(o){var u=o[M$];if(typeof u>"u")throw new P("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new P("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[nA];if(f&&typeof f=="object"){u=f[aA];var p=f[oA];if(f=f[sA],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new P("argument-error",oA+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new P("argument-error",sA+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new P("argument-error",aA+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new P("missing-android-pkg-name")}}else if(typeof f<"u")throw new P("argument-error",nA+" property must be a non null object when specified.");if(this.f=null,(u=o[iA])&&typeof u=="object"){if(u=u[uA],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new P("argument-error",uA+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new P("argument-error",iA+" property must be a non null object when specified.");if(u=o[fy],typeof u<"u"&&typeof u!="boolean")throw new P("argument-error",fy+" property must be a boolean when specified.");if(this.c=!!u,o=o[rA],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new P("argument-error",rA+" property must be a non empty string when specified.");this.i=o||null}var nA="android",rA="dynamicLinkDomain",fy="handleCodeInApp",iA="iOS",M$="url",oA="installApp",sA="minimumVersion",aA="packageName",uA="bundleId";function ud(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function F$(o){return Me(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var wl=null;function U$(o){var u=[];return V$(o,function(f){u.push(f)}),u}function V$(o,u){function f(G){for(;p<o.length;){var Z=o.charAt(p++),ke=wl[Z];if(ke!=null)return ke;if(!/^[\s\xa0]*$/.test(Z))throw Error("Unknown base64 encoding at char: "+Z)}return G}j$();for(var p=0;;){var g=f(-1),_=f(0),w=f(64),k=f(64);if(k===64&&g===-1)break;u(g<<2|_>>4),w!=64&&(u(_<<4&240|w>>2),k!=64&&u(w<<6&192|k))}}function j$(){if(!wl){wl={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),g=0;g<p.length;g++){var _=p[g];wl[_]===void 0&&(wl[_]=g)}}}function cd(o){var u=cA(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}cd.prototype.T=function(){return this.f},cd.prototype.l=function(){return this.c},cd.prototype.toString=function(){return this.h};function ld(o){try{return new cd(o)}catch{return null}}function cA(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=U$(o);for(o=[],f=u=0;u<p.length;){var g=p[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var _=p[u++];o[f++]=String.fromCharCode((g&31)<<6|_&63)}else if(239<g&&365>g){_=p[u++];var w=p[u++],k=p[u++],G=((g&7)<<18|(_&63)<<12|(w&63)<<6|k&63)-65536;o[f++]=String.fromCharCode(55296+(G>>10)),o[f++]=String.fromCharCode(56320+(G&1023))}else _=p[u++],w=p[u++],o[f++]=String.fromCharCode((g&15)<<12|(_&63)<<6|w&63)}return JSON.parse(o.join(""))}catch{}return null}var lA="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),fd=["client_id","response_type","scope","redirect_uri","state"],hy={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:fd},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:fd},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:fd},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:lA},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function dy(o){for(var u in hy)if(hy[u].fa==o)return hy[u];return null}function fA(o){var u={};u["facebook.com"]=dA,u["google.com"]=vA,u["github.com"]=pA,u["twitter.com"]=mA;var f=o&&o[hA];try{if(f)return u[f]?new u[f](o):new Si(o);if(typeof o[py]<"u")return new vy(o)}catch{}return null}var py="idToken",hA="providerId";function vy(o){var u=o[hA];if(!u&&o[py]){var f=ld(o[py]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),ve(this,"providerId",u),ve(this,"isNewUser",f)}function Si(o){vy.call(this,o),o=hu(o.rawUserInfo||"{}"),ve(this,"profile",ry(o||{}))}H(Si,vy);function dA(o){if(Si.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}H(dA,Si);function pA(o){if(Si.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");ve(this,"username",this.profile&&this.profile.login||null)}H(pA,Si);function vA(o){if(Si.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}H(vA,Si);function mA(o){if(Si.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ve(this,"username",o.screenName||null)}H(mA,Si);function gA(o){var u=er(o),f=Pr(u,"link"),p=Pr(er(f),"link");return u=Pr(u,"deep_link_id"),Pr(er(u),"link")||u||p||f||o}function hd(o,u){if(!o&&!u)throw new P("internal-error","Internal assert: no raw session string available");if(o&&u)throw new P("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?El:dd}var El="enroll",dd="signin";hd.prototype.Ha=function(){return this.a?Ee(this.a):Ee(this.b)},hd.prototype.w=function(){return this.type==El?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function du(){}du.prototype.ka=function(){},du.prototype.b=function(){},du.prototype.c=function(){},du.prototype.w=function(){};function pu(o,u){return o.then(function(f){if(f[ei]){var p=ld(f[ei]);if(!p||u!=p.i)throw new P("user-mismatch");return f}throw new P("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==ge+"user-not-found"?new P("user-mismatch"):f})}function js(o,u){if(u)this.a=u;else throw new P("internal-error","failed to construct a credential");ve(this,"providerId",o),ve(this,"signInMethod",o)}js.prototype.ka=function(o){return Vy(o,my(this))},js.prototype.b=function(o,u){var f=my(this);return f.idToken=u,jy(o,f)},js.prototype.c=function(o,u){return pu($y(o,my(this)),u)};function my(o){return{pendingToken:o.a,requestUri:"http://localhost"}}js.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function $$(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new js(o.providerId,o.pendingToken)}catch{}return null}function Ji(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&ve(this,"idToken",u.idToken),u.accessToken&&ve(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&ve(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)ve(this,"accessToken",u.oauthToken),ve(this,"secret",u.oauthTokenSecret);else throw new P("internal-error","failed to construct a credential");ve(this,"providerId",o),ve(this,"signInMethod",f)}Ji.prototype.ka=function(o){return Vy(o,gy(this))},Ji.prototype.b=function(o,u){var f=gy(this);return f.idToken=u,jy(o,f)},Ji.prototype.c=function(o,u){var f=gy(this);return pu($y(o,f),u)};function gy(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:RS(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Ji.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function B$(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Ji(o.providerId,u,o.signInMethod)}catch{}}return null}function $s(o,u){this.Qc=u||[],Fn(this,{providerId:o,isOAuthProvider:!0}),this.Jb={},this.qb=(dy(o)||{}).Ja||null,this.pb=null}$s.prototype.Ka=function(o){return this.Jb=zr(o),this};function yA(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new P("argument-error",'SAML provider IDs must be prefixed with "saml."');$s.call(this,o,[])}H(yA,$s);function gr(o){$s.call(this,o,fd),this.a=[]}H(gr,$s),gr.prototype.Ca=function(o){return I(this.a,o)||this.a.push(o),this},gr.prototype.Rb=function(){return X(this.a)},gr.prototype.credential=function(o,u){var f;if(T(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new P("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ji(this.providerId,f,this.providerId)};function Bs(){gr.call(this,"facebook.com")}H(Bs,gr),ve(Bs,"PROVIDER_ID","facebook.com"),ve(Bs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function _A(o){if(!o)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Bs().credential({accessToken:u})}function Hs(){gr.call(this,"github.com")}H(Hs,gr),ve(Hs,"PROVIDER_ID","github.com"),ve(Hs,"GITHUB_SIGN_IN_METHOD","github.com");function bA(o){if(!o)throw new P("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Hs().credential({accessToken:u})}function Ws(){gr.call(this,"google.com"),this.Ca("profile")}H(Ws,gr),ve(Ws,"PROVIDER_ID","google.com"),ve(Ws,"GOOGLE_SIGN_IN_METHOD","google.com");function wA(o,u){var f=o;return T(o)&&(f=o.idToken,u=o.accessToken),new Ws().credential({idToken:f,accessToken:u})}function vu(){$s.call(this,"twitter.com",lA)}H(vu,$s),ve(vu,"PROVIDER_ID","twitter.com"),ve(vu,"TWITTER_SIGN_IN_METHOD","twitter.com");function EA(o,u){var f=o;if(T(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new P("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ji("twitter.com",f,"twitter.com")}function Do(o,u,f){this.a=o,this.f=u,ve(this,"providerId","password"),ve(this,"signInMethod",f===Lr.EMAIL_LINK_SIGN_IN_METHOD?Lr.EMAIL_LINK_SIGN_IN_METHOD:Lr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Do.prototype.ka=function(o){return this.signInMethod==Lr.EMAIL_LINK_SIGN_IN_METHOD?Ge(o,AB,{email:this.a,oobCode:this.f}):Ge(o,QA,{email:this.a,password:this.f})},Do.prototype.b=function(o,u){return this.signInMethod==Lr.EMAIL_LINK_SIGN_IN_METHOD?Ge(o,CB,{idToken:u,email:this.a,oobCode:this.f}):Ge(o,zA,{idToken:u,email:this.a,password:this.f})},Do.prototype.c=function(o,u){return pu(this.ka(o),u)},Do.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function H$(o){return o&&o.email&&o.password?new Do(o.email,o.password,o.signInMethod):null}function Lr(){Fn(this,{providerId:"password",isOAuthProvider:!1})}function TA(o,u){if(u=yy(u),!u)throw new P("argument-error","Invalid email link!");return new Do(o,u.code,Lr.EMAIL_LINK_SIGN_IN_METHOD)}function yy(o){return o=gA(o),(o=tA(o))&&o.operation===sd?o:null}Fn(Lr,{PROVIDER_ID:"password"}),Fn(Lr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Fn(Lr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Po(o){if(!(o.fb&&o.eb||o.La&&o.ea))throw new P("internal-error");this.a=o,ve(this,"providerId","phone"),this.fa="phone",ve(this,"signInMethod","phone")}Po.prototype.ka=function(o){return o.gb(Tl(this))},Po.prototype.b=function(o,u){var f=Tl(this);return f.idToken=u,Ge(o,KB,f)},Po.prototype.c=function(o,u){var f=Tl(this);return f.operation="REAUTH",o=Ge(o,YB,f),pu(o,u)},Po.prototype.w=function(){var o={providerId:"phone"};return this.a.fb&&(o.verificationId=this.a.fb),this.a.eb&&(o.verificationCode=this.a.eb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function W$(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return ee(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new Po(u)}return null}function Tl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.fb,code:o.a.eb}}function Zi(o){try{this.a=o||Ce.auth()}catch{throw new P("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Fn(this,{providerId:"phone",isOAuthProvider:!1})}Zi.prototype.gb=function(o,u){var f=this.a.a;return Ee(u.verify()).then(function(p){if(typeof p!="string")throw new P("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=T(o)?o.session:null,_=T(o)?o.phoneNumber:o,w;return g&&g.type==El?w=g.Ha().then(function(k){return gB(f,{idToken:k,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):g&&g.type==dd?w=g.Ha().then(function(k){return yB(f,{mfaPendingCredential:k,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):w=mB(f,{phoneNumber:_,recaptchaToken:p}),w.then(function(k){return typeof u.reset=="function"&&u.reset(),k},function(k){throw typeof u.reset=="function"&&u.reset(),k});default:throw new P("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function IA(o,u){if(!o)throw new P("missing-verification-id");if(!u)throw new P("missing-verification-code");return new Po({fb:o,eb:u})}Fn(Zi,{PROVIDER_ID:"phone"}),Fn(Zi,{PHONE_SIGN_IN_METHOD:"phone"});function _y(o){if(o.temporaryProof&&o.phoneNumber)return new Po({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,g=o&&o.nonce,_=o&&o.oauthIdToken,w=o&&o.pendingToken;try{switch(u){case"google.com":return wA(_,f);case"facebook.com":return _A(f);case"github.com":return bA(f);case"twitter.com":return EA(f,p);default:return f||p||_||w?w?u.indexOf("saml.")==0?new js(u,w):new Ji(u,{pendingToken:w,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new gr(u).credential({idToken:_,accessToken:f,rawNonce:g}):null}}catch{return null}}function by(o){if(!o.isOAuthProvider)throw new P("invalid-oauth-provider")}function Jr(o,u,f,p,g,_,w){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new P("invalid-auth-event");if(this.g&&!this.f)throw new P("invalid-auth-event")}else throw new P("invalid-auth-event")}Jr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Jr.prototype.T=function(){return this.h},Jr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function SA(o){return o=o||{},o.type?new Jr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&De(o.error),o.postBody,o.tenantId):null}function q$(){this.b=null,this.a=[]}var wy=null;function G$(o){var u=wy;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=Ct("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function Ey(o){var u="unauthorized-domain",f=void 0,p=er(o);o=p.a,p=p.c,p=="chrome-extension"?f=zI("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=zI("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",P.call(this,u,f)}H(Ey,P);function Il(o,u,f){P.call(this,o,f),o=u||{},o.Kb&&ve(this,"email",o.Kb),o.ea&&ve(this,"phoneNumber",o.ea),o.credential&&ve(this,"credential",o.credential),o.$b&&ve(this,"tenantId",o.$b)}H(Il,P),Il.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Tt(o,u),o},Il.prototype.toJSON=function(){return this.w()};function pd(o){if(o.code){var u=o.code||"";u.indexOf(ge)==0&&(u=u.substring(ge.length));var f={credential:_y(o),$b:o.tenantId};if(o.email)f.Kb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new P(u,o.message||void 0);return new Il(u,f,o.message)}return null}function Sl(){}Sl.prototype.c=null;function AA(o){return o.c||(o.c=o.b())}var Ty;function vd(){}H(vd,Sl),vd.prototype.a=function(){var o=CA(this);return o?new ActiveXObject(o):new XMLHttpRequest},vd.prototype.b=function(){var o={};return CA(this)&&(o[0]=!0,o[1]=!0),o};function CA(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Ty=new vd;function md(){}H(md,Sl),md.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new NA;throw Error("Unsupported browser")},md.prototype.b=function(){return{}};function NA(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=R(this.qc,this),this.a.onerror=R(this.Tb,this),this.a.onprogress=R(this.rc,this),this.a.ontimeout=R(this.vc,this)}e=NA.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Iy(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Iy(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Iy(this,1)};function Iy(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Sy(o,u,f){this.reset(o,u,f,void 0,void 0)}Sy.prototype.a=null,Sy.prototype.reset=function(o,u,f,p,g){delete this.a};function Ay(o){this.f=o,this.b=this.c=this.a=null}function Al(o,u){this.name=o,this.value=u}Al.prototype.toString=function(){return this.name};var OA=new Al("SEVERE",1e3),Cy=new Al("WARNING",900),K$=new Al("CONFIG",700),Y$=new Al("FINE",500);function RA(o){return o.c?o.c:o.a?RA(o.a):(yt("Root logger has no level set."),null)}Ay.prototype.log=function(o,u,f){if(o.value>=RA(this).value)for(E(u)&&(u=u()),o=new Sy(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var Ny={},gd=null;function Oy(o){gd||(gd=new Ay(""),Ny[""]=gd,gd.c=K$);var u;if(!(u=Ny[o])){u=new Ay(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=Oy(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,Ny[o]=u}return u}function xr(o,u){o&&o.log(Y$,u,void 0)}function yd(o){this.f=o}H(yd,Sl),yd.prototype.a=function(){return new _d(this.f)},yd.prototype.b=function(o){return function(){return o}}({});function _d(o){Mn.call(this),this.u=o,this.h=void 0,this.readyState=Ry,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Oy("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}H(_d,Mn);var Ry=0;e=_d.prototype,e.open=function(o,u){if(this.readyState!=Ry)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Nl(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Cl(this)),this.readyState=Ry},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Nl(this)),this.a&&(this.readyState=3,Nl(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof l.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,kA(this)):o.text().then(this.tc.bind(this),this.Va.bind(this)))))};function kA(o){o.c.read().then(o.pc.bind(o)).catch(o.Va.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?Cl(this):Nl(this),this.readyState==3&&kA(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,Cl(this))},e.sc=function(o){this.a&&(this.response=o,Cl(this))},e.Va=function(o){var u=this.i;u&&u.log(Cy,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&Cl(this)};function Cl(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Nl(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Cy,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Cy,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Nl(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(_d.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Ol(o){Mn.call(this),this.headers=new au,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=DA,this.u=this.S=!1}H(Ol,Mn);var DA="";Ol.prototype.b=Oy("goog.net.XhrIo");var z$=/^https?$/i,Q$=["POST","PUT"];function X$(o,u,f,p,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.P=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Ty.a(),o.C=o.D?AA(o.D):AA(Ty),o.a.onreadystatechange=R(o.Wb,o);try{xr(o.b,eo(o,"Opening Xhr")),o.N=!0,o.a.open(f,String(u),!0),o.N=!1}catch(w){xr(o.b,eo(o,"Error opening Xhr: "+w.message)),PA(o,w);return}u=p||"";var _=new au(o.headers);g&&r$(g,function(w,k){_.set(k,w)}),g=O(_.Y()),p=l.FormData&&u instanceof l.FormData,!I(Q$,f)||g||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(w,k){this.a.setRequestHeader(k,w)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{MA(o),0<o.g&&(o.u=J$(o.a),xr(o.b,eo(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=R(o.Ma,o)):o.s=Hg(o.Ma,o.g,o)),xr(o.b,eo(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(w){xr(o.b,eo(o,"Send error: "+w.message)),PA(o,w)}}function J$(o){return Qr&&ZI(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function Z$(o){return o.toLowerCase()=="content-type"}e=Ol.prototype,e.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",xr(this.b,eo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function PA(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,LA(o),bd(o)}function LA(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(xr(this.b,eo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),bd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),bd(this,!0)),Ol.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?xA(this):this.Jc())},e.Jc=function(){xA(this)};function xA(o){if(o.c&&typeof c<"u"){if(o.C[1]&&Rl(o)==4&&wd(o)==2)xr(o.b,eo(o,"Local request error detected and ignored"));else if(o.i&&Rl(o)==4)Hg(o.Wb,0,o);else if(o.dispatchEvent("readystatechange"),Rl(o)==4){xr(o.b,eo(o,"Request complete")),o.c=!1;try{var u=wd(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var g;if(g=u===0){var _=String(o.l).match(NS)[1]||null;if(!_&&l.self&&l.self.location){var w=l.self.location.protocol;_=w.substr(0,w.length-1)}g=!z$.test(_?_.toLowerCase():"")}p=g}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var k=2<Rl(o)?o.a.statusText:""}catch(G){xr(o.b,"Can not get status: "+G.message),k=""}o.h=k+" ["+wd(o)+"]",LA(o)}}finally{bd(o)}}}}function bd(o,u){if(o.a){MA(o);var f=o.a,p=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(g){(o=o.b)&&o.log(OA,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function MA(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function Rl(o){return o.a?o.a.readyState:0}function wd(o){try{return 2<Rl(o)?o.a.status:-1}catch{return-1}}function eB(o){try{return o.a?o.a.responseText:""}catch(u){return xr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case DA:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(OA,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return xr(this.b,"Can not get response: "+u.message),null}};function eo(o,u){return u+" ["+o.P+" "+o.l+" "+wd(o)+"]"}function qs(o){var u=rB;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}qs.prototype.cancel=function(o){if(this.a)this.c instanceof qs&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Dl,Ed(this),kl(this,!1,o))}},qs.prototype.m=function(o,u){this.i=!1,kl(this,o,u)};function kl(o,u,f){o.a=!0,o.c=f,o.f=!u,UA(o)}function Ed(o){if(o.a){if(!o.v)throw new Td;o.v=!1}}function tB(o,u){ky(o,null,u,void 0)}function ky(o,u,f,p){o.g.push([u,f,p]),o.a&&UA(o)}qs.prototype.then=function(o,u,f){var p,g,_=new qe(function(w,k){p=w,g=k});return ky(this,p,function(w){w instanceof Dl?_.cancel():g(w)}),_.then(o,u,f)},qs.prototype.$goog_Thenable=!0;function FA(o){return Qe(o.g,function(u){return E(u[1])})}function UA(o){if(o.h&&o.a&&FA(o)){var u=o.h,f=Id[u];f&&(l.clearTimeout(f.a),delete Id[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),_=g[0],w=g[1];if(g=g[2],_=o.f?w:_)try{var k=_.call(g||o.s,u);k!==void 0&&(o.f=o.f&&(k==u||k instanceof Error),o.c=u=k),(Ae(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(p=!0,o.i=!0)}catch(G){u=G,o.f=!0,FA(o)||(f=!0)}}o.c=u,p&&(k=R(o.m,o,!0),p=R(o.m,o,!1),u instanceof qs?(ky(u,k,p),u.C=!0):u.then(k,p)),f&&(u=new VA(u),Id[u.a]=u,o.h=u.a)}function Td(){we.call(this)}H(Td,we),Td.prototype.message="Deferred has already fired",Td.prototype.name="AlreadyCalledError";function Dl(){we.call(this)}H(Dl,we),Dl.prototype.message="Deferred was canceled",Dl.prototype.name="CanceledError";function VA(o){this.a=l.setTimeout(R(this.c,this),0),this.b=o}VA.prototype.c=function(){throw delete Id[this.a],this.b};var Id={};function Dy(o){var u={},f=u.document||document,p=$I(o).toString(),g=zh(document,"SCRIPT"),_={Xb:g,Ma:void 0},w=new qs(_),k=null,G=u.timeout!=null?u.timeout:5e3;return 0<G&&(k=window.setTimeout(function(){Sd(g,!0);var Z=new Py(oB,"Timeout reached for loading script "+p);Ed(w),kl(w,!1,Z)},G),_.Ma=k),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(Sd(g,u.xd||!1,k),Ed(w),kl(w,!0,null))},g.onerror=function(){Sd(g,!0,k);var Z=new Py(iB,"Error while loading script "+p);Ed(w),kl(w,!1,Z)},_=u.attributes||{},Tt(_,{type:"text/javascript",charset:"UTF-8"}),tS(g,_),Lj(g,o),nB(f).appendChild(g),w}function nB(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function rB(){if(this&&this.Xb){var o=this.Xb;o&&o.tagName=="SCRIPT"&&Sd(o,!0,this.Ma)}}function Sd(o,u,f){f!=null&&l.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var iB=0,oB=1;function Py(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),we.call(this,f),this.code=o}H(Py,we);function Ad(o){this.f=o}H(Ad,Sl),Ad.prototype.a=function(){return new this.f},Ad.prototype.b=function(){return{}};function Zr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||sB,this.g=zr(o.secureTokenHeaders||aB),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||uB,this.a=zr(o.firebaseHeaders||cB),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Ti()=="Node",f=l.XMLHttpRequest||f&&Ce.INTERNAL.node&&Ce.INTERNAL.node.XMLHttpRequest,!f&&!Xr())throw new P("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Xr()?this.f=new yd(self):jS()?this.f=new Ad(f):this.f=new md,this.b=null}var Ly,ei="idToken",sB=new ko(3e4,6e4),aB={"Content-Type":"application/x-www-form-urlencoded"},uB=new ko(3e4,6e4),cB={"Content-Type":"application/json"};function jA(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function Cd(o,u){u&&(o.l=xy("https://securetoken.googleapis.com/v1/token",u),o.h=xy("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=xy("https://identitytoolkit.googleapis.com/v2/",u))}function xy(o,u){return o=er(o),u=er(u.url),o.f=o.a+o.f,fl(o,u.c),o.a=u.a,hl(o,u.g),o.toString()}function $A(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Zr.prototype.T=function(){return this.b};function BA(o,u,f,p,g,_,w){d$()||Xr()?o=R(o.u,o):(Ly||(Ly=new qe(function(k,G){fB(k,G)})),o=R(o.s,o)),o(u,f,p,g,_,w)}Zr.prototype.u=function(o,u,f,p,g,_){if(Xr()&&(typeof l.fetch>"u"||typeof l.Headers>"u"||typeof l.Request>"u"))throw new P("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Ol(this.f);if(_){w.g=Math.max(0,_);var k=setTimeout(function(){w.dispatchEvent("timeout")},_)}SS(w,"complete",function(){k&&clearTimeout(k);var G=null;try{G=JSON.parse(eB(this))||null}catch{G=null}u&&u(G)}),Bg(w,"ready",function(){k&&clearTimeout(k),yS(this)}),Bg(w,"timeout",function(){k&&clearTimeout(k),yS(this),u&&u(null)}),X$(w,o,f,p,g)};var lB=new wi(qh,"https://apis.google.com/js/client.js?onload=%{onload}"),HA="__fcb"+Math.floor(1e6*Math.random()).toString();function fB(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[HA]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Ig(lB,{onload:HA});tB(Dy(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Zr.prototype.s=function(o,u,f,p,g){var _=this;Ly.then(function(){window.gapi.client.setApiKey(_.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:g,authType:"none",callback:function(k){window.gapi.auth.setToken(w),u&&u(k)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function hB(o,u){return new qe(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?BA(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?p(Hy(g)):g.access_token&&g.refresh_token?f(g):p(new P("internal-error")):p(new P("network-request-failed"))},"POST",RS(u).toString(),o.g,o.m.get()):p(new P("internal-error"))})}function WA(o,u,f,p,g,_,w){var k=er(u+f);jt(k,"key",o.c),w&&jt(k,"cb",Date.now().toString());var G=p=="GET";if(G)for(var Z in g)g.hasOwnProperty(Z)&&jt(k,Z,g[Z]);return new qe(function(ke,ft){BA(o,k.toString(),function(et){et?et.error?ft(Hy(et,_||{})):ke(et):ft(new P("network-request-failed"))},p,G?void 0:PS(HS(g)),o.a,o.v.get())})}function Gs(o){if(o=o.email,typeof o!="string"||!m$.test(o))throw new P("invalid-email")}function qA(o){"email"in o&&Gs(o)}function dB(o,u){return Ge(o,TB,{identifier:u,continueUri:od()?vl():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function pB(o){return Ge(o,xB,{}).then(function(u){return u.authorizedDomains||[]})}function tr(o){if(!o[ei])throw o.mfaPendingCredential?new P("multi-factor-auth-required",null,zr(o)):new P("internal-error")}function My(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new P("internal-error")}else{if(!o.sessionInfo)throw new P("missing-verification-id");if(!o.code)throw new P("missing-verification-code")}}Zr.prototype.Ab=function(){return Ge(this,VB,{})},Zr.prototype.Cb=function(o,u){return Ge(this,YA,{idToken:o,email:u})},Zr.prototype.Db=function(o,u){return Ge(this,zA,{idToken:o,password:u})};var vB={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Zr.prototype,e.Eb=function(o,u){var f={idToken:o},p=[];return ks(vB,function(g,_){var w=u[_];w===null?p.push(g):_ in u&&(f[_]=w)}),p.length&&(f.deleteAttribute=p),Ge(this,YA,f)},e.wb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Tt(o,u),Ge(this,LB,o)},e.xb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Tt(o,u),Ge(this,kB,o)},e.vb=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Tt(o,u),Ge(this,DB,o)},e.Fb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Tt(o,f),Ge(this,PB,o)};function mB(o,u){return Ge(o,UB,u)}e.gb=function(o){return Ge(this,GB,o)};function gB(o,u){return Ge(o,jB,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function GA(o){if(!o.phoneVerificationInfo)throw new P("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new P("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new P("missing-verification-code")}function yB(o,u){return Ge(o,$B,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function _B(o,u,f){return Ge(o,SB,{idToken:u,deleteProvider:f})}function Fy(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new P("internal-error")}function Uy(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Ms(o.postBody),Gg(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function KA(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=pd(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=pd(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=pd(o)):o.errorMessage&&(u=XA(o.errorMessage)),u)throw u;tr(o)}function Vy(o,u){return u.returnIdpCredential=!0,Ge(o,BB,u)}function jy(o,u){return u.returnIdpCredential=!0,Ge(o,WB,u)}function $y(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ge(o,HB,u)}function By(o){if(!o.oobCode)throw new P("invalid-action-code")}e.ob=function(o,u){return Ge(this,FB,{oobCode:o,newPassword:u})},e.Sa=function(o){return Ge(this,wB,{oobCode:o})},e.kb=function(o){return Ge(this,bB,{oobCode:o})};var bB={endpoint:"setAccountInfo",A:By,Z:"email",B:!0},wB={endpoint:"resetPassword",A:By,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new P("internal-error")},B:!0},EB={endpoint:"signupNewUser",A:function(o){if(Gs(o),!o.password)throw new P("weak-password")},G:tr,V:!0,B:!0},TB={endpoint:"createAuthUri",B:!0},IB={endpoint:"deleteAccount",O:["idToken"]},SB={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new P("internal-error")}},AB={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Gs,G:tr,V:!0,B:!0},CB={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Gs,G:tr,V:!0},NB={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:GA,G:tr,B:!0,Na:!0},OB={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:GA,G:tr,B:!0,Na:!0},RB={endpoint:"getAccountInfo"},kB={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new P("internal-error");Gs(o)},Z:"email",B:!0},DB={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new P("internal-error")},Z:"email",B:!0},PB={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new P("internal-error")},Z:"email",B:!0},LB={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new P("internal-error");Gs(o)},Z:"email",B:!0},xB={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},MB={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new P("internal-error")}},FB={endpoint:"resetPassword",A:By,Z:"email",B:!0},UB={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},YA={endpoint:"setAccountInfo",O:["idToken"],A:qA,V:!0},zA={endpoint:"setAccountInfo",O:["idToken"],A:function(o){if(qA(o),!o.password)throw new P("weak-password")},G:tr,V:!0},VB={endpoint:"signupNewUser",G:tr,V:!0,B:!0},jB={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new P("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new P("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},$B={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new P("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new P("internal-error")},B:!0,Na:!0},BB={endpoint:"verifyAssertion",A:Fy,Za:Uy,G:KA,V:!0,B:!0},HB={endpoint:"verifyAssertion",A:Fy,Za:Uy,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new P("user-not-found");if(o.errorMessage)throw XA(o.errorMessage);tr(o)},V:!0,B:!0},WB={endpoint:"verifyAssertion",A:function(o){if(Fy(o),!o.idToken)throw new P("internal-error")},Za:Uy,G:KA,V:!0},qB={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new P("invalid-custom-token")},G:tr,V:!0,B:!0},QA={endpoint:"verifyPassword",A:function(o){if(Gs(o),!o.password)throw new P("wrong-password")},G:tr,V:!0,B:!0},GB={endpoint:"verifyPhoneNumber",A:My,G:tr,B:!0},KB={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new P("internal-error");My(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",pd(o);tr(o)}},YB={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:My,G:tr,B:!0},zB={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[ei]^!!o.refreshToken)throw new P("internal-error")},B:!0,Na:!0};function Ge(o,u,f){if(!T$(f,u.O))return At(new P("internal-error"));var p=!!u.Na,g=u.Vb||"POST",_;return Ee(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?WA(o,o.i,u.endpoint,g,f,u.Ib,u.mb||!1):WA(o,o.h,u.endpoint,g,f,u.Ib,u.mb||!1)}).then(function(w){return _=w,u.Za?u.Za(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new P("internal-error");return _[u.Z]})}function XA(o){return Hy({error:{errors:[{message:o}],code:400,message:o}})}function Hy(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new P(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Tt(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in p)if(f.indexOf(g)===0)return new P(p[g],u);return!u&&o&&(u=gl(o)),new P("internal-error",u)}function QB(o){this.b=o,this.a=null,this.sb=XB(this)}function XB(o){return rH().then(function(){return new qe(function(u,f){Ct("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Ct("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function g(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},nH.get());p.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function JB(o,u){return o.sb.then(function(){return new qe(function(f){o.a.send(u.type,u,f,Ct("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function ZB(o,u){o.sb.then(function(){o.a.register("authEvent",u,Ct("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var eH=new wi(qh,"https://apis.google.com/js/api.js?onload=%{onload}"),tH=new ko(3e4,6e4),nH=new ko(5e3,15e3),Nd=null;function rH(){return Nd||(Nd=new qe(function(o,u){function f(){qS(),Ct("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){qS(),u(Error("Network Error"))},timeout:tH.get()})}if(Ct("gapi.iframes.Iframe"))o();else if(Ct("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[p]=function(){Ct("gapi.load")?f():u(Error("Network Error"))},p=Ig(eH,{onload:p}),Ee(Dy(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Nd=null,o}))}function JA(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=er(this.g.url),o=rd(o.c,o.a,o.g,"/emulator/auth/iframe")):o=rd("https",this.l,null,"/__/auth/iframe"),this.a=o,jt(this.a,"apiKey",this.h),jt(this.a,"appName",this.i),this.b=null,this.c=[]}JA.prototype.toString=function(){return this.f?jt(this.a,"v",this.f):Ei(this.a.b,"v"),this.b?jt(this.a,"eid",this.b):Ei(this.a.b,"eid"),this.c.length?jt(this.a,"fw",this.c.join(",")):Ei(this.a.b,"fw"),this.a.toString()};function Wy(o,u,f,p,g,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}Wy.prototype.zb=function(o){return this.h=o,this},Wy.prototype.toString=function(){if(this.v){var o=er(this.v.url);o=rd(o.c,o.a,o.g,"/emulator/auth/handler")}else o=rd("https",this.u,null,"/__/auth/handler");if(jt(o,"apiKey",this.s),jt(o,"appName",this.c),jt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=Ce.app(this.c).auth().la()}catch{f=null}u.pb=f,jt(o,"providerId",this.a.providerId),f=this.a,u=HS(f.Jb);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=zr(u);for(var g=0;g<p.length;g++){var _=p[g];_ in u&&delete u[_]}f.qb&&f.pb&&!u[f.qb]&&(u[f.qb]=f.pb),Xn(u)||jt(o,"customParameters",gl(u))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&jt(o,"scopes",f.join(","))),this.l?jt(o,"redirectUrl",this.l):Ei(o.b,"redirectUrl"),this.g?jt(o,"eventId",this.g):Ei(o.b,"eventId"),this.i?jt(o,"v",this.i):Ei(o.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Pr(o,w)&&jt(o,w,this.b[w]);return this.h?jt(o,"tid",this.h):Ei(o.b,"tid"),this.f?jt(o,"eid",this.f):Ei(o.b,"eid"),w=qy(this.c),w.length&&jt(o,"fw",w.join(",")),o.toString()};function qy(o){try{return Ce.app(o).auth().Ga()}catch{return[]}}function ZA(o,u,f,p,g,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function eC(o){var u=vl();return pB(o).then(function(f){e:{var p=er(u),g=p.c;p=p.a;for(var _=0;_<f.length;_++){var w=f[_],k=p,G=g;if(w.indexOf("chrome-extension://")==0?k=er(w).a==k&&G=="chrome-extension":G!="http"&&G!="https"?k=!1:v$.test(w)?k=k==w:(w=w.split(".").join("\\."),k=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(k)),k){f=!0;break e}}f=!1}if(!f)throw new Ey(vl())})}function tC(o){return o.m||(o.m=id().then(function(){if(!o.u){var u=o.c,f=o.i,p=qy(o.b),g=new JA(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=X(p||[]),o.u=g.toString()}o.v=new QB(o.u),iH(o)})),o.m}e=ZA.prototype,e.Pb=function(o,u,f){var p=new P("popup-closed-by-user"),g=new P("web-storage-unsupported"),_=this,w=!1;return this.ma().then(function(){oH(_).then(function(k){k||(o&&Fs(o),u(g),w=!0)})}).o(function(){}).then(function(){if(!w)return p$(o)}).then(function(){if(!w)return su(f).then(function(){u(p)})})},e.Yb=function(){var o=dn();return!ml(o)&&!WS(o)},e.Ub=function(){return!1},e.Nb=function(o,u,f,p,g,_,w,k){if(!o)return At(new P("popup-blocked"));if(w&&!ml())return this.ma().o(function(Z){Fs(o),g(Z)}),p(),Ee();this.a||(this.a=eC(nC(this)));var G=this;return this.a.then(function(){var Z=G.ma().o(function(ke){throw Fs(o),g(ke),ke});return p(),Z}).then(function(){if(by(f),!w){var Z=Pl(G.s,G.g,G.b,u,f,null,_,G.c,void 0,G.i,k,G.f);MS(Z,o)}}).o(function(Z){throw Z.code=="auth/network-request-failed"&&(G.a=null),Z})};function nC(o){return o.l||(o.C=o.c?lu(o.c,qy(o.b)):null,o.l=new Zr(o.g,gt(o.i),o.C),o.f&&Cd(o.l,o.f)),o.l}e.Ob=function(o,u,f,p){this.a||(this.a=eC(nC(this)));var g=this;return this.a.then(function(){by(u);var _=Pl(g.s,g.g,g.b,o,u,vl(),f,g.c,void 0,g.i,p,g.f);MS(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(g.a=null),_})},e.ma=function(){var o=this;return tC(this).then(function(){return o.v.sb}).o(function(){throw o.a=null,new P("network-request-failed")})},e.ac=function(){return!0};function Pl(o,u,f,p,g,_,w,k,G,Z,ke,ft){return o=new Wy(o,u,f,p,g,ft),o.l=_,o.g=w,o.i=k,o.b=zr(G||null),o.f=Z,o.zb(ke).toString()}function iH(o){if(!o.v)throw Error("IfcHandler must be initialized!");ZB(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=SA(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",Ee(f)}return f.status="ERROR",Ee(f)})}function oH(o){var u={type:"webStorageSupport"};return tC(o).then(function(){return JB(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Ta=function(o){z(this.h,function(u){return u==o})};function rC(o){if(this.a=o||Ce.INTERNAL.reactNative&&Ce.INTERNAL.reactNative.AsyncStorage,!this.a)throw new P("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=rC.prototype,e.get=function(o){return Ee(this.a.getItem(o)).then(function(u){return u&&hu(u)})},e.set=function(o,u){return Ee(this.a.setItem(o,gl(u)))},e.U=function(o){return Ee(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function iC(o){this.b=o,this.a={},this.f=R(this.c,this)}var oC=[];function sH(){var o=Xr()?self:null;if(ee(oC,function(f){f.b==o&&(u=f)}),!u){var u=new iC(o);oC.push(u)}return u}iC.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];ee(p,function(_){g.push(Ee().then(function(){return _(o.origin,o.data.data)}))}),cS(g).then(function(_){var w=[];ee(_,function(k){w.push({fulfilled:k.Qb,value:k.value,reason:k.reason?k.reason.message:void 0})}),ee(w,function(k){for(var G in k)typeof k[G]>"u"&&delete k[G]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:w})})}};function sC(o,u,f){Xn(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function aC(o){this.a=o}aC.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function uC(o){this.c=o,this.b=!1,this.a=[]}function cC(o,u,f,p){var g,_=f||{},w,k,G,Z=null;if(o.b)return At(Error("connection_unavailable"));var ke=p?800:50,ft=typeof MessageChannel<"u"?new MessageChannel:null;return new qe(function(et,an){ft?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),ft.port1.start(),k=setTimeout(function(){an(Error("unsupported_event"))},ke),w=function(to){to.data.eventId===g&&(to.data.status==="ack"?(clearTimeout(k),G=setTimeout(function(){an(Error("timeout"))},3e3)):to.data.status==="done"?(clearTimeout(G),typeof to.data.response<"u"?et(to.data.response):an(Error("unknown_error"))):(clearTimeout(k),clearTimeout(G),an(Error("invalid_response"))))},Z={messageChannel:ft,onMessage:w},o.a.push(Z),ft.port1.addEventListener("message",w),o.c.postMessage({eventType:u,eventId:g,data:_},[ft.port2])):an(Error("connection_unavailable"))}).then(function(et){return Gy(o,Z),et}).o(function(et){throw Gy(o,Z),et})}function Gy(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),z(o.a,function(g){return g==u})}}uC.prototype.close=function(){for(;0<this.a.length;)Gy(this,this.a[0]);this.b=!0};function lC(){if(!zy())throw new P("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Xr()&&self?(this.v=sH(),sC(this.v,"keyChanged",function(u,f){return dC(o).then(function(p){return 0<p.length&&ee(o.a,function(g){g(p)}),{keyProcessed:I(p,f.key)}})}),sC(this.v,"ping",function(){return Ee(["keyChanged"])})):w$().then(function(u){(o.h=u)&&(o.g=new uC(new aC(u)),cC(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&I(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var Ky;function aH(o){return new qe(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(g){f(Error(g.target.error))}})}function fC(o){return new qe(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},p.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):aH(o).then(function(){return fC(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function Yy(o){return o.i||(o.i=fC(o)),o.i}function Od(o,u){function f(g,_){Yy(o).then(u).then(g).o(function(w){if(3<++p)_(w);else return Yy(o).then(function(k){return k.close(),o.i=void 0,f(g,_)}).o(function(k){_(k)})})}var p=0;return new qe(f)}function zy(){try{return!!l.indexedDB}catch{return!1}}function Ll(o){return o.objectStore("firebaseLocalStorage")}function xl(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function mu(o){return new qe(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}e=lC.prototype,e.set=function(o,u){var f=this,p=!1;return Od(this,function(g){return g=Ll(xl(g,!0)),mu(g.get(o))}).then(function(g){return Od(f,function(_){if(_=Ll(xl(_,!0)),g)return g.value=u,mu(_.put(g));f.b++,p=!0;var w={};return w.fbase_key=o,w.value=u,mu(_.add(w))})}).then(function(){return f.c[o]=u,hC(f,o)}).oa(function(){p&&f.b--})};function hC(o,u){return o.g&&o.h&&b$()===o.h?cC(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):Ee()}e.get=function(o){return Od(this,function(u){return mu(Ll(xl(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return Od(this,function(p){return f=!0,u.b++,mu(Ll(xl(p,!0)).delete(o))}).then(function(){return delete u.c[o],hC(u,o)}).oa(function(){f&&u.b--})};function dC(o){return Yy(o).then(function(u){var f=Ll(xl(u,!1));return f.getAll?mu(f.getAll()):new qe(function(p,g){var _=[],w=f.openCursor();w.onsuccess=function(k){(k=k.target.result)?(_.push(k.value),k.continue()):p(_)},w.onerror=function(k){g(k.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=FS(o.c,f),o.c=f}return p})}e.ca=function(o){this.a.length==0&&uH(this),this.a.push(o)},e.ia=function(o){z(this.a,function(u){return u==o}),this.a.length==0&&pC(this)};function uH(o){function u(){o.f=setTimeout(function(){o.l=dC(o).then(function(f){0<f.length&&ee(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}pC(o),u()}function pC(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function vC(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=Ee().then(function(){if(zy()){var p=Vs(),g="__sak"+p;return Ky||(Ky=new lC),f=Ky,f.set(g,p).then(function(){return f.get(g)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(g){ee(u.a,function(_){_(g)})}),p})}e=vC.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){z(this.a,function(u){return u==o})};function Ml(){this.a={},this.type="inMemory"}e=Ml.prototype,e.get=function(o){return Ee(this.a[o])},e.set=function(o,u){return this.a[o]=u,Ee()},e.U=function(o){return delete this.a[o],Ee()},e.ca=function(){},e.ia=function(){};function Rd(){if(!cH())throw Ti()=="Node"?new P("internal-error","The LocalStorage compatibility library was not found."):new P("web-storage-unsupported");this.a=mC()||Ce.INTERNAL.node.localStorage,this.type="localStorage"}function mC(){try{var o=l.localStorage,u=Vs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function cH(){var o=Ti()=="Node";if(o=mC()||o&&Ce.INTERNAL.node&&Ce.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Rd.prototype,e.get=function(o){var u=this;return Ee().then(function(){var f=u.a.getItem(o);return hu(f)})},e.set=function(o,u){var f=this;return Ee().then(function(){var p=gl(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return Ee().then(function(){u.a.removeItem(o)})},e.ca=function(o){l.window&&Dr(l.window,"storage",o)},e.ia=function(o){l.window&&mr(l.window,"storage",o)};function Qy(){this.type="nullStorage"}e=Qy.prototype,e.get=function(){return Ee(null)},e.set=function(){return Ee()},e.U=function(){return Ee()},e.ca=function(){},e.ia=function(){};function Xy(){if(!lH())throw Ti()=="Node"?new P("internal-error","The SessionStorage compatibility library was not found."):new P("web-storage-unsupported");this.a=gC()||Ce.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function gC(){try{var o=l.sessionStorage,u=Vs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function lH(){var o=Ti()=="Node";if(o=gC()||o&&Ce.INTERNAL.node&&Ce.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Xy.prototype,e.get=function(o){var u=this;return Ee().then(function(){var f=u.a.getItem(o);return hu(f)})},e.set=function(o,u){var f=this;return Ee().then(function(){var p=gl(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return Ee().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function fH(){var o={};o.Browser=hH,o.Node=dH,o.ReactNative=pH,o.Worker=vH,this.a=o[Ti()]}var Jy,hH={F:Rd,cb:Xy},dH={F:Rd,cb:Xy},pH={F:rC,cb:Qy},vH={F:Rd,cb:Qy},gu={rd:"local",NONE:"none",td:"session"};function mH(o){var u=new P("invalid-persistence-type"),f=new P("unsupported-persistence-type");e:{for(p in gu)if(gu[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(Ti()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!zy()&&o!=="none")throw f;break;default:if(!Jg()&&o!=="none")throw f}}function yC(){var o=!!(!WS(dn())&&Qg()),u=ml(),f=Jg();this.m=o,this.h=u,this.l=f,this.a={},Jy||(Jy=new fH),o=Jy;try{this.g=!Yg()&&GS()||!l.indexedDB?new o.a.F:new vC(Xr()?new Ml:new o.a.F)}catch{this.g=new Ml,this.h=!0}try{this.i=new o.a.cb}catch{this.i=new Ml}this.v=new Ml,this.f=R(this.Zb,this),this.b={}}var Zy;function Fl(){return Zy||(Zy=new yC),Zy}function Ks(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function yu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function gH(o,u,f){var p=yu(u,f),g=Ks(o,u.F);return o.get(u,f).then(function(_){var w=null;try{w=hu(l.localStorage.getItem(p))}catch{}if(w&&!_)return l.localStorage.removeItem(p),o.set(u,w,f);w&&_&&g.type!="localStorage"&&l.localStorage.removeItem(p)})}e=yC.prototype,e.get=function(o,u){return Ks(this,o.F).get(yu(o,u))};function _u(o,u,f){return f=yu(u,f),u.F=="local"&&(o.b[f]=null),Ks(o,u.F).U(f)}e.set=function(o,u,f){var p=yu(o,f),g=this,_=Ks(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(w){o.F=="local"&&(g.b[p]=w)})},e.addListener=function(o,u,f){o=yu(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),Xn(this.a)&&(Ks(this,"local").ca(this.f),this.h||(Yg()||!GS())&&l.indexedDB||!this.l||yH(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=yu(o,u),this.a[o]&&(z(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),Xn(this.a)&&(Ks(this,"local").ia(this.f),e_(this))};function yH(o){e_(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new Ls({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Zb(f))}},1e3)}function e_(o){o.c&&(clearInterval(o.c),o.c=null)}e.Zb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var g=l.localStorage.getItem(f);g!==p&&(this.b[f]=g,this.nb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ks(this,"local").ia(this.f):e_(this),this.m){if(f=l.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?l.localStorage.setItem(u,p):l.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==l.localStorage.getItem(u))&&(_.b[u]=l.localStorage.getItem(u),_.nb(u))},Qr&&No&&No==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else ee(o,R(this.nb,this))},e.nb=function(o){this.a[o]&&ee(this.a[o],function(u){u()})};function _H(o){this.a=o,this.b=Fl()}var t_={name:"authEvent",F:"local"};function bH(o){return o.b.get(t_,o.a).then(function(u){return SA(u)})}function wH(){this.a=Fl()}function EH(){this.b=-1}function kd(o,u){this.b=_C,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),Dd===void 0&&(l.Int32Array?Dd=new Int32Array(EC):Dd=EC),this.reset()}var Dd;H(kd,EH);for(var _C=64,TH=_C-1,bC=[],n_=0;n_<TH;n_++)bC[n_]=0;var wC=q(128,bC);kd.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):X(this.h)};function r_(o){for(var u=o.f,f=o.l,p=0,g=0;g<u.length;)f[p++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*p;for(u=16;64>u;u++){g=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+w|0}p=o.a[0]|0,g=o.a[1]|0;var k=o.a[2]|0,G=o.a[3]|0,Z=o.a[4]|0,ke=o.a[5]|0,ft=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var et=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&g^p&k^g&k)|0;w=Z&ke^~Z&ft,_=_+((Z>>>6|Z<<26)^(Z>>>11|Z<<21)^(Z>>>25|Z<<7))|0,w=w+(Dd[u]|0)|0,w=_+(w+(f[u]|0)|0)|0,_=ft,ft=ke,ke=Z,Z=G+w|0,G=k,k=g,g=p,p=w+et|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+k|0,o.a[3]=o.a[3]+G|0,o.a[4]=o.a[4]+Z|0,o.a[5]=o.a[5]+ke|0,o.a[6]=o.a[6]+ft|0,o.a[7]=o.a[7]+_|0}function i_(o,u,f){f===void 0&&(f=u.length);var p=0,g=o.c;if(typeof u=="string")for(;p<f;)o.f[g++]=u.charCodeAt(p++),g==o.b&&(r_(o),g=0);else if(b(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[g++]=_,g==o.b&&(r_(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var EC=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function TC(){kd.call(this,8,IH)}H(TC,kd);var IH=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function IC(o,u,f,p,g,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=g||null,this.s=_,this.h=u+":"+f,this.C=new wH,this.g=new _H(this.h),this.f=null,this.b=[],this.a=this.c=null}function Pd(o){return new P("invalid-cordova-configuration",o)}e=IC.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=g$().then(function(){if(typeof Ct("universalLinks.subscribe",l)!="function")throw Pd("cordova-universal-links-plugin-fix is not installed");if(typeof Ct("BuildInfo.packageName",l)>"u")throw Pd("cordova-plugin-buildinfo is not installed");if(typeof Ct("cordova.plugins.browsertab.openUrl",l)!="function")throw Pd("cordova-plugin-browsertab is not installed");if(typeof Ct("cordova.InAppBrowser.open",l)!="function")throw Pd("cordova-plugin-inappbrowser is not installed")},function(){throw new P("cordova-not-ready")})};function SH(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function AH(o){var u=new TC;i_(u,o),o=[];var f=8*u.g;56>u.c?i_(u,wC,56-u.c):i_(u,wC,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(r_(u),p=f=0;p<u.i;p++)for(var g=24;0<=g;g-=8)o[f++]=u.a[p]>>g&255;return F$(o)}e.Pb=function(o,u){return u(new P("operation-not-supported-in-this-environment")),Ee()},e.Nb=function(){return At(new P("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(o,u,f,p){if(this.c)return At(new P("redirect-operation-pending"));var g=this,_=l.document,w=null,k=null,G=null,Z=null;return this.c=Ee().then(function(){return by(u),AC(g)}).then(function(){return CH(g,o,u,f,p)}).then(function(){return new qe(function(ke,ft){k=function(){var et=Ct("cordova.plugins.browsertab.close",l);return ke(),typeof et=="function"&&et(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(k),G=function(){w||(w=su(2e3).then(function(){ft(new P("redirect-cancelled-by-user"))}))},Z=function(){Zg()&&G()},_.addEventListener("resume",G,!1),dn().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",Z,!1)}).o(function(ke){return o_(g).then(function(){throw ke})})}).oa(function(){G&&_.removeEventListener("resume",G,!1),Z&&_.removeEventListener("visibilitychange",Z,!1),w&&w.cancel(),k&&g.Ta(k),g.c=null})};function CH(o,u,f,p,g){var _=SH(),w=new Jr(u,p,null,_,new P("no-auth-event"),null,g),k=Ct("BuildInfo.packageName",l);if(typeof k!="string")throw new P("invalid-cordova-configuration");var G=Ct("BuildInfo.displayName",l),Z={};if(dn().toLowerCase().match(/iphone|ipad|ipod/))Z.ibi=k;else if(dn().toLowerCase().match(/android/))Z.apn=k;else return At(new P("operation-not-supported-in-this-environment"));G&&(Z.appDisplayName=G),_=AH(_),Z.sessionId=_;var ke=Pl(o.v,o.i,o.l,u,f,null,p,o.m,Z,o.u,g,o.s);return o.ma().then(function(){var ft=o.h;return o.C.a.set(t_,w.w(),ft)}).then(function(){var ft=Ct("cordova.plugins.browsertab.isAvailable",l);if(typeof ft!="function")throw new P("invalid-cordova-configuration");var et=null;ft(function(an){if(an){if(et=Ct("cordova.plugins.browsertab.openUrl",l),typeof et!="function")throw new P("invalid-cordova-configuration");et(ke)}else{if(et=Ct("cordova.InAppBrowser.open",l),typeof et!="function")throw new P("invalid-cordova-configuration");an=dn(),o.a=et(ke,an.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||an.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function SC(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function AC(o){return o.f||(o.f=o.ma().then(function(){return new qe(function(u){function f(p){return u(p),o.Ta(f),!1}o.Ea(f),NH(o)})})),o.f}function o_(o){var u=null;return bH(o.g).then(function(f){return u=f,f=o.g,_u(f.b,t_,f.a)}).then(function(){return u})}function NH(o){function u(w){p=!0,g&&g.cancel(),o_(o).then(function(k){var G=f;if(k&&w&&w.url){var Z=null;G=gA(w.url),G.indexOf("/__/auth/callback")!=-1&&(Z=er(G),Z=hu(Pr(Z,"firebaseError")||null),Z=(Z=typeof Z=="object"?De(Z):null)?new Jr(k.c,k.b,null,null,Z,null,k.T()):new Jr(k.c,k.b,G,k.f,null,null,k.T())),G=Z||f}SC(o,G)})}var f=new Jr("unknown",null,null,null,new P("no-auth-event")),p=!1,g=su(500).then(function(){return o_(o).then(function(){p||SC(o,f)})}),_=l.handleOpenURL;l.handleOpenURL=function(w){if(w.toLowerCase().indexOf(Ct("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:w}),typeof _=="function")try{_(w)}catch(k){console.error(k)}},wy||(wy=new q$),G$(u)}e.Ea=function(o){this.b.push(o),AC(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Jr("unknown",null,null,null,new P("no-auth-event")),o(u))})},e.Ta=function(o){z(this.b,function(u){return u==o})};function OH(o){this.a=o,this.b=Fl()}var s_={name:"pendingRedirect",F:"session"};function RH(o){return o.b.set(s_,"pending",o.a)}function a_(o){return _u(o.b,s_,o.a)}function kH(o){return o.b.get(s_,o.a).then(function(u){return u=="pending"})}function Ld(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=R(this.s,this),this.b=new Md,this.C=new MC,this.g=new OH(PC(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=CC(this.D,this.v,this.m,Se,this.J)}function CC(o,u,f,p,g){var _=Ce.SDK_VERSION||null;return zg()?new IC(o,u,f,_,p,g):new ZA(o,u,f,_,p,g)}Ld.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=CC(this.D,this.v,this.m,null,this.J),this.i={}};function NC(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function OC(o){o.a.Yb()&&NC(o).o(function(u){var f=new Jr("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));c_(u)&&o.s(f)}),o.a.Ub()||LC(o.b)}function xd(o,u){I(o.h,u)||o.h.push(u),o.f||kH(o.g).then(function(f){f?a_(o.g).then(function(){NC(o).o(function(p){var g=new Jr("unknown",null,null,null,new P("operation-not-supported-in-this-environment"));c_(p)&&o.s(g)})}):OC(o)}).o(function(){OC(o)})}function u_(o,u){z(o.h,function(f){return f==u})}Ld.prototype.s=function(o){if(!o)throw new P("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Gb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return LC(this.b),u};var DH=new ko(2e3,1e4),PH=new ko(3e4,6e4);Ld.prototype.ra=function(){return this.b.ra()};function RC(o,u,f,p,g,_,w){return o.a.Nb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,_,w)}function c_(o){return!!(o&&o.code=="auth/cordova-not-ready")}function kC(o,u,f,p,g){var _;return RH(o.g).then(function(){return o.a.Ob(u,f,p,g).o(function(w){if(c_(w))throw new P("operation-not-supported-in-this-environment");return _=w,a_(o.g).then(function(){throw _})}).then(function(){return o.a.ac()?new qe(function(){}):a_(o.g).then(function(){return o.ra()}).then(function(){}).o(function(){})})})}function DC(o,u,f,p,g){return o.a.Pb(p,function(_){u.na(f,null,_,g)},DH.get())}var l_={};function PC(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function f_(o,u,f,p){var g=PC(u,f,p);return l_[g]||(l_[g]=new Ld(o,u,f,p)),l_[g]}function Md(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Md.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Md.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!_),f!="unknown"||g||_?o.a?(Ys(this,!0,null,o.a),Ee()):u.Fa(f,p)?LH(this,o,u):At(new P("invalid-auth-event")):(Ys(this,!1,null,null),Ee())}else At(new P("invalid-auth-event"))};function LC(o){o.g||(o.g=!0,Ys(o,!1,null,null))}function Fd(o){o.g&&!o.i&&Ys(o,!1,null,null)}function LH(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,g=u.f,_=u.i,w=u.T(),k=!!u.c.match(/Redirect$/);f(p,g,w,_).then(function(G){Ys(o,k,G,null)}).o(function(G){Ys(o,k,null,G)})}function xH(o,u){if(o.b=function(){return At(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function xC(o,u){if(o.b=function(){return Ee(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Ys(o,u,f,p){u?p?xH(o,p):xC(o,f):xC(o,{user:null}),o.f=[],o.c=[]}Md.prototype.ra=function(){var o=this;return new qe(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),MH(o))})};function MH(o){var u=new P("timeout");o.a&&o.a.cancel(),o.a=su(PH.get()).then(function(){o.b||(o.g=!0,Ys(o,!0,null,u))})}function MC(){}MC.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),Ee()):u.Fa(f,p)?FH(o,u):At(new P("invalid-auth-event"))}else At(new P("invalid-auth-event"))};function FH(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(p,g,null,f)}).o(function(g){u.na(p,null,g,f)})}function FC(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(o){this.jb=o},enumerable:!1})}function h_(o,u){this.a=u,ve(this,"verificationId",o)}h_.prototype.confirm=function(o){return o=IA(this.verificationId,o),this.a(o)};function d_(o,u,f,p){return new Zi(o).gb(u,f).then(function(g){return new h_(g,p)})}function UH(o){var u=cA(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new P("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Fn(this,{token:o,expirationTime:yl(1e3*u.exp),authTime:yl(1e3*u.auth_time),issuedAtTime:yl(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function p_(o,u,f){var p=u&&u[VC];if(!p)throw new P("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=zr(u),this.g=f,this.c=new hd(null,p),this.b=[];var g=this;ee(u[UC]||[],function(_){(_=oy(_))&&g.b.push(_)}),ve(this,"auth",this.a),ve(this,"session",this.c),ve(this,"hints",this.b)}var UC="mfaInfo",VC="mfaPendingCredential";p_.prototype.Rc=function(o){var u=this;return o.tb(this.a.a,this.c).then(function(f){var p=zr(u.f);return delete p[UC],delete p[VC],Tt(p,f),u.g(p)})};function v_(o,u,f,p){P.call(this,"multi-factor-auth-required",p,u),this.b=new p_(o,u,f),ve(this,"resolver",this.b)}H(v_,P);function jC(o,u,f){if(o&&T(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new v_(u,o.serverResponse,f,o.message)}catch{}return null}function $C(){}$C.prototype.tb=function(o,u,f){return u.type==El?VH(this,o,u,f):jH(this,o,u)};function VH(o,u,f,p){return f.Ha().then(function(g){return g={idToken:g},typeof p<"u"&&(g.displayName=p),Tt(g,{phoneVerificationInfo:Tl(o.a)}),Ge(u,NB,g)})}function jH(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},Tt(p,{phoneVerificationInfo:Tl(o.a)}),Ge(u,OB,p)})}function m_(o){ve(this,"factorId",o.fa),this.a=o}H(m_,$C);function BC(o){if(m_.call(this,o),this.a.fa!=Zi.PROVIDER_ID)throw new P("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}H(BC,m_);function bu(o,u){Zn.call(this,o);for(var f in u)this[f]=u[f]}H(bu,Zn);function g_(o,u){this.a=o,this.b=[],this.c=R(this.yc,this),Dr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&ee(u.multiFactor.enrolledFactors,function(p){var g=null,_={};if(p){p.uid&&(_[ay]=p.uid),p.displayName&&(_[YS]=p.displayName),p.enrollmentTime&&(_[sy]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[uy]=p.phoneNumber);try{g=new _l(_)}catch{}p=g}else p=null;p&&f.push(p)}),Ud(this,f)}function $H(o){var u=[];return ee(o.mfaInfo||[],function(f){(f=oy(f))&&u.push(f)}),u}e=g_.prototype,e.yc=function(o){Ud(this,$H(o.hd))};function Ud(o,u){o.b=u,ve(o,"enrolledFactors",u)}e.Sb=function(){return this.a.I().then(function(o){return new hd(o,null)})},e.fc=function(o,u){var f=this,p=this.a.a;return this.Sb().then(function(g){return o.tb(p,g,u)}).then(function(g){return Ai(f.a,g),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(g){return Ge(p,zB,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var _=he(u.b,function(w){return w.uid!=f});return Ud(u,_),Ai(u.a,g),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:Me(this.b,function(o){return o.w()})}}};function y_(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}y_.prototype.start=function(){this.a=this.c,__(this,!0)};function BH(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function __(o,u){o.stop(),o.b=su(BH(o,u)).then(function(){return _$()}).then(function(){return o.h()}).then(function(){__(o,!0)}).o(function(f){o.i(f)&&__(o,!1)})}y_.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function b_(o){this.f=o,this.b=this.a=null,this.c=Date.now()}b_.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function HC(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function WC(o,u){o.b=ld(u[ei]||""),o.a=u.refreshToken,u=u.expiresIn,HC(o,typeof u<"u"?Number(u):void 0)}function HH(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function WH(o,u){return hB(o.f,u).then(function(f){return o.b=ld(f.access_token),o.a=f.refresh_token,HC(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}b_.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?At(new P("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?WH(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})};function Vd(o,u){this.a=o||null,this.b=u||null,Fn(this,{lastSignInTime:yl(u||null),creationTime:yl(o||null)})}function qH(o){return new Vd(o.a,o.b)}Vd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function GH(o,u,f,p,g,_){Fn(this,{uid:o,displayName:p||null,photoURL:g||null,email:f||null,phoneNumber:_||null,providerId:u})}function yr(o,u,f){this.N=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=Ce.SDK_VERSION?lu(Ce.SDK_VERSION):null;this.a=new Zr(this.l,gt(Se),p),(this.u=o.emulatorConfig||null)&&Cd(this.a,this.u),this.h=new b_(this.a),C_(this,u[ei]),WC(this.h,u),ve(this,"refreshToken",this.h.a),GC(this,f||{}),Mn.call(this),this.P=!1,this.s&&Us()&&(this.b=f_(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=KH(this),this.ba=R(this.ib,this);var g=this;this.za=null,this.Pa=function(_){g.xa(_.h)},this.qa=null,this.Ba=function(_){w_(g,_.c)},this.$=null,this.aa=[],this.Oa=function(_){Ul(g,_.f)},this.ja=null,this.S=new g_(this,f),ve(this,"multiFactor",this.S)}H(yr,Mn),yr.prototype.xa=function(o){this.za=o,jA(this.a,o)};function w_(o,u){o.u=u,Cd(o.a,u),o.b&&(u=o.b,o.b=f_(o.s,o.l,o.m,o.u),o.P&&(u_(u,o),xd(o.b,o)))}yr.prototype.la=function(){return this.za};function E_(o,u){o.qa&&mr(o.qa,"languageCodeChanged",o.Pa),(o.qa=u)&&Dr(u,"languageCodeChanged",o.Pa)}function T_(o,u){o.$&&mr(o.$,"emulatorConfigChanged",o.Ba),(o.$=u)&&Dr(u,"emulatorConfigChanged",o.Ba)}function Ul(o,u){o.aa=u,$A(o.a,Ce.SDK_VERSION?lu(Ce.SDK_VERSION,o.aa):null)}yr.prototype.Ga=function(){return X(this.aa)};function I_(o,u){o.ja&&mr(o.ja,"frameworkChanged",o.Oa),(o.ja=u)&&Dr(u,"frameworkChanged",o.Oa)}yr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function S_(o){try{return Ce.app(o.m).auth()}catch{throw new P("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function KH(o){return new y_(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.h.c-Date.now()-3e5;return 0<u?u:0})}function qC(o){o.J||o.D.b||(o.D.start(),mr(o,"tokenChanged",o.ba),Dr(o,"tokenChanged",o.ba))}function A_(o){mr(o,"tokenChanged",o.ba),o.D.stop()}function C_(o,u){o.Aa=u,ve(o,"_lat",u)}function YH(o,u){z(o.W,function(f){return f==u})}function zs(o){for(var u=[],f=0;f<o.W.length;f++)u.push(o.W[f](o));return cS(u).then(function(){return o})}function Vl(o){o.b&&!o.P&&(o.P=!0,xd(o.b,o))}function GC(o,u){Fn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Vd(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}ve(yr.prototype,"providerId","firebase");function KC(){}function N_(o){return Ee().then(function(){if(o.J)throw new P("app-deleted")})}function O_(o){return Me(o.providerData,function(u){return u.providerId})}function R_(o,u){u&&(YC(o,u.providerId),o.providerData.push(u))}function YC(o,u){z(o.providerData,function(f){return f.providerId==u})}function Lo(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&ve(o,u,f)}function jd(o,u){o!=u&&(Fn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?ve(o,"metadata",qH(u.metadata)):ve(o,"metadata",new Vd),ee(u.providerData,function(f){R_(o,f)}),HH(o.h,u.h),ve(o,"refreshToken",o.h.a),Ud(o.S,u.S.b))}e=yr.prototype,e.reload=function(){var o=this;return Jt(this,N_(this).then(function(){return k_(o).then(function(){return zs(o)}).then(KC)}))};function k_(o){return o.I().then(function(u){var f=o.isAnonymous;return zH(o,u).then(function(){return f||Lo(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new UH(u)})},e.I=function(o){var u=this;return Jt(this,N_(this).then(function(){return u.h.getToken(o)}).then(function(f){if(!f)throw new P("internal-error");return f.accessToken!=u.Aa&&(C_(u,f.accessToken),u.dispatchEvent(new bu("tokenChanged"))),Lo(u,"refreshToken",f.refreshToken),f.accessToken}))};function Ai(o,u){u[ei]&&o.Aa!=u[ei]&&(WC(o.h,u),o.dispatchEvent(new bu("tokenChanged")),C_(o,u[ei]),Lo(o,"refreshToken",o.h.a))}function zH(o,u){return Ge(o.a,RB,{idToken:u}).then(R(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new P("internal-error");o=o[0],GC(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=QH(o),f=0;f<u.length;f++)R_(this,u[f]);Lo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new bu("userReloaded",{hd:o}))};function QH(o){return(o=o.providerUserInfo)&&o.length?Me(o,function(u){return new GH(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return ey("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(o)},e.ub=function(o){var u=this,f=null;return Jt(this,o.c(this.a,this.uid).then(function(p){return Ai(u,p),f=jl(u,p,"reauthenticate"),u.i=null,u.reload()}).then(function(){return f}),!0)};function $d(o,u){return k_(o).then(function(){if(I(O_(o),u))return zs(o).then(function(){throw new P("provider-already-linked")})})}e.Cc=function(o){return ey("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(o)},e.rb=function(o){var u=this,f=null;return Jt(this,$d(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=jl(u,p,"link"),zC(u,p)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return Jt(this,$d(this,"phone").then(function(){return d_(S_(f),o,u,R(f.rb,f))}))},e.Mc=function(o,u){var f=this;return Jt(this,Ee().then(function(){return d_(S_(f),o,u,R(f.ub,f))}),!0)};function jl(o,u,f){var p=_y(u);return u=fA(u),Ii({user:o,credential:p,additionalUserInfo:u,operationType:f})}function zC(o,u){return Ai(o,u),o.reload().then(function(){return o})}e.Cb=function(o){var u=this;return Jt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return Ai(u,f),u.reload()}))},e.ed=function(o){var u=this;return Jt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Ai(u,f),u.reload()}))},e.Db=function(o){var u=this;return Jt(this,this.I().then(function(f){return u.a.Db(f,o)}).then(function(f){return Ai(u,f),u.reload()}))},e.Eb=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return N_(this);var u=this;return Jt(this,this.I().then(function(f){return u.a.Eb(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Ai(u,f),Lo(u,"displayName",f.displayName||null),Lo(u,"photoURL",f.photoUrl||null),ee(u.providerData,function(p){p.providerId==="password"&&(ve(p,"displayName",u.displayName),ve(p,"photoURL",u.photoURL))}),zs(u)}).then(KC))},e.cd=function(o){var u=this;return Jt(this,k_(this).then(function(f){return I(O_(u),o)?_B(u.a,f,[o]).then(function(p){var g={};return ee(p.providerUserInfo||[],function(_){g[_.providerId]=!0}),ee(O_(u),function(_){g[_]||YC(u,_)}),g[Zi.PROVIDER_ID]||ve(u,"phoneNumber",null),zs(u)}):zs(u).then(function(){throw new P("no-such-provider")})}))},e.delete=function(){var o=this;return Jt(this,this.I().then(function(u){return Ge(o.a,IB,{idToken:u})}).then(function(){o.dispatchEvent(new bu("userDeleted"))})).then(function(){for(var u=0;u<o.N.length;u++)o.N[u].cancel("app-deleted");E_(o,null),T_(o,null),I_(o,null),o.N=[],o.J=!0,A_(o),ve(o,"refreshToken",null),o.b&&u_(o.b,o)})},e.Gb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?R(this.Lb,this):o=="reauthViaPopup"&&u==(this.g||null)?R(this.Mb,this):o=="linkViaRedirect"&&(this.ga||null)==u?R(this.Lb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?R(this.Mb,this):null},e.Ec=function(o){var u=this;return QC(this,"linkViaPopup",o,function(){return $d(u,o.providerId).then(function(){return zs(u)})},!1)},e.Nc=function(o){return QC(this,"reauthViaPopup",o,function(){return Ee()},!0)};function QC(o,u,f,p,g){if(!Us())return At(new P("operation-not-supported-in-this-environment"));if(o.i&&!g)return At(o.i);var _=dy(f.providerId),w=Vs(o.uid+":::"),k=null;(!ml()||Qg())&&o.s&&f.isOAuthProvider&&(k=Pl(o.s,o.l,o.m,u,f,null,w,Ce.SDK_VERSION||null,null,null,o.tenantId,o.u));var G=VS(k,_&&_.va,_&&_.ua);return p=p().then(function(){if(JC(o),!g)return o.I().then(function(){})}).then(function(){return RC(o.b,G,u,f,w,!!k,o.tenantId)}).then(function(){return new qe(function(Z,ke){o.na(u,null,new P("cancelled-popup-request"),o.g||null),o.f=Z,o.C=ke,o.g=w,o.c=DC(o.b,o,u,G,w)})}).then(function(Z){return G&&Fs(G),Z?Ii(Z):null}).o(function(Z){throw G&&Fs(G),Z}),Jt(o,p,g)}e.Fc=function(o){var u=this;return XC(this,"linkViaRedirect",o,function(){return $d(u,o.providerId)},!1)},e.Oc=function(o){return XC(this,"reauthViaRedirect",o,function(){return Ee()},!0)};function XC(o,u,f,p,g){if(!Us())return At(new P("operation-not-supported-in-this-environment"));if(o.i&&!g)return At(o.i);var _=null,w=Vs(o.uid+":::");return p=p().then(function(){if(JC(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=w,zs(o)}).then(function(k){return o.ha&&(k=o.ha,k=k.b.set(D_,o.w(),k.a)),k}).then(function(){return kC(o.b,u,f,w,o.tenantId)}).o(function(k){if(_=k,o.ha)return eN(o.ha);throw _}).then(function(){if(_)throw _}),Jt(o,p,g)}function JC(o){if(!o.b||!o.P)throw o.b&&!o.P?new P("internal-error"):new P("auth-domain-config-required")}e.Lb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(w){return jy(g.a,{requestUri:o,postBody:p,sessionId:u,idToken:w})}).then(function(w){return _=jl(g,w,"link"),zC(g,w)}).then(function(){return _}),Jt(this,f)},e.Mb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null,w=Ee().then(function(){return pu($y(g.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),g.uid)}).then(function(k){return _=jl(g,k,"reauthenticate"),Ai(g,k),g.i=null,g.reload()}).then(function(){return _});return Jt(this,w,!0)},e.vb=function(o){var u=this,f=null;return Jt(this,this.I().then(function(p){return f=p,typeof o>"u"||Xn(o)?{}:ud(new ad(o))}).then(function(p){return u.a.vb(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},e.Fb=function(o,u){var f=this,p=null;return Jt(this,this.I().then(function(g){return p=g,typeof u>"u"||Xn(u)?{}:ud(new ad(u))}).then(function(g){return f.a.Fb(p,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function Jt(o,u,f){var p=XH(o,u,f);return o.N.push(p),p.oa(function(){M(o.N,p)}),p.o(function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=jC(g.w(),S_(o),R(o.jc,o))),_||g})}e.jc=function(o){var u=null,f=this;return o=pu(Ee(o),f.uid).then(function(p){return u=jl(f,p,"reauthenticate"),Ai(f,p),f.i=null,f.reload()}).then(function(){return u}),Jt(this,o,!0)};function XH(o,u,f){return o.i&&!f?(u.cancel(),At(o.i)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.i||o.dispatchEvent(new bu("userInvalidated")),o.i=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Tt(o,this.metadata.w()),ee(this.providerData,function(u){o.providerData.push(E$(u))}),Tt(o,this.S.w()),o};function ZC(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[ei]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var g=new yr(u,f,o);return o.providerData&&ee(o.providerData,function(_){_&&R_(g,Ii(_))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function JH(o,u,f,p){var g=new yr(o,u);return f&&(g.ha=f),p&&Ul(g,p),g.reload().then(function(){return g})}function ZH(o,u,f,p){var g=o.h,_={};return _[ei]=g.b&&g.b.toString(),_.refreshToken=g.a,u=new yr(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&Ul(u,p),jd(u,o),u}function eW(o){this.a=o,this.b=Fl()}var D_={name:"redirectUser",F:"session"};function eN(o){return _u(o.b,D_,o.a)}function tW(o,u){return o.b.get(D_,o.a).then(function(f){return f&&u&&(f.authDomain=u),ZC(f||{})})}function P_(o){this.a=o,this.b=Fl(),this.c=null,this.f=nW(this),this.b.addListener(Ci("local"),this.a,R(this.g,this))}P_.prototype.g=function(){var o=this,u=Ci("local");wu(this,function(){return Ee().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return L_(o,"local").then(function(){o.c=u})})})};function L_(o,u){var f=[],p;for(p in gu)gu[p]!==u&&f.push(_u(o.b,Ci(gu[p]),o.a));return f.push(_u(o.b,x_,o.a)),qj(f)}function nW(o){var u=Ci("local"),f=Ci("session"),p=Ci("none");return gH(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(w){return w?u:o.b.get(x_,o.a).then(function(k){return k?Ci(k):u})})})}).then(function(g){return o.c=g,L_(o,g.F)}).o(function(){o.c||(o.c=u)})}var x_={name:"persistence",F:"session"};function Ci(o){return{name:"authUser",F:o}}P_.prototype.yb=function(o){var u=null,f=this;return mH(o),wu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,L_(f,o)}).then(function(){if(f.c=Ci(o),u)return f.b.set(f.c,u,f.a)}):Ee()})};function rW(o){return wu(o,function(){return o.b.set(x_,o.c.F,o.a)})}function tN(o,u){return wu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function nN(o){return wu(o,function(){return _u(o.b,o.c,o.a)})}function rN(o,u,f){return wu(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),ZC(p||{})})})}function wu(o,u){return o.f=o.f.then(u,u),o.f}function ti(o){if(this.l=!1,ve(this,"settings",new FC),ve(this,"app",o),pt(this).options&&pt(this).options.apiKey)o=Ce.SDK_VERSION?lu(Ce.SDK_VERSION):null,this.a=new Zr(pt(this).options&&pt(this).options.apiKey,gt(Se),o);else throw new P("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Ce.INTERNAL.createSubscribe(R(this.zc,this)),this.W=void 0,this.ib=Ce.INTERNAL.createSubscribe(R(this.Ac,this)),Eu(this,null),this.i=new P_(pt(this).options.apiKey+":"+pt(this).name),this.D=new eW(pt(this).options.apiKey+":"+pt(this).name),this.$=Mt(this,cW(this)),this.h=Mt(this,lW(this)),this.ba=!1,this.ja=R(this.Zc,this),this.Ba=R(this.da,this),this.qa=R(this.mc,this),this.za=R(this.wc,this),this.Aa=R(this.xc,this),this.b=null,sW(this),this.INTERNAL={},this.INTERNAL.delete=R(this.delete,this),this.INTERNAL.logFramework=R(this.Gc,this),this.u=0,Mn.call(this),oW(this),this.J=[],this.R=null}H(ti,Mn);function iN(o){Zn.call(this,"languageCodeChanged"),this.h=o}H(iN,Zn);function oN(o){Zn.call(this,"emulatorConfigChanged"),this.c=o}H(oN,Zn);function sN(o){Zn.call(this,"frameworkChanged"),this.f=o}H(sN,Zn),e=ti.prototype,e.yb=function(o){return o=this.i.yb(o),Mt(this,o)},e.xa=function(o){this.aa===o||this.l||(this.aa=o,jA(this.a,this.aa),this.dispatchEvent(new iN(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=l.navigator;this.xa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.R){if(!/^https?:\/\//.test(o))throw new P("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,iW(u),this.R={url:o,ec:u},this.settings.jb=!0,Cd(this.a,this.R),this.dispatchEvent(new oN(this.R))}};function iW(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&id().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#b50000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),$A(this.a,Ce.SDK_VERSION?lu(Ce.SDK_VERSION,this.J):null),this.dispatchEvent(new sN(this.J))},e.Ga=function(){return X(this.J)},e.zb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function oW(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.xa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.zb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.R){var u=er(this.R.url);u=Ii({protocol:u.c,host:u.a,port:u.g,options:Ii({disableWarnings:this.R.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:pt(this).options.apiKey,authDomain:pt(this).options.authDomain,appName:pt(this).name,currentUser:Ve(this)&&Ve(this).w()}};function M_(o){return o.Oa||At(new P("auth-domain-config-required"))}function sW(o){var u=pt(o).options.authDomain,f=pt(o).options.apiKey;u&&Us()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=f_(u,f,pt(o).name,o.R),xd(o.b,o),Ve(o)&&Vl(Ve(o)),o.m){Vl(o.m);var p=o.m;p.xa(o.la()),E_(p,o),p=o.m,Ul(p,o.J),I_(p,o),p=o.m,w_(p,o.R),T_(p,o),o.m=null}return o.b}}))}e.Gb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?R(this.ic,this):null},e.ic=function(o,u,f,p){var g=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Qs(g,Vy(g.a,_))})},e.Xc=function(o){if(!Us())return At(new P("operation-not-supported-in-this-environment"));var u=this,f=dy(o.providerId),p=Vs(),g=null;(!ml()||Qg())&&pt(this).options.authDomain&&o.isOAuthProvider&&(g=Pl(pt(this).options.authDomain,pt(this).options.apiKey,pt(this).name,"signInViaPopup",o,null,p,Ce.SDK_VERSION||null,null,null,this.T(),this.R));var _=VS(g,f&&f.va,f&&f.ua);return f=M_(this).then(function(w){return RC(w,_,"signInViaPopup",o,p,!!g,u.T())}).then(function(){return new qe(function(w,k){u.na("signInViaPopup",null,new P("cancelled-popup-request"),u.g),u.f=w,u.C=k,u.g=p,u.c=DC(u.b,u,"signInViaPopup",_,p)})}).then(function(w){return _&&Fs(_),w?Ii(w):null}).o(function(w){throw _&&Fs(_),w}),Mt(this,f)},e.Yc=function(o){if(!Us())return At(new P("operation-not-supported-in-this-environment"));var u=this,f=M_(this).then(function(){return rW(u.i)}).then(function(){return kC(u.b,"signInViaRedirect",o,void 0,u.T())});return Mt(this,f)};function aN(o){if(!Us())return At(new P("operation-not-supported-in-this-environment"));var u=M_(o).then(function(){return o.b.ra()}).then(function(f){return f?Ii(f):null});return Mt(o,u)}e.ra=function(){var o=this;return aN(this).then(function(u){return o.b&&Fd(o.b.b),u}).o(function(u){throw o.b&&Fd(o.b.b),u})},e.dd=function(o){if(!o)return At(new P("null-user"));if(this.S!=o.tenantId)return At(new P("tenant-id-mismatch"));var u=this,f={};f.apiKey=pt(this).options.apiKey,f.authDomain=pt(this).options.authDomain,f.appName=pt(this).name;var p=ZH(o,f,u.D,u.Ga());return Mt(this,this.h.then(function(){if(pt(u).options.apiKey!=o.l)return p.reload()}).then(function(){return Ve(u)&&o.uid==Ve(u).uid?(jd(Ve(u),o),u.da(o)):(Eu(u,p),Vl(p),u.da(p))}).then(function(){$l(u)}))};function aW(o,u){var f={};return f.apiKey=pt(o).options.apiKey,f.authDomain=pt(o).options.authDomain,f.appName=pt(o).name,o.R&&(f.emulatorConfig=o.R),o.$.then(function(){return JH(f,u,o.D,o.Ga())}).then(function(p){return Ve(o)&&p.uid==Ve(o).uid?(jd(Ve(o),p),o.da(p)):(Eu(o,p),Vl(p),o.da(p))}).then(function(){$l(o)})}function Eu(o,u){Ve(o)&&(YH(Ve(o),o.Ba),mr(Ve(o),"tokenChanged",o.qa),mr(Ve(o),"userDeleted",o.za),mr(Ve(o),"userInvalidated",o.Aa),A_(Ve(o))),u&&(u.W.push(o.Ba),Dr(u,"tokenChanged",o.qa),Dr(u,"userDeleted",o.za),Dr(u,"userInvalidated",o.Aa),0<o.u&&qC(u)),ve(o,"currentUser",u),u&&(u.xa(o.la()),E_(u,o),Ul(u,o.J),I_(u,o),w_(u,o.R),T_(u,o))}e.Bb=function(){var o=this,u=this.h.then(function(){return o.b&&Fd(o.b.b),Ve(o)?(Eu(o,null),nN(o.i).then(function(){$l(o)})):Ee()});return Mt(this,u)};function uW(o){var u=tW(o.D,pt(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),eN(o.D)});return Mt(o,u)}function cW(o){var u=pt(o).options.authDomain,f=uW(o).then(function(){return rN(o.i,u,o.R)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return tN(o.i,p).then(function(){return p})}).o(function(g){return g.code=="auth/network-request-failed"?p:nN(o.i)})):null}).then(function(p){Eu(o,p||null)});return Mt(o,f)}function lW(o){return o.$.then(function(){return aN(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Ci("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return rN(this.i,pt(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=Ve(o)&&u){f=Ve(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return jd(Ve(o),u),Ve(o).I();(Ve(o)||u)&&(Eu(o,u),u&&(Vl(u),u.ha=o.D),o.b&&xd(o.b,o),$l(o))}})},e.da=function(o){return tN(this.i,o)},e.mc=function(){$l(this),this.da(Ve(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Qs(o,u){var f=null,p=null;return Mt(o,u.then(function(g){return f=_y(g),p=fA(g),aW(o,g)},function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=jC(g.w(),o,R(o.kc,o))),_||g}).then(function(){return Ii({user:Ve(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Qs(u,Ee(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(Ve(u))})},e.Ac=function(o){var u=this;fW(this,function(){o.next(Ve(u))})},e.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(Ve(p)):typeof o.next=="function"&&o.next(Ve(p))}),this.Pa(o,u,f)},e.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.W=p.getUid(),typeof o=="function"?o(Ve(p)):typeof o.next=="function"&&o.next(Ve(p))}),this.ib(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return Ve(u)?Ve(u).I(o).then(function(p){return{accessToken:p}}):null});return Mt(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Qs(u,Ge(u.a,qB,{token:o}))}).then(function(f){var p=f.user;return Lo(p,"isAnonymous",!1),u.da(p),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Qs(f,Ge(f.a,QA,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Qs(f,Ge(f.a,EB,{email:o,password:u}))})},e.ab=function(o){var u=this;return this.h.then(function(){return Qs(u,o.ka(u.a))})},e.Sc=function(o){return ey("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(o)},e.Ab=function(){var o=this;return this.h.then(function(){var u=Ve(o);if(u&&u.isAnonymous){var f=Ii({providerId:null,isNewUser:!1});return Ii({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Qs(o,o.a.Ab()).then(function(p){var g=p.user;return Lo(g,"isAnonymous",!0),o.da(g),p})})};function pt(o){return o.app}function Ve(o){return o.currentUser}e.getUid=function(){return Ve(this)&&Ve(this).uid||null};function Bd(o){return Ve(o)&&Ve(o)._lat||null}function $l(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Bd(o));if(o.W!==o.getUid()&&o.N.length)for(o.W=o.getUid(),u=0;u<o.N.length;u++)o.N[u]&&o.N[u](Bd(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&Ve(this)&&qC(Ve(this))},e.Pc=function(o){var u=this;ee(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Ve(this)&&A_(Ve(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),Mt(this,this.h.then(function(){u.l||I(u.s,o)&&o(Bd(u))}))},e.removeAuthTokenListener=function(o){z(this.s,function(u){return u==o})};function fW(o,u){o.N.push(u),Mt(o,o.h.then(function(){!o.l&&I(o.N,u)&&o.W!==o.getUid()&&(o.W=o.getUid(),u(Bd(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.P.length;o++)this.P[o].cancel("app-deleted");return this.P=[],this.i&&(o=this.i,o.b.removeListener(Ci("local"),o.a,this.ja)),this.b&&(u_(this.b,this),Fd(this.b.b)),Promise.resolve()};function Mt(o,u){return o.P.push(u),u.oa(function(){M(o.P,u)}),u}e.hc=function(o){return Mt(this,dB(this.a,o))},e.Bc=function(o){return!!yy(o)},e.xb=function(o,u){var f=this;return Mt(this,Ee().then(function(){var p=new ad(u);if(!p.c)throw new P("argument-error",fy+" must be true when sending sign in link to email");return ud(p)}).then(function(p){return f.a.xb(o,p)}).then(function(){}))},e.jd=function(o){return this.Sa(o).then(function(u){return u.data.email})},e.ob=function(o,u){return Mt(this,this.a.ob(o,u).then(function(){}))},e.Sa=function(o){return Mt(this,this.a.Sa(o).then(function(u){return new I$(u)}))},e.kb=function(o){return Mt(this,this.a.kb(o).then(function(){}))},e.wb=function(o,u){var f=this;return Mt(this,Ee().then(function(){return typeof u>"u"||Xn(u)?{}:ud(new ad(u))}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},e.Wc=function(o,u){return Mt(this,d_(this,o,u,R(this.ab,this)))},e.Vc=function(o,u){var f=this;return Mt(this,Ee().then(function(){var p=u||vl(),g=TA(o,p);if(p=yy(p),!p)throw new P("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new P("tenant-id-mismatch");return f.ab(g)}))};function Bl(){}Bl.prototype.render=function(){},Bl.prototype.reset=function(){},Bl.prototype.getResponse=function(){},Bl.prototype.execute=function(){};function Tu(){this.a={},this.b=1e12}var F_=null;Tu.prototype.render=function(o,u){return this.a[this.b.toString()]=new Hd(o,u),this.b++},Tu.prototype.reset=function(o){var u=U_(this,o);o=uN(o),u&&o&&(u.delete(),delete this.a[o])},Tu.prototype.getResponse=function(o){return(o=U_(this,o))?o.getResponse():null},Tu.prototype.execute=function(o){(o=U_(this,o))&&o.execute()};function U_(o,u){return(u=uN(u))&&o.a[u]||null}function uN(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Hd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=ul(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():Dr(this.f,"click",this.i)}Hd.prototype.getResponse=function(){return V_(this),this.b},Hd.prototype.execute=function(){V_(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=y$();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Hd.prototype.delete=function(){V_(this),this.g=!0,clearTimeout(this.a),this.a=null,mr(this.f,"click",this.i)};function V_(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function j_(){}ve(j_,"FACTOR_ID","phone");function $_(){}$_.prototype.g=function(){return F_||(F_=new Tu),Ee(F_)},$_.prototype.c=function(){};var B_=null;function H_(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var hW=new wi(qh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),dW=new ko(3e4,6e4);H_.prototype.g=function(o){var u=this;return new qe(function(f,p){var g=setTimeout(function(){p(new P("network-request-failed"))},dW.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var w=l.grecaptcha.render;l.grecaptcha.render=function(k,G){return k=w(k,G),u.b++,k},clearTimeout(g),f(l.grecaptcha)}else clearTimeout(g),p(new P("internal-error"));delete l[u.a]};var _=Ig(hW,{onload:u.a,hl:o||""});Ee(Dy(_)).o(function(){clearTimeout(g),p(new P("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(l.grecaptcha)})},H_.prototype.c=function(){this.b--};var W_=null;function q_(o,u,f,p,g,_,w){if(ve(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=u,this.g=null,w?(B_||(B_=new $_),w=B_):(W_||(W_=new H_),w=W_),this.m=w,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[fN])throw new P("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[pW]==="invisible",!l.document)throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ul(u)||!this.i&&ul(u).hasChildNodes())throw new P("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Zr(o,_||null,g||null),this.u=p||function(){return null};var k=this;this.l=[];var G=this.a[cN];this.a[cN]=function(ke){if(hN(k,ke),typeof G=="function")G(ke);else if(typeof G=="string"){var ft=Ct(G,l);typeof ft=="function"&&ft(ke)}};var Z=this.a[lN];this.a[lN]=function(){if(hN(k,null),typeof Z=="function")Z();else if(typeof Z=="string"){var ke=Ct(Z,l);typeof ke=="function"&&ke()}}}var cN="callback",lN="expired-callback",fN="sitekey",pW="size";function hN(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function vW(o,u){z(o.l,function(f){return f==u})}function G_(o,u){return o.h.push(u),u.oa(function(){M(o.h,u)}),u}e=q_.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=G_(this,Ee().then(function(){if(od()&&!Xr())return id();throw new P("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Ge(o.s,MB,{})}).then(function(u){o.a[fN]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Wd(this);var o=this;return G_(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=ul(u);u=$j("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Wd(this);var o=this;return G_(this,this.render().then(function(u){return new qe(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var g=function(_){_&&(vW(o,g),f(_))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Wd(this),this.c!==null&&this.g.reset(this.c)};function Wd(o){if(o.J)throw new P("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Wd(this),this.J=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=ul(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function K_(o,u,f){var p=!1;try{this.b=f||Ce.app()}catch{throw new P("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new P("invalid-api-key");var g=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=Ce.SDK_VERSION?lu(Ce.SDK_VERSION,_):null,q_.call(this,f,o,u,function(){try{var w=g.b.auth().la()}catch{w=null}return w},_,gt(Se),p)}H(K_,q_);function dN(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var g=0,_=!1,w=0;w<u.length;w++)if(u[w].optional)_=!0;else{if(_)throw new P("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(_=u.length,f.length<g||_<f.length)p="Expected "+(g==_?g==1?"1 argument":g+" arguments":g+"-"+_+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(_=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!_){if(u=u[g],0>g||g>=pN.length)throw new P("internal-error","Argument validator received an unsupported number of arguments.");f=pN[g],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new P("argument-error",o+" failed: "+p)}var pN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function pe(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function Y_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function qt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:T}}function Iu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Ni(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function mW(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function gW(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof ti)}}}function yW(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof Ce.app.App)}}}function xo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function vN(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.tb:!1}}}function Su(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function z_(o,u){return T(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function mN(o){return T(o)&&typeof o.uid=="string"}function qd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function $t(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(g){return o.M(g)||u.M(g)}}}function Pt(o,u){for(var f in u){var p=u[f].name;o[p]=yN(p,o[f],u[f].j)}}function gN(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:j(function(g){return this[g]},f),set:j(function(g,_,w,k){dN(g,[w],[k],!0),this[_]=k},p,f,u[f].lb),enumerable:!0})}}function Bt(o,u,f,p){o[u]=yN(u,f,p)}function yN(o,u,f){function p(){var w=Array.prototype.slice.call(arguments);return dN(g,f,w),u.apply(this,w)}if(!f)return u;var g=_W(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function _W(o){return o=o.split("."),o[o.length-1]}Pt(ti.prototype,{kb:{name:"applyActionCode",j:[pe("code")]},Sa:{name:"checkActionCode",j:[pe("code")]},ob:{name:"confirmPasswordReset",j:[pe("code"),pe("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[pe("email"),pe("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[pe("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[pe("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$t(qt(),Iu(),"nextOrObserver"),Iu("opt_error",!0),Iu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$t(qt(),Iu(),"nextOrObserver"),Iu("opt_error",!0),Iu("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[pe("email"),$t(qt("opt_actionCodeSettings",!0),Ni(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[pe("email"),qt("actionCodeSettings")]},yb:{name:"setPersistence",j:[pe("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[xo()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[xo()]},Tc:{name:"signInWithCustomToken",j:[pe("token")]},Uc:{name:"signInWithEmailAndPassword",j:[pe("email"),pe("password")]},Vc:{name:"signInWithEmailLink",j:[pe("email"),pe("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[pe("phoneNumber"),qd()]},Xc:{name:"signInWithPopup",j:[Su()]},Yc:{name:"signInWithRedirect",j:[Su()]},dd:{name:"updateCurrentUser",j:[$t(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof yr)}}}(),Ni(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[pe(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[pe("url"),qt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[pe("code")]}}),gN(ti.prototype,{lc:{name:"languageCode",lb:$t(pe(),Ni(),"languageCode")},ti:{name:"tenantId",lb:$t(pe(),Ni(),"tenantId")}}),ti.Persistence=gu,ti.Persistence.LOCAL="local",ti.Persistence.SESSION="session",ti.Persistence.NONE="none",Pt(yr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Y_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Y_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[xo()]},rb:{name:"linkWithCredential",j:[xo()]},Dc:{name:"linkWithPhoneNumber",j:[pe("phoneNumber"),qd()]},Ec:{name:"linkWithPopup",j:[Su()]},Fc:{name:"linkWithRedirect",j:[Su()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[xo()]},ub:{name:"reauthenticateWithCredential",j:[xo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[pe("phoneNumber"),qd()]},Nc:{name:"reauthenticateWithPopup",j:[Su()]},Oc:{name:"reauthenticateWithRedirect",j:[Su()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[$t(qt("opt_actionCodeSettings",!0),Ni(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[pe(null,!0)]},cd:{name:"unlink",j:[pe("provider")]},Cb:{name:"updateEmail",j:[pe("email")]},Db:{name:"updatePassword",j:[pe("password")]},ed:{name:"updatePhoneNumber",j:[xo("phone")]},Eb:{name:"updateProfile",j:[qt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[pe("email"),$t(qt("opt_actionCodeSettings",!0),Ni(null,!0),"opt_actionCodeSettings",!0)]}}),Pt(Tu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Pt(Bl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Pt(qe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),gN(FC.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Y_("appVerificationDisabledForTesting")}}),Pt(h_.prototype,{confirm:{name:"confirm",j:[pe("verificationCode")]}}),Bt(du,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[B$,H$,W$,$$],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[$t(pe(),qt(),"json")]),Bt(Lr,"credential",function(o,u){return new Do(o,u)},[pe("email"),pe("password")]),Pt(Do.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),Pt(Bs.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Bt(Bs,"credential",_A,[$t(pe(),qt(),"token")]),Bt(Lr,"credentialWithLink",TA,[pe("email"),pe("emailLink")]),Pt(Hs.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Bt(Hs,"credential",bA,[$t(pe(),qt(),"token")]),Pt(Ws.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Bt(Ws,"credential",wA,[$t(pe(),$t(qt(),Ni()),"idToken"),$t(pe(),Ni(),"accessToken",!0)]),Pt(vu.prototype,{Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Bt(vu,"credential",EA,[$t(pe(),qt(),"token"),pe("secret",!0)]),Pt(gr.prototype,{Ca:{name:"addScope",j:[pe("scope")]},credential:{name:"credential",j:[$t(pe(),$t(qt(),Ni()),"optionsOrIdToken"),$t(pe(),Ni(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Pt(Ji.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),Pt(js.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),Bt(Zi,"credential",IA,[pe("verificationId"),pe("verificationCode")]),Pt(Zi.prototype,{gb:{name:"verifyPhoneNumber",j:[$t(pe(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?z_(f.session,El)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?z_(f.session,dd)&&mN(f.multiFactorHint):f.session&&f.multiFactorUid?z_(f.session,dd)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),qd()]}}),Pt(Po.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),Pt(P.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),Pt(Il.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),Pt(Ey.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),Pt(v_.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),Pt(p_.prototype,{Rc:{name:"resolveSignIn",j:[vN()]}}),Pt(g_.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[vN(),pe("displayName",!0)]},bd:{name:"unenroll",j:[$t({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:mN},pe(),"multiFactorInfoIdentifier")]}}),Pt(K_.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Bt(ly,"parseLink",tA,[pe("link")]),Bt(j_,"assertion",function(o){return new BC(o)},[xo("phone")]),function(){if(typeof Ce<"u"&&Ce.INTERNAL&&Ce.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:sd,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:cy,VERIFY_AND_CHANGE_EMAIL:bl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ti,AuthCredential:du,Error:P};Bt(o,"EmailAuthProvider",Lr,[]),Bt(o,"FacebookAuthProvider",Bs,[]),Bt(o,"GithubAuthProvider",Hs,[]),Bt(o,"GoogleAuthProvider",Ws,[]),Bt(o,"TwitterAuthProvider",vu,[]),Bt(o,"OAuthProvider",gr,[pe("providerId")]),Bt(o,"SAMLAuthProvider",yA,[pe("providerId")]),Bt(o,"PhoneAuthProvider",Zi,[gW()]),Bt(o,"RecaptchaVerifier",K_,[$t(pe(),mW(),"recaptchaContainer"),qt("recaptchaParameters",!0),yW()]),Bt(o,"ActionCodeURL",ly,[]),Bt(o,"PhoneMultiFactorGenerator",j_,[]),Ce.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new ti(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(u){u.getProvider("auth-internal").initialize()}}),Ce.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:R(u.getUid,u),getToken:R(u.nc,u),addAuthTokenListener:R(u.cc,u),removeAuthTokenListener:R(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ce.registerVersion("@firebase/auth","0.16.8"),Ce.INTERNAL.extendNamespace({User:yr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pU="firebasestorage.googleapis.com",vU="storageBucket",I7=2*60*1e3,S7=10*60*1e3,Qt=function(e){ce(t,e);function t(n,r){var i=e.call(this,kb(n),"Firebase Storage: "+r+" ("+kb(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return kb(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(rm);function kb(e){return"storage/"+e}function Z0(){var e="An unknown error occurred, please check the error payload for server response.";return new Qt("unknown",e)}function A7(e){return new Qt("object-not-found","Object '"+e+"' does not exist.")}function C7(e){return new Qt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function N7(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt("unauthenticated",e)}function O7(){return new Qt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function R7(e){return new Qt("unauthorized","User does not have permission to access '"+e+"'.")}function k7(){return new Qt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function mU(){return new Qt("canceled","User canceled the upload/download.")}function D7(e){return new Qt("invalid-url","Invalid URL '"+e+"'.")}function P7(e){return new Qt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function L7(){return new Qt("no-default-bucket","No default bucket found. Did you set the '"+vU+"' property when initializing the app?")}function gU(){return new Qt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function x7(){return new Qt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function M7(){return new Qt("no-download-url","The given file does not have any download URLs.")}function Zu(e){return new Qt("invalid-argument",e)}function yU(){return new Qt("app-deleted","The Firebase app was deleted.")}function _U(e){return new Qt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ef(e,t){return new Qt("invalid-format","String does not match format '"+e+"': "+t)}function up(e){throw new Qt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Db=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function bU(e,t){switch(e){case jr.RAW:return new Db(wU(t));case jr.BASE64:case jr.BASE64URL:return new Db(EU(e,t));case jr.DATA_URL:return new Db(V7(t),j7(t))}throw Z0()}function wU(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function U7(e){var t;try{t=decodeURIComponent(e)}catch{throw Ef(jr.DATA_URL,"Malformed data URL.")}return wU(t)}function EU(e,t){switch(e){case jr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Ef(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case jr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Ef(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=F7(t)}catch{throw Ef(e,"Invalid character found")}for(var l=new Uint8Array(c.length),h=0;h<c.length;h++)l[h]=c.charCodeAt(h);return l}var TU=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ef(jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=$7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function V7(e){var t=new TU(e);return t.base64?EU(jr.BASE64,t.rest):U7(t.rest)}function j7(e){var t=new TU(e);return t.contentType}function $7(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B7={STATE_CHANGED:"state_changed"},Bn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Pb(e){switch(e){case"running":case"pausing":case"canceling":return Bn.RUNNING;case"paused":return Bn.PAUSED;case"success":return Bn.SUCCESS;case"canceled":return Bn.CANCELED;case"error":return Bn.ERROR;default:return Bn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ia||(Ia={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H7=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ia.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ia.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ia.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw up("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw up("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw up("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw up("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function W7(){return new H7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q7=function(){function e(){}return e.prototype.createConnection=function(){return W7()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw P7(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}var a="(/(.*))?$",c=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function h(Q){Q.path_=decodeURIComponent(Q.path)}for(var d="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+d+"/b/"+i+"/o"+m,"i"),b={bucket:1,path:3},E=n===pU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",N=new RegExp("^https?://"+E+"/"+i+"/"+T,"i"),L={bucket:1,path:2},A=[{regex:c,indices:l,postModify:s},{regex:y,indices:b,postModify:h},{regex:N,indices:L,postModify:h}],D=0;D<A.length;D++){var F=A[D],R=F.regex.exec(t);if(R){var j=R[F.indices.bucket],H=R[F.indices.path];H||(H=""),r=new e(j,H),F.postModify(r);break}}if(r==null)throw D7(t);return r},e}(),G7=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(e,t,n){var r=1,i=null,s=!1,a=0;function c(){return a===2}var l=!1;function h(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];l||(l=!0,t.apply(null,b))}function d(b){i=setTimeout(function(){i=null,e(v,c())},b)}function v(b){for(var E=[],T=1;T<arguments.length;T++)E[T-1]=arguments[T];if(!l){if(b){h.call.apply(h,rt([null,b],E));return}var N=c()||s;if(N){h.call.apply(h,rt([null,b],E));return}r<64&&(r*=2);var L;a===1?(a=2,L=0):L=(r+Math.random())*1e3,d(L)}}var m=!1;function y(b){m||(m=!0,!l&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function Y7(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z7(e){return e!==void 0}function Q7(e){return typeof e=="function"}function X7(e){return typeof e=="object"&&!Array.isArray(e)}function ng(e){return typeof e=="string"||e instanceof String}function Ok(e){return eI()&&e instanceof Blob}function eI(){return typeof Blob<"u"}function fE(e,t,n,r){if(r<t)throw Zu("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Zu("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function IU(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J7=function(){function e(t,n,r,i,s,a,c,l,h,d,v){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,b){m.resolve_=y,m.reject_=b,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new cp(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function c(l){var h=l.loaded,d=l.lengthComputable?l.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,d)}t.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(c),t.pendingConnection_=null;var l=a.getErrorCode()===Ia.NO_ERROR,h=a.getStatus();if(!l||t.isRetryStatusCode_(h)){var d=a.getErrorCode()===Ia.ABORT;i(!1,new cp(!1,null,d));return}var v=t.successCodes_.indexOf(h)!==-1;i(!0,new cp(v,a))})}function r(i,s){var a=t.resolve_,c=t.reject_,l=s.connection;if(s.wasSuccessCode)try{var h=t.callback_(l,l.getResponseText());z7(h)?a(h):a()}catch(v){c(v)}else if(l!==null){var d=Z0();d.serverResponse=l.getResponseText(),t.errorCallback_?c(t.errorCallback_(l,d)):c(d)}else if(s.canceled){var d=t.appDelete_?yU():mU();c(d)}else{var d=k7();c(d)}}this.canceled_?r(!1,new cp(!1,null,!0)):this.backoffId_=K7(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Y7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),cp=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function Z7(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function e9(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function t9(e,t){t&&(e["X-Firebase-GMPID"]=t)}function n9(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function r9(e,t,n,r,i,s){var a=IU(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return t9(l,t),Z7(l,n),e9(l,s),n9(l,r),new J7(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function o9(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i9();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(eI())return new Blob(e);throw new Qt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function s9(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tI=function(){function e(t,n){var r=0,i="";Ok(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Ok(this.data_)){var r=this.data_,i=s9(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(eI()){var r=t.map(function(l){return l instanceof e?l.data_:l});return new e(o9.apply(null,r))}else{var i=t.map(function(l){return ng(l)?bU(jr.RAW,l).data:l.data_}),s=0;i.forEach(function(l){s+=l.byteLength});var a=new Uint8Array(s),c=0;return i.forEach(function(l){for(var h=0;h<l.length;h++)a[c++]=l[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(e){var t;try{t=JSON.parse(e)}catch{return null}return X7(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function u9(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function SU(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(e,t){return t}var Un=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||c9}return e}(),lp=null;function l9(e){return!ng(e)||e.length<2?e:SU(e)}function rg(){if(lp)return lp;var e=[];e.push(new Un("bucket")),e.push(new Un("generation")),e.push(new Un("metageneration")),e.push(new Un("name","fullPath",!0));function t(s,a){return l9(a)}var n=new Un("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new Un("size");return i.xform=r,e.push(i),e.push(new Un("timeCreated")),e.push(new Un("updated")),e.push(new Un("md5Hash",null,!0)),e.push(new Un("cacheControl",null,!0)),e.push(new Un("contentDisposition",null,!0)),e.push(new Un("contentEncoding",null,!0)),e.push(new Un("contentLanguage",null,!0)),e.push(new Un("contentType",null,!0)),e.push(new Un("metadata","customMetadata",!0)),lp=e,lp}function f9(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new $r(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function h9(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return f9(r,e),r}function AU(e,t,n){var r=nI(t);if(r===null)return null;var i=r;return h9(e,i,n)}function d9(e,t,n){var r=nI(t);if(r===null||!ng(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),c=a.map(function(l){var h=e.bucket,d=e.fullPath,v="/b/"+s(h)+"/o/"+s(d),m=Ss(v,n),y=IU({alt:"media",token:l});return m+y});return c[0]}function rI(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rk="prefixes",kk="items";function p9(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Rk])for(var i=0,s=n[Rk];i<s.length;i++){var a=s[i],c=a.replace(/\/$/,""),l=e._makeStorageReference(new $r(t,c));r.prefixes.push(l)}if(n[kk])for(var h=0,d=n[kk];h<d.length;h++){var v=d[h],l=e._makeStorageReference(new $r(t,v.name));r.items.push(l)}return r}function v9(e,t,n){var r=nI(n);if(r===null)return null;var i=r;return p9(e,t,i)}var Ao=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e){if(!e)throw Z0()}function ig(e,t){function n(r,i){var s=AU(e,i,t);return Ui(s!==null),s}return n}function m9(e,t){function n(r,i){var s=v9(e,t,i);return Ui(s!==null),s}return n}function g9(e,t){function n(r,i){var s=AU(e,i,t);return Ui(s!==null),d9(s,i,e.host)}return n}function Jc(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=O7():i=N7():n.getStatus()===402?i=C7(e.bucket):n.getStatus()===403?i=R7(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function og(e){var t=Jc(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=A7(e.path)),s.serverResponse=i.serverResponse,s}return n}function CU(e,t,n){var r=t.fullServerUrl(),i=Ss(r,e.host),s="GET",a=e.maxOperationRetryTime,c=new Ao(i,s,ig(e,n),a);return c.errorHandler=og(t),c}function y9(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),c=Ss(a,e.host),l="GET",h=e.maxOperationRetryTime,d=new Ao(c,l,m9(e,t.bucket),h);return d.urlParams=s,d.errorHandler=Jc(t),d}function _9(e,t,n){var r=t.fullServerUrl(),i=Ss(r,e.host),s="GET",a=e.maxOperationRetryTime,c=new Ao(i,s,g9(e,n),a);return c.errorHandler=og(t),c}function b9(e,t,n,r){var i=t.fullServerUrl(),s=Ss(i,e.host),a="PATCH",c=rI(n,r),l={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,d=new Ao(s,a,ig(e,r),h);return d.headers=l,d.body=c,d.errorHandler=og(t),d}function w9(e,t){var n=t.fullServerUrl(),r=Ss(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(l,h){}var c=new Ao(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=og(t),c}function E9(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function NU(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=E9(null,t)),r}function T9(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var A="",D=0;D<2;D++)A=A+Math.random().toString().slice(2);return A}var l=c();a["Content-Type"]="multipart/related; boundary="+l;var h=NU(t,r,i),d=rI(h,n),v="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+l+"--",y=tI.getBlob(v,r,m);if(y===null)throw gU();var b={name:h.fullPath},E=Ss(s,e.host),T="POST",N=e.maxUploadRetryTime,L=new Ao(E,T,ig(e,n),N);return L.urlParams=b,L.headers=a,L.body=y.uploadData(),L.errorHandler=Jc(t),L}var kv=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function iI(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Ui(!1)}var r=t||["active"];return Ui(!!n&&r.indexOf(n)!==-1),n}function I9(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=NU(t,r,i),c={name:a.fullPath},l=Ss(s,e.host),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=rI(a,n),m=e.maxUploadRetryTime;function y(E){iI(E);var T;try{T=E.getResponseHeader("X-Goog-Upload-URL")}catch{Ui(!1)}return Ui(ng(T)),T}var b=new Ao(l,h,y,m);return b.urlParams=c,b.headers=d,b.body=v,b.errorHandler=Jc(t),b}function S9(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=iI(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ui(!1)}v||Ui(!1);var m=Number(v);return Ui(!isNaN(m)),new kv(m,r.size(),d==="final")}var a="POST",c=e.maxUploadRetryTime,l=new Ao(n,a,s,c);return l.headers=i,l.errorHandler=Jc(t),l}var Dk=256*1024;function A9(e,t,n,r,i,s,a,c){var l=new kv(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw x7();var h=l.total-l.current,d=h;i>0&&(d=Math.min(d,i));var v=l.current,m=v+d,y=d===h?"upload, finalize":"upload",b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+l.current},E=r.slice(v,m);if(E===null)throw gU();function T(D,F){var R=iI(D,["active","final"]),j=l.current+d,H=r.size(),Q;return R==="final"?Q=ig(t,s)(D,F):Q=null,new kv(j,H,R==="final",Q)}var N="POST",L=t.maxUploadRetryTime,A=new Ao(n,N,T,L);return A.headers=b,A.body=E.uploadData(),A.progressCallback=c||null,A.errorHandler=Jc(e),A}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C9=function(){function e(t,n,r){var i=Q7(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OU=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=rg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=I9(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=S9(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(c){c=c,t._request=void 0,t._updateProgress(c.current),t._needToFetchStatus=!1,c.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=Dk*this._chunkMultiplier,r=new kv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var c;try{c=A9(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var l=t._ref.storage._makeRequest(c,s,a);t._request=l,l.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=Dk*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=CU(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=T9(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=mU(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Pb(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new C9(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Pb(this._state)){case Bn.SUCCESS:ku(this._resolve.bind(null,this.snapshot))();break;case Bn.CANCELED:case Bn.ERROR:var n=this._reject;ku(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Pb(this._state);switch(n){case Bn.RUNNING:case Bn.PAUSED:t.next&&ku(t.next.bind(t,this.snapshot))();break;case Bn.SUCCESS:t.complete&&ku(t.complete.bind(t))();break;case Bn.CANCELED:case Bn.ERROR:t.error&&ku(t.error.bind(t,this._error))();break;default:t.error&&ku(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sg=function(){function e(t,n){this._service=t,n instanceof $r?this._location=n:this._location=$r.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new $r(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return SU(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=a9(this._location.path);if(t===null)return null;var n=new $r(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw _U(t)},e}();function N9(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new OU(e,new tI(t),n)}function O9(e){var t={prefixes:[],items:[]};return RU(e,t).then(function(){return t})}function RU(e,t,n){return B(this,void 0,void 0,function(){var r,i,s,a;return $(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,kU(e,r)];case 1:return i=c.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,RU(e,t,i.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function kU(e,t){return B(this,void 0,void 0,function(){var n,r;return $(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&fE("options.maxResults",1,1e3,t.maxResults),n=t||{},r=y9(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function R9(e){return B(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=CU(e.storage,e._location,rg()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function k9(e,t){return B(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=b9(e.storage,e._location,t,rg()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function D9(e){return B(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=_9(e.storage,e._location,rg()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw M7();return r})]}})})}function P9(e){return B(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=w9(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function DU(e,t){var n=u9(e._location.path,t),r=new $r(e._location.bucket,n);return new sg(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(e){return/^[A-Za-z]+:\/\//.test(e)}function L9(e,t){return new sg(e,t)}function PU(e,t){if(e instanceof ag){var n=e;if(n._bucket==null)throw L7();var r=new sg(n,n._bucket);return t!=null?PU(r,t):r}else return t!==void 0?DU(e,t):e}function x9(e,t){if(t&&hE(t)){if(e instanceof ag)return L9(e,t);throw Zu("To use ref(service, url), the first argument must be a Storage instance.")}else return PU(e,t)}function Pk(e,t){var n=t==null?void 0:t[vU];return n==null?null:$r.makeFromBucketSpec(n,e)}function M9(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken=typeof i=="string"?i:iT(i,e.app.options.projectId))}var ag=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=pU,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=I7,this._maxUploadRetryTime=S7,this._requests=new Set,s!=null?this._bucket=$r.makeFromBucketSpec(s,this._host):this._bucket=Pk(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=$r.makeFromBucketSpec(this._url,t):this._bucket=Pk(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){fE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){fE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return B(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return B(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new sg(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new G7(yU());var s=r9(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return B(this,void 0,void 0,function(){var n,r,i;return $(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(e,t,n){return e=je(e),N9(e,t,n)}function U9(e){return e=je(e),R9(e)}function V9(e,t){return e=je(e),k9(e,t)}function j9(e,t){return e=je(e),kU(e,t)}function $9(e){return e=je(e),O9(e)}function B9(e){return e=je(e),D9(e)}function H9(e){return e=je(e),P9(e)}function Lk(e,t){return e=je(e),x9(e,t)}function W9(e,t){return DU(e,t)}function q9(e,t,n,r){r===void 0&&(r={}),M9(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fp=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xk=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new fp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new fp(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new fp(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new fp(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),Mk=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new th(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new th(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var th=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=W9(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new xk(F9(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=jr.RAW),this._throwIfRoot("putString");var i=bU(n,t),s=tn({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new xk(new OU(this._delegate,new tI(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return $9(this._delegate).then(function(n){return new Mk(n,t.storage)})},e.prototype.list=function(t){var n=this;return j9(this._delegate,t||void 0).then(function(r){return new Mk(r,n.storage)})},e.prototype.getMetadata=function(){return U9(this._delegate)},e.prototype.updateMetadata=function(t){return V9(this._delegate,t)},e.prototype.getDownloadURL=function(){return B9(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),H9(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw _U(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G9=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(hE(t))throw Zu("ref() expected a child path but got a URL, use refFromURL instead.");return new th(Lk(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!hE(t))throw Zu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$r.makeFromUrl(t,this._delegate.host)}catch{throw Zu("refFromUrl() expected a valid full URL but got an invalid one.")}return new th(Lk(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),q9(this._delegate,t,n,r)},e}(),K9="@firebase/storage",Y9="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z9="storage";function Q9(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new G9(r,new ag(r,i,s,new q7,n,Ce.SDK_VERSION));return a}function X9(e){var t={TaskState:Bn,TaskEvent:B7,StringFormat:jr,Storage:ag,Reference:th};e.INTERNAL.registerComponent(new Bi(z9,Q9,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(K9,Y9)}X9(Ce);function J9(e){return Array.prototype.slice.call(e)}function LU(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function oI(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),LU(r).then(s,a)});return i.request=r,i}function Z9(e,t,n){var r=oI(e,t,n);return r.then(function(i){if(i)return new nh(i,r.request)})}function Zc(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function sI(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return oI(this[t],i,arguments)})})}function ug(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function xU(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Z9(this[t],i,arguments)})})}function eu(e){this._index=e}Zc(eu,"_index",["name","keyPath","multiEntry","unique"]);sI(eu,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);xU(eu,"_index",IDBIndex,["openCursor","openKeyCursor"]);function nh(e,t){this._cursor=e,this._request=t}Zc(nh,"_cursor",["direction","key","primaryKey","value"]);sI(nh,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(nh.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),LU(t._request).then(function(r){if(r)return new nh(r,t._request)})})})});function Qi(e){this._store=e}Qi.prototype.createIndex=function(){return new eu(this._store.createIndex.apply(this._store,arguments))};Qi.prototype.index=function(){return new eu(this._store.index.apply(this._store,arguments))};Zc(Qi,"_store",["name","keyPath","indexNames","autoIncrement"]);sI(Qi,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);xU(Qi,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);ug(Qi,"_store",IDBObjectStore,["deleteIndex"]);function Uh(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Uh.prototype.objectStore=function(){return new Qi(this._tx.objectStore.apply(this._tx,arguments))};Zc(Uh,"_tx",["objectStoreNames","mode"]);ug(Uh,"_tx",IDBTransaction,["abort"]);function cg(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Uh(n)}cg.prototype.createObjectStore=function(){return new Qi(this._db.createObjectStore.apply(this._db,arguments))};Zc(cg,"_db",["name","version","objectStoreNames"]);ug(cg,"_db",IDBDatabase,["deleteObjectStore","close"]);function lg(e){this._db=e}lg.prototype.transaction=function(){return new Uh(this._db.transaction.apply(this._db,arguments))};Zc(lg,"_db",["name","version","objectStoreNames"]);ug(lg,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Qi,eu].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=J9(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[eu,Qi].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function e3(e,t,n){var r=oI(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new cg(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new lg(s)})}var t3="@firebase/installations",MU="0.4.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FU=1e4,UU="w:"+MU,VU="FIS_v2",n3="https://firebaseinstallations.googleapis.com/v1",r3=60*60*1e3,i3="installations",o3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $o,s3=($o={},$o["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',$o["not-registered"]="Firebase Installation is not registered.",$o["installation-not-found"]="Firebase Installation not found.",$o["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',$o["app-offline"]="Could not process request. Application offline.",$o["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",$o),Eo=new fh(i3,o3,s3);function jU(e){return e instanceof rm&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(e){var t=e.projectId;return n3+"/projects/"+t+"/installations"}function $U(e){return{token:e.token,requestStatus:2,expiresIn:a3(e.expiresIn),creationTime:Date.now()}}function uI(e,t){return B(this,void 0,void 0,function(){var n,r;return $(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Eo.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function BU(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function HU(e,t){var n=t.refreshToken,r=BU(e);return r.append("Authorization",u3(n)),r}function cI(e){return B(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function a3(e){return Number(e.replace("s","000"))}function u3(e){return VU+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(e,t){var n=t.fid;return B(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return $(this,function(d){switch(d.label){case 0:return r=aI(e),i=BU(e),s={fid:n,authVersion:VU,appId:e.appId,sdkVersion:UU},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,cI(function(){return fetch(r,a)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=d.sent(),h={fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:$U(l.authToken)},[2,h];case 3:return[4,uI("Create Installation",c)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(e){var t=btoa(String.fromCharCode.apply(String,rt([],Nn(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f3=/^[cdef][\w-]{21}$/,dE="";function h3(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=d3(e);return f3.test(n)?n:dE}catch{return dE}}function d3(e){var t=l3(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cc=new Map;function qU(e,t){var n=el(e);GU(n,t),m3(n,t)}function p3(e,t){KU();var n=el(e),r=Cc.get(n);r||(r=new Set,Cc.set(n,r)),r.add(t)}function v3(e,t){var n=el(e),r=Cc.get(n);r&&(r.delete(t),r.size===0&&Cc.delete(n),YU())}function GU(e,t){var n,r,i=Cc.get(e);if(i)try{for(var s=Yn(i),a=s.next();!a.done;a=s.next()){var c=a.value;c(t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function m3(e,t){var n=KU();n&&n.postMessage({key:e,fid:t}),YU()}var pa=null;function KU(){return!pa&&"BroadcastChannel"in self&&(pa=new BroadcastChannel("[Firebase] FID Change"),pa.onmessage=function(e){GU(e.data.key,e.data.fid)}),pa}function YU(){Cc.size===0&&pa&&(pa.close(),pa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g3="firebase-installations-database",y3=1,Ua="firebase-installations-store",Lb=null;function lI(){return Lb||(Lb=e3(g3,y3,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ua)}})),Lb}function Dv(e,t){return B(this,void 0,void 0,function(){var n,r,i,s,a;return $(this,function(c){switch(c.label){case 0:return n=el(e),[4,lI()];case 1:return r=c.sent(),i=r.transaction(Ua,"readwrite"),s=i.objectStore(Ua),[4,s.get(n)];case 2:return a=c.sent(),[4,s.put(t,n)];case 3:return c.sent(),[4,i.complete];case 4:return c.sent(),(!a||a.fid!==t.fid)&&qU(e,t.fid),[2,t]}})})}function fI(e){return B(this,void 0,void 0,function(){var t,n,r;return $(this,function(i){switch(i.label){case 0:return t=el(e),[4,lI()];case 1:return n=i.sent(),r=n.transaction(Ua,"readwrite"),[4,r.objectStore(Ua).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Vh(e,t){return B(this,void 0,void 0,function(){var n,r,i,s,a,c;return $(this,function(l){switch(l.label){case 0:return n=el(e),[4,lI()];case 1:return r=l.sent(),i=r.transaction(Ua,"readwrite"),s=i.objectStore(Ua),[4,s.get(n)];case 2:return a=l.sent(),c=t(a),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),c&&(!a||a.fid!==c.fid)&&qU(e,c.fid),[2,c]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(e){return B(this,void 0,void 0,function(){var t,n,r;return $(this,function(i){switch(i.label){case 0:return[4,Vh(e,function(s){var a=_3(s),c=b3(e,a);return t=c.registrationPromise,c.installationEntry})];case 1:return n=i.sent(),n.fid!==dE?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function _3(e){var t=e||{fid:h3(),registrationStatus:0};return zU(t)}function b3(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Eo.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=w3(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:E3(e)}:{installationEntry:t}}function w3(e,t){return B(this,void 0,void 0,function(){var n,r;return $(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,c3(e,t)];case 1:return n=i.sent(),[2,Dv(e,n)];case 2:return r=i.sent(),jU(r)&&r.customData.serverCode===409?[4,fI(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Dv(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function E3(e){return B(this,void 0,void 0,function(){var t,n,r,i;return $(this,function(s){switch(s.label){case 0:return[4,Fk(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,WU(100)];case 3:return s.sent(),[4,Fk(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,hI(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function Fk(e){return Vh(e,function(t){if(!t)throw Eo.create("installation-not-found");return zU(t)})}function zU(e){return T3(e)?{fid:e.fid,registrationStatus:0}:e}function T3(e){return e.registrationStatus===1&&e.registrationTime+FU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return B(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v;return $(this,function(m){switch(m.label){case 0:return i=S3(n,t),s=HU(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),c={installation:{sdkVersion:UU}},l={method:"POST",headers:s,body:JSON.stringify(c)},[4,cI(function(){return fetch(i,l)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=m.sent(),v=$U(d),[2,v];case 3:return[4,uI("Generate Auth Token",h)];case 4:throw m.sent()}})})}function S3(e,t){var n=t.fid;return aI(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(e,t){return t===void 0&&(t=!1),B(this,void 0,void 0,function(){var n,r,i,s;return $(this,function(a){switch(a.label){case 0:return[4,Vh(e.appConfig,function(c){if(!QU(c))throw Eo.create("not-registered");var l=c.authToken;if(!t&&N3(l))return c;if(l.requestStatus===1)return n=A3(e,t),c;if(!navigator.onLine)throw Eo.create("app-offline");var h=R3(c);return n=C3(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function A3(e,t){return B(this,void 0,void 0,function(){var n,r;return $(this,function(i){switch(i.label){case 0:return[4,Uk(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,WU(100)];case 3:return i.sent(),[4,Uk(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,dI(e,t)]:[2,r]}})})}function Uk(e){return Vh(e,function(t){if(!QU(t))throw Eo.create("not-registered");var n=t.authToken;return k3(n)?tn(tn({},t),{authToken:{requestStatus:0}}):t})}function C3(e,t){return B(this,void 0,void 0,function(){var n,i,r,i;return $(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,I3(e,t)];case 1:return n=s.sent(),i=tn(tn({},t),{authToken:n}),[4,Dv(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),jU(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,fI(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=tn(tn({},t),{authToken:{requestStatus:0}}),[4,Dv(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function QU(e){return e!==void 0&&e.registrationStatus===2}function N3(e){return e.requestStatus===2&&!O3(e)}function O3(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+r3}function R3(e){var t={requestStatus:1,requestTime:Date.now()};return tn(tn({},e),{authToken:t})}function k3(e){return e.requestStatus===1&&e.requestTime+FU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(e){return B(this,void 0,void 0,function(){var t,n,r;return $(this,function(i){switch(i.label){case 0:return[4,hI(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):dI(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(e,t){return t===void 0&&(t=!1),B(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return[4,L3(e.appConfig)];case 1:return r.sent(),[4,dI(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function L3(e){return B(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return[4,hI(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(e,t){return B(this,void 0,void 0,function(){var n,r,i,s;return $(this,function(a){switch(a.label){case 0:return n=M3(e,t),r=HU(e,t),i={method:"DELETE",headers:r},[4,cI(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,uI("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function M3(e,t){var n=t.fid;return aI(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(e){return B(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,Vh(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Eo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Eo.create("app-offline");case 3:return[4,x3(t,n)];case 4:return r.sent(),[4,fI(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(e,t){var n=e.appConfig;return p3(n,t),function(){v3(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(e){var t,n;if(!e||!e.options)throw xb("App Configuration");if(!e.name)throw xb("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Yn(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw xb(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function xb(e){return Eo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(e){var t="installations";e.INTERNAL.registerComponent(new Bi(t,function(n){var r=n.getProvider("app").getImmediate(),i=V3(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},c={app:r,getId:function(){return D3(a)},getToken:function(l){return P3(a,l)},delete:function(){return F3(a)},onIdChange:function(l){return U3(a,l)}};return c},"PUBLIC")),e.registerVersion(t3,MU)}j3(Ce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $3="firebase_id",B3="origin",H3=60*1e3,W3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",XU="https://www.googletagmanager.com/gtag/js",kn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(kn||(kn={}));var pE;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(pE||(pE={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(e,t,n,r,i){return B(this,void 0,void 0,function(){var s,a;return $(this,function(c){switch(c.label){case 0:return i&&i.global?(e(kn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=c.sent(),a=tn(tn({},r),{send_to:s}),e(kn.EVENT,n,a),c.label=3;case 3:return[2]}})})}function G3(e,t,n,r){return B(this,void 0,void 0,function(){var i;return $(this,function(s){switch(s.label){case 0:return r&&r.global?(e(kn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(kn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function K3(e,t,n,r){return B(this,void 0,void 0,function(){var i;return $(this,function(s){switch(s.label){case 0:return r&&r.global?(e(kn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(kn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function Y3(e,t,n,r){return B(this,void 0,void 0,function(){var i,s,a,c,l;return $(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)c=a[s],i["user_properties."+c]=n[c];return e(kn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:l=h.sent(),e(kn.CONFIG,l,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function z3(e,t){return B(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn=new om("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(e,t){var n=document.createElement("script");n.src=XU+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function X3(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function J3(e,t,n,r,i,s){return B(this,void 0,void 0,function(){var a,c,l,h;return $(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),l=c.find(function(v){return v.measurementId===i}),l?[4,t[l.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),vn.error(h),[3,8];case 8:return e(kn.CONFIG,i,s),[2]}})})}function Z3(e,t,n,r,i){return B(this,void 0,void 0,function(){var s,a,c,l,h,d,v,m,y;return $(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=b.sent(),l=function(E){var T=c.find(function(L){return L.measurementId===E}),N=T&&t[T.appId];if(N)s.push(N);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],m=l(v),m!=="break");h++);b.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return b.sent(),e(kn.EVENT,r,i||{}),[3,5];case 4:return y=b.sent(),vn.error(y),[3,5];case 5:return[2]}})})}function eZ(e,t,n,r){function i(s,a,c){return B(this,void 0,void 0,function(){var l;return $(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==kn.EVENT?[3,2]:[4,Z3(e,t,n,a,c)];case 1:return h.sent(),[3,5];case 2:return s!==kn.CONFIG?[3,4]:[4,J3(e,t,n,r,a,c)];case 3:return h.sent(),[3,5];case 4:e(kn.SET,a),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),vn.error(l),[3,7];case 7:return[2]}})})}return i}function tZ(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=eZ(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function nZ(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(XU))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri,rZ=(ri={},ri["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ri["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ri["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ri["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ri["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ri["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ri["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ri["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ri["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ri),Br=new fh("analytics","Analytics",rZ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iZ=30,oZ=1e3,sZ=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=oZ),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),JU=new sZ;function aZ(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function uZ(e){var t;return B(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return $(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:aZ(r)},s=W3.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];c="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return l=h.sent(),!((t=l.error)===null||t===void 0)&&t.message&&(c=l.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Br.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c});case 6:return[2,a.json()]}})})}function cZ(e,t,n){return t===void 0&&(t=JU),B(this,void 0,void 0,function(){var r,i,s,a,c,l,h=this;return $(this,function(d){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Br.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Br.create("no-api-key")}return c=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new hZ,setTimeout(function(){return B(h,void 0,void 0,function(){return $(this,function(v){return l.abort(),[2]})})},H3),[2,ZU({appId:i,apiKey:s,measurementId:a},c,l,t)]})})}function ZU(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=JU),B(this,void 0,void 0,function(){var a,c,l,h,d,v,m;return $(this,function(y){switch(y.label){case 0:a=e.appId,c=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,lZ(n,i)];case 2:return y.sent(),[3,4];case 3:if(l=y.sent(),c)return vn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]")),[2,{appId:a,measurementId:c}];throw l;case 4:return y.trys.push([4,6,,7]),[4,uZ(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!fZ(d)){if(r.deleteThrottleMetadata(a),c)return vn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:c}];throw d}return v=Number(d.customData.httpStatus)===503?bO(s,r.intervalMillis,iZ):bO(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),vn.debug("Calling attemptFetch again in "+v+" millis"),[2,ZU(e,m,n,r)];case 7:return[2]}})})}function lZ(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Br.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function fZ(e){if(!(e instanceof rm)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var hZ=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(){return B(this,void 0,void 0,function(){var e;return $(this,function(t){switch(t.label){case 0:return BL()?[3,1]:(vn.warn(Br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,HL()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),vn.warn(Br.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function pZ(e,t,n,r,i,s){return B(this,void 0,void 0,function(){var a,c,l,h,d,v,m;return $(this,function(y){switch(y.label){case 0:return a=cZ(e),a.then(function(b){n[b.measurementId]=b.appId,e.options.measurementId&&b.measurementId!==e.options.measurementId&&vn.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+b.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(b){return vn.error(b)}),t.push(a),c=dZ().then(function(b){if(b)return r.getId()}),[4,Promise.all([a,c])];case 1:return l=y.sent(),h=l[0],d=l[1],nZ()||Q3(s,h.measurementId),i("js",new Date),v=(m={},m[B3]="firebase",m.update=!0,m),d!=null&&(v[$3]=d),i(kn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro={},Vk=[],jk={},Pp="dataLayer",eV="gtag",$k,Xl,vE=!1;function vZ(e){if(vE)throw Br.create("already-initialized");e.dataLayerName&&(Pp=e.dataLayerName),e.gtagName&&(eV=e.gtagName)}function mZ(){var e=[];if(sT()&&e.push("This is a browser extension environment."),WL()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Br.create("invalid-analytics-context",{errorInfo:t});vn.warn(n.message)}}function gZ(e,t){mZ();var n=e.options.appId;if(!n)throw Br.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)vn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Br.create("no-api-key");if(ro[n]!=null)throw Br.create("already-exists",{id:n});if(!vE){X3(Pp);var r=tZ(ro,Vk,jk,Pp,eV),i=r.wrappedGtag,s=r.gtagCore;Xl=i,$k=s,vE=!0}ro[n]=pZ(e,Vk,jk,t,$k,Pp);var a={app:e,logEvent:function(c,l,h){q3(Xl,ro[n],c,l,h).catch(function(d){return vn.error(d)})},setCurrentScreen:function(c,l){G3(Xl,ro[n],c,l).catch(function(h){return vn.error(h)})},setUserId:function(c,l){K3(Xl,ro[n],c,l).catch(function(h){return vn.error(h)})},setUserProperties:function(c,l){Y3(Xl,ro[n],c,l).catch(function(h){return vn.error(h)})},setAnalyticsCollectionEnabled:function(c){z3(ro[n],c).catch(function(l){return vn.error(l)})},INTERNAL:{delete:function(){return delete ro[n],Promise.resolve()}}};return a}var yZ="@firebase/analytics",_Z="0.6.18",Bk="analytics";function bZ(e){e.INTERNAL.registerComponent(new Bi(Bk,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return gZ(r,i)},"PUBLIC").setServiceProps({settings:vZ,EventName:pE,isSupported:wZ})),e.INTERNAL.registerComponent(new Bi("analytics-internal",t,"PRIVATE")),e.registerVersion(yZ,_Z);function t(n){try{var r=n.getProvider(Bk).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Br.create("interop-component-reg-failed",{reason:i})}}}bZ(Ce);function wZ(){return B(this,void 0,void 0,function(){var e;return $(this,function(t){switch(t.label){case 0:if(sT())return[2,!1];if(!WL())return[2,!1];if(!BL())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,HL()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}var zn="top",Or="bottom",Rr="right",Qn="left",fg="auto",tl=[zn,Or,Rr,Qn],Va="start",Nc="end",tV="clippingParents",pI="viewport",Uu="popper",nV="reference",mE=tl.reduce(function(e,t){return e.concat([t+"-"+Va,t+"-"+Nc])},[]),vI=[].concat(tl,[fg]).reduce(function(e,t){return e.concat([t,t+"-"+Va,t+"-"+Nc])},[]),rV="beforeRead",iV="read",oV="afterRead",sV="beforeMain",aV="main",uV="afterMain",cV="beforeWrite",lV="write",fV="afterWrite",hV=[rV,iV,oV,sV,aV,uV,cV,lV,fV];function Yi(e){return e?(e.nodeName||"").toLowerCase():null}function kr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ja(e){var t=kr(e).Element;return e instanceof t||e instanceof Element}function Hr(e){var t=kr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function mI(e){if(typeof ShadowRoot>"u")return!1;var t=kr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function EZ(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!Hr(s)||!Yi(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var c=i[a];c===!1?s.removeAttribute(a):s.setAttribute(a,c===!0?"":c)}))})}function TZ(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=a.reduce(function(l,h){return l[h]="",l},{});!Hr(i)||!Yi(i)||(Object.assign(i.style,c),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const gI={name:"applyStyles",enabled:!0,phase:"write",fn:EZ,effect:TZ,requires:["computeStyles"]};function Vi(e){return e.split("-")[0]}var Sa=Math.max,Pv=Math.min,Oc=Math.round;function gE(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function dV(){return!/^((?!chrome|android).)*safari/i.test(gE())}function Rc(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&Hr(e)&&(i=e.offsetWidth>0&&Oc(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Oc(r.height)/e.offsetHeight||1);var a=ja(e)?kr(e):window,c=a.visualViewport,l=!dV()&&n,h=(r.left+(l&&c?c.offsetLeft:0))/i,d=(r.top+(l&&c?c.offsetTop:0))/s,v=r.width/i,m=r.height/s;return{width:v,height:m,top:d,right:h+v,bottom:d+m,left:h,x:h,y:d}}function yI(e){var t=Rc(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function pV(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&mI(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function To(e){return kr(e).getComputedStyle(e)}function IZ(e){return["table","td","th"].indexOf(Yi(e))>=0}function As(e){return((ja(e)?e.ownerDocument:e.document)||window.document).documentElement}function hg(e){return Yi(e)==="html"?e:e.assignedSlot||e.parentNode||(mI(e)?e.host:null)||As(e)}function Hk(e){return!Hr(e)||To(e).position==="fixed"?null:e.offsetParent}function SZ(e){var t=/firefox/i.test(gE()),n=/Trident/i.test(gE());if(n&&Hr(e)){var r=To(e);if(r.position==="fixed")return null}var i=hg(e);for(mI(i)&&(i=i.host);Hr(i)&&["html","body"].indexOf(Yi(i))<0;){var s=To(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function jh(e){for(var t=kr(e),n=Hk(e);n&&IZ(n)&&To(n).position==="static";)n=Hk(n);return n&&(Yi(n)==="html"||Yi(n)==="body"&&To(n).position==="static")?t:n||SZ(e)||t}function _I(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Tf(e,t,n){return Sa(e,Pv(t,n))}function AZ(e,t,n){var r=Tf(e,t,n);return r>n?n:r}function vV(){return{top:0,right:0,bottom:0,left:0}}function mV(e){return Object.assign({},vV(),e)}function gV(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var CZ=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,mV(typeof t!="number"?t:gV(t,tl))};function NZ(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,c=Vi(n.placement),l=_I(c),h=[Qn,Rr].indexOf(c)>=0,d=h?"height":"width";if(!(!s||!a)){var v=CZ(i.padding,n),m=yI(s),y=l==="y"?zn:Qn,b=l==="y"?Or:Rr,E=n.rects.reference[d]+n.rects.reference[l]-a[l]-n.rects.popper[d],T=a[l]-n.rects.reference[l],N=jh(s),L=N?l==="y"?N.clientHeight||0:N.clientWidth||0:0,A=E/2-T/2,D=v[y],F=L-m[d]-v[b],R=L/2-m[d]/2+A,j=Tf(D,R,F),H=l;n.modifiersData[r]=(t={},t[H]=j,t.centerOffset=j-R,t)}}function OZ(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||pV(t.elements.popper,i)&&(t.elements.arrow=i))}const yV={name:"arrow",enabled:!0,phase:"main",fn:NZ,effect:OZ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kc(e){return e.split("-")[1]}var RZ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kZ(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Oc(n*i)/i||0,y:Oc(r*i)/i||0}}function Wk(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,a=e.offsets,c=e.position,l=e.gpuAcceleration,h=e.adaptive,d=e.roundOffsets,v=e.isFixed,m=a.x,y=m===void 0?0:m,b=a.y,E=b===void 0?0:b,T=typeof d=="function"?d({x:y,y:E}):{x:y,y:E};y=T.x,E=T.y;var N=a.hasOwnProperty("x"),L=a.hasOwnProperty("y"),A=Qn,D=zn,F=window;if(h){var R=jh(n),j="clientHeight",H="clientWidth";if(R===kr(n)&&(R=As(n),To(R).position!=="static"&&c==="absolute"&&(j="scrollHeight",H="scrollWidth")),R=R,i===zn||(i===Qn||i===Rr)&&s===Nc){D=Or;var Q=v&&R===F&&F.visualViewport?F.visualViewport.height:R[j];E-=Q-r.height,E*=l?1:-1}if(i===Qn||(i===zn||i===Or)&&s===Nc){A=Rr;var P=v&&R===F&&F.visualViewport?F.visualViewport.width:R[H];y-=P-r.width,y*=l?1:-1}}var De=Object.assign({position:c},h&&RZ),ge=d===!0?kZ({x:y,y:E},kr(n)):{x:y,y:E};if(y=ge.x,E=ge.y,l){var Pe;return Object.assign({},De,(Pe={},Pe[D]=L?"0":"",Pe[A]=N?"0":"",Pe.transform=(F.devicePixelRatio||1)<=1?"translate("+y+"px, "+E+"px)":"translate3d("+y+"px, "+E+"px, 0)",Pe))}return Object.assign({},De,(t={},t[D]=L?E+"px":"",t[A]=N?y+"px":"",t.transform="",t))}function DZ(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,c=n.roundOffsets,l=c===void 0?!0:c,h={placement:Vi(t.placement),variation:kc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Wk(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Wk(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const bI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:DZ,data:{}};var hp={passive:!0};function PZ(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,c=a===void 0?!0:a,l=kr(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&h.forEach(function(d){d.addEventListener("scroll",n.update,hp)}),c&&l.addEventListener("resize",n.update,hp),function(){s&&h.forEach(function(d){d.removeEventListener("scroll",n.update,hp)}),c&&l.removeEventListener("resize",n.update,hp)}}const wI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:PZ,data:{}};var LZ={left:"right",right:"left",bottom:"top",top:"bottom"};function Lp(e){return e.replace(/left|right|bottom|top/g,function(t){return LZ[t]})}var xZ={start:"end",end:"start"};function qk(e){return e.replace(/start|end/g,function(t){return xZ[t]})}function EI(e){var t=kr(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function TI(e){return Rc(As(e)).left+EI(e).scrollLeft}function MZ(e,t){var n=kr(e),r=As(e),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,c=0,l=0;if(i){s=i.width,a=i.height;var h=dV();(h||!h&&t==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:c+TI(e),y:l}}function FZ(e){var t,n=As(e),r=EI(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Sa(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Sa(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+TI(e),l=-r.scrollTop;return To(i||n).direction==="rtl"&&(c+=Sa(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:c,y:l}}function II(e){var t=To(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function _V(e){return["html","body","#document"].indexOf(Yi(e))>=0?e.ownerDocument.body:Hr(e)&&II(e)?e:_V(hg(e))}function If(e,t){var n;t===void 0&&(t=[]);var r=_V(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=kr(r),a=i?[s].concat(s.visualViewport||[],II(r)?r:[]):r,c=t.concat(a);return i?c:c.concat(If(hg(a)))}function yE(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function UZ(e,t){var n=Rc(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Gk(e,t,n){return t===pI?yE(MZ(e,n)):ja(t)?UZ(t,n):yE(FZ(As(e)))}function VZ(e){var t=If(hg(e)),n=["absolute","fixed"].indexOf(To(e).position)>=0,r=n&&Hr(e)?jh(e):e;return ja(r)?t.filter(function(i){return ja(i)&&pV(i,r)&&Yi(i)!=="body"}):[]}function jZ(e,t,n,r){var i=t==="clippingParents"?VZ(e):[].concat(t),s=[].concat(i,[n]),a=s[0],c=s.reduce(function(l,h){var d=Gk(e,h,r);return l.top=Sa(d.top,l.top),l.right=Pv(d.right,l.right),l.bottom=Pv(d.bottom,l.bottom),l.left=Sa(d.left,l.left),l},Gk(e,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function bV(e){var t=e.reference,n=e.element,r=e.placement,i=r?Vi(r):null,s=r?kc(r):null,a=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,l;switch(i){case zn:l={x:a,y:t.y-n.height};break;case Or:l={x:a,y:t.y+t.height};break;case Rr:l={x:t.x+t.width,y:c};break;case Qn:l={x:t.x-n.width,y:c};break;default:l={x:t.x,y:t.y}}var h=i?_I(i):null;if(h!=null){var d=h==="y"?"height":"width";switch(s){case Va:l[h]=l[h]-(t[d]/2-n[d]/2);break;case Nc:l[h]=l[h]+(t[d]/2-n[d]/2);break}}return l}function Dc(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,a=s===void 0?e.strategy:s,c=n.boundary,l=c===void 0?tV:c,h=n.rootBoundary,d=h===void 0?pI:h,v=n.elementContext,m=v===void 0?Uu:v,y=n.altBoundary,b=y===void 0?!1:y,E=n.padding,T=E===void 0?0:E,N=mV(typeof T!="number"?T:gV(T,tl)),L=m===Uu?nV:Uu,A=e.rects.popper,D=e.elements[b?L:m],F=jZ(ja(D)?D:D.contextElement||As(e.elements.popper),l,d,a),R=Rc(e.elements.reference),j=bV({reference:R,element:A,strategy:"absolute",placement:i}),H=yE(Object.assign({},A,j)),Q=m===Uu?H:R,P={top:F.top-Q.top+N.top,bottom:Q.bottom-F.bottom+N.bottom,left:F.left-Q.left+N.left,right:Q.right-F.right+N.right},De=e.modifiersData.offset;if(m===Uu&&De){var ge=De[i];Object.keys(P).forEach(function(Pe){var kt=[Rr,Or].indexOf(Pe)>=0?1:-1,gt=[zn,Or].indexOf(Pe)>=0?"y":"x";P[Pe]+=ge[gt]*kt})}return P}function $Z(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,c=n.flipVariations,l=n.allowedAutoPlacements,h=l===void 0?vI:l,d=kc(r),v=d?c?mE:mE.filter(function(b){return kc(b)===d}):tl,m=v.filter(function(b){return h.indexOf(b)>=0});m.length===0&&(m=v);var y=m.reduce(function(b,E){return b[E]=Dc(e,{placement:E,boundary:i,rootBoundary:s,padding:a})[Vi(E)],b},{});return Object.keys(y).sort(function(b,E){return y[b]-y[E]})}function BZ(e){if(Vi(e)===fg)return[];var t=Lp(e);return[qk(e),t,qk(t)]}function HZ(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,c=a===void 0?!0:a,l=n.fallbackPlacements,h=n.padding,d=n.boundary,v=n.rootBoundary,m=n.altBoundary,y=n.flipVariations,b=y===void 0?!0:y,E=n.allowedAutoPlacements,T=t.options.placement,N=Vi(T),L=N===T,A=l||(L||!b?[Lp(T)]:BZ(T)),D=[T].concat(A).reduce(function(Dt,Vt){return Dt.concat(Vi(Vt)===fg?$Z(t,{placement:Vt,boundary:d,rootBoundary:v,padding:h,flipVariations:b,allowedAutoPlacements:E}):Vt)},[]),F=t.rects.reference,R=t.rects.popper,j=new Map,H=!0,Q=D[0],P=0;P<D.length;P++){var De=D[P],ge=Vi(De),Pe=kc(De)===Va,kt=[zn,Or].indexOf(ge)>=0,gt=kt?"width":"height",Se=Dc(t,{placement:De,boundary:d,rootBoundary:v,altBoundary:m,padding:h}),Ae=kt?Pe?Rr:Qn:Pe?Or:zn;F[gt]>R[gt]&&(Ae=Lp(Ae));var we=Lp(Ae),vt=[];if(s&&vt.push(Se[ge]<=0),c&&vt.push(Se[Ae]<=0,Se[we]<=0),vt.every(function(Dt){return Dt})){Q=De,H=!1;break}j.set(De,vt)}if(H)for(var yt=b?3:1,st=function(Vt){var dt=D.find(function(Y){var ee=j.get(Y);if(ee)return ee.slice(0,Vt).every(function(ae){return ae})});if(dt)return Q=dt,"break"},nt=yt;nt>0;nt--){var Wt=st(nt);if(Wt==="break")break}t.placement!==Q&&(t.modifiersData[r]._skip=!0,t.placement=Q,t.reset=!0)}}const wV={name:"flip",enabled:!0,phase:"main",fn:HZ,requiresIfExists:["offset"],data:{_skip:!1}};function Kk(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Yk(e){return[zn,Rr,Or,Qn].some(function(t){return e[t]>=0})}function WZ(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,a=Dc(t,{elementContext:"reference"}),c=Dc(t,{altBoundary:!0}),l=Kk(a,r),h=Kk(c,i,s),d=Yk(l),v=Yk(h);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:v},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":v})}const EV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:WZ};function qZ(e,t,n){var r=Vi(e),i=[Qn,zn].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=s[0],c=s[1];return a=a||0,c=(c||0)*i,[Qn,Rr].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function GZ(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,a=vI.reduce(function(d,v){return d[v]=qZ(v,t.rects,s),d},{}),c=a[t.placement],l=c.x,h=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=a}const TV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:GZ};function KZ(e){var t=e.state,n=e.name;t.modifiersData[n]=bV({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const SI={name:"popperOffsets",enabled:!0,phase:"read",fn:KZ,data:{}};function YZ(e){return e==="x"?"y":"x"}function zZ(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,c=a===void 0?!1:a,l=n.boundary,h=n.rootBoundary,d=n.altBoundary,v=n.padding,m=n.tether,y=m===void 0?!0:m,b=n.tetherOffset,E=b===void 0?0:b,T=Dc(t,{boundary:l,rootBoundary:h,padding:v,altBoundary:d}),N=Vi(t.placement),L=kc(t.placement),A=!L,D=_I(N),F=YZ(D),R=t.modifiersData.popperOffsets,j=t.rects.reference,H=t.rects.popper,Q=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,P=typeof Q=="number"?{mainAxis:Q,altAxis:Q}:Object.assign({mainAxis:0,altAxis:0},Q),De=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ge={x:0,y:0};if(R){if(s){var Pe,kt=D==="y"?zn:Qn,gt=D==="y"?Or:Rr,Se=D==="y"?"height":"width",Ae=R[D],we=Ae+T[kt],vt=Ae-T[gt],yt=y?-H[Se]/2:0,st=L===Va?j[Se]:H[Se],nt=L===Va?-H[Se]:-j[Se],Wt=t.elements.arrow,Dt=y&&Wt?yI(Wt):{width:0,height:0},Vt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:vV(),dt=Vt[kt],Y=Vt[gt],ee=Tf(0,j[Se],Dt[Se]),ae=A?j[Se]/2-yt-ee-dt-P.mainAxis:st-ee-dt-P.mainAxis,he=A?-j[Se]/2+yt+ee+Y+P.mainAxis:nt+ee+Y+P.mainAxis,Me=t.elements.arrow&&jh(t.elements.arrow),Qe=Me?D==="y"?Me.clientTop||0:Me.clientLeft||0:0,O=(Pe=De==null?void 0:De[D])!=null?Pe:0,I=Ae+ae-O-Qe,M=Ae+he-O,z=Tf(y?Pv(we,I):we,Ae,y?Sa(vt,M):vt);R[D]=z,ge[D]=z-Ae}if(c){var q,X=D==="x"?zn:Qn,ue=D==="x"?Or:Rr,S=R[F],C=F==="y"?"height":"width",x=S+T[X],K=S-T[ue],oe=[zn,Qn].indexOf(N)!==-1,J=(q=De==null?void 0:De[F])!=null?q:0,U=oe?x:S-j[C]-H[C]-J+P.altAxis,V=oe?S+j[C]+H[C]-J-P.altAxis:K,me=y&&oe?AZ(U,S,V):Tf(y?U:x,S,y?V:K);R[F]=me,ge[F]=me-S}t.modifiersData[r]=ge}}const IV={name:"preventOverflow",enabled:!0,phase:"main",fn:zZ,requiresIfExists:["offset"]};function QZ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function XZ(e){return e===kr(e)||!Hr(e)?EI(e):QZ(e)}function JZ(e){var t=e.getBoundingClientRect(),n=Oc(t.width)/e.offsetWidth||1,r=Oc(t.height)/e.offsetHeight||1;return n!==1||r!==1}function ZZ(e,t,n){n===void 0&&(n=!1);var r=Hr(t),i=Hr(t)&&JZ(t),s=As(t),a=Rc(e,i,n),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Yi(t)!=="body"||II(s))&&(c=XZ(t)),Hr(t)?(l=Rc(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=TI(s))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function e2(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(c){if(!n.has(c)){var l=t.get(c);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function t2(e){var t=e2(e);return hV.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function n2(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function r2(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var zk={placement:"bottom",modifiers:[],strategy:"absolute"};function Qk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function dg(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?zk:i;return function(c,l,h){h===void 0&&(h=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},zk,s),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},v=[],m=!1,y={state:d,setOptions:function(N){var L=typeof N=="function"?N(d.options):N;E(),d.options=Object.assign({},s,d.options,L),d.scrollParents={reference:ja(c)?If(c):c.contextElement?If(c.contextElement):[],popper:If(l)};var A=t2(r2([].concat(r,d.options.modifiers)));return d.orderedModifiers=A.filter(function(D){return D.enabled}),b(),y.update()},forceUpdate:function(){if(!m){var N=d.elements,L=N.reference,A=N.popper;if(Qk(L,A)){d.rects={reference:ZZ(L,jh(A),d.options.strategy==="fixed"),popper:yI(A)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(P){return d.modifiersData[P.name]=Object.assign({},P.data)});for(var D=0;D<d.orderedModifiers.length;D++){if(d.reset===!0){d.reset=!1,D=-1;continue}var F=d.orderedModifiers[D],R=F.fn,j=F.options,H=j===void 0?{}:j,Q=F.name;typeof R=="function"&&(d=R({state:d,options:H,name:Q,instance:y})||d)}}}},update:n2(function(){return new Promise(function(T){y.forceUpdate(),T(d)})}),destroy:function(){E(),m=!0}};if(!Qk(c,l))return y;y.setOptions(h).then(function(T){!m&&h.onFirstUpdate&&h.onFirstUpdate(T)});function b(){d.orderedModifiers.forEach(function(T){var N=T.name,L=T.options,A=L===void 0?{}:L,D=T.effect;if(typeof D=="function"){var F=D({state:d,name:N,instance:y,options:A}),R=function(){};v.push(F||R)}})}function E(){v.forEach(function(T){return T()}),v=[]}return y}}var i2=dg(),o2=[wI,SI,bI,gI],s2=dg({defaultModifiers:o2}),a2=[wI,SI,bI,gI,TV,wV,IV,yV,EV],AI=dg({defaultModifiers:a2});const SV=Object.freeze(Object.defineProperty({__proto__:null,afterMain:uV,afterRead:oV,afterWrite:fV,applyStyles:gI,arrow:yV,auto:fg,basePlacements:tl,beforeMain:sV,beforeRead:rV,beforeWrite:cV,bottom:Or,clippingParents:tV,computeStyles:bI,createPopper:AI,createPopperBase:i2,createPopperLite:s2,detectOverflow:Dc,end:Nc,eventListeners:wI,flip:wV,hide:EV,left:Qn,main:aV,modifierPhases:hV,offset:TV,placements:vI,popper:Uu,popperGenerator:dg,popperOffsets:SI,preventOverflow:IV,read:iV,reference:nV,right:Rr,start:Va,top:zn,variationPlacements:mE,viewport:pI,write:lV},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Bo=new Map,Mb={set(e,t,n){Bo.has(e)||Bo.set(e,new Map);const r=Bo.get(e);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,n)},get(e,t){return Bo.has(e)&&Bo.get(e).get(t)||null},remove(e,t){if(!Bo.has(e))return;const n=Bo.get(e);n.delete(t),n.size===0&&Bo.delete(e)}},u2=1e6,c2=1e3,_E="transitionend",AV=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),l2=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),f2=e=>{do e+=Math.floor(Math.random()*u2);while(document.getElementById(e));return e},h2=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return!r&&!i?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*c2)},CV=e=>{e.dispatchEvent(new Event(_E))},yo=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),ds=e=>yo(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(AV(e)):null,nl=e=>{if(!yo(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const r=e.closest("summary");if(r&&r.parentNode!==n||r===null)return!1}return t},ps=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",NV=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?NV(e.parentNode):null},Lv=()=>{},$h=e=>{e.offsetHeight},OV=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Fb=[],d2=e=>{document.readyState==="loading"?(Fb.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Fb)t()}),Fb.push(e)):e()},qr=()=>document.documentElement.dir==="rtl",Yr=e=>{d2(()=>{const t=OV();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}})},or=(e,t=[],n=e)=>typeof e=="function"?e(...t):n,RV=(e,t,n=!0)=>{if(!n){or(e);return}const i=h2(t)+5;let s=!1;const a=({target:c})=>{c===t&&(s=!0,t.removeEventListener(_E,a),or(e))};t.addEventListener(_E,a),setTimeout(()=>{s||CV(t)},i)},CI=(e,t,n,r)=>{const i=e.length;let s=e.indexOf(t);return s===-1?!n&&r?e[i-1]:e[0]:(s+=n?1:-1,r&&(s=(s+i)%i),e[Math.max(0,Math.min(s,i-1))])},p2=/[^.]*(?=\..*)\.|.*/,v2=/\..*/,m2=/::\d+$/,Ub={};let Xk=1;const kV={mouseenter:"mouseover",mouseleave:"mouseout"},g2=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function DV(e,t){return t&&`${t}::${Xk++}`||e.uidEvent||Xk++}function PV(e){const t=DV(e);return e.uidEvent=t,Ub[t]=Ub[t]||{},Ub[t]}function y2(e,t){return function n(r){return NI(r,{delegateTarget:e}),n.oneOff&&ne.off(e,r.type,t),t.apply(e,[r])}}function _2(e,t,n){return function r(i){const s=e.querySelectorAll(t);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const c of s)if(c===a)return NI(i,{delegateTarget:a}),r.oneOff&&ne.off(e,i.type,t,n),n.apply(a,[i])}}function LV(e,t,n=null){return Object.values(e).find(r=>r.callable===t&&r.delegationSelector===n)}function xV(e,t,n){const r=typeof t=="string",i=r?n:t||n;let s=MV(e);return g2.has(s)||(s=e),[r,i,s]}function Jk(e,t,n,r,i){if(typeof t!="string"||!e)return;let[s,a,c]=xV(t,n,r);t in kV&&(a=(b=>function(E){if(!E.relatedTarget||E.relatedTarget!==E.delegateTarget&&!E.delegateTarget.contains(E.relatedTarget))return b.call(this,E)})(a));const l=PV(e),h=l[c]||(l[c]={}),d=LV(h,a,s?n:null);if(d){d.oneOff=d.oneOff&&i;return}const v=DV(a,t.replace(p2,"")),m=s?_2(e,n,a):y2(e,a);m.delegationSelector=s?n:null,m.callable=a,m.oneOff=i,m.uidEvent=v,h[v]=m,e.addEventListener(c,m,s)}function bE(e,t,n,r,i){const s=LV(t[n],r,i);s&&(e.removeEventListener(n,s,!!i),delete t[n][s.uidEvent])}function b2(e,t,n,r){const i=t[n]||{};for(const[s,a]of Object.entries(i))s.includes(r)&&bE(e,t,n,a.callable,a.delegationSelector)}function MV(e){return e=e.replace(v2,""),kV[e]||e}const ne={on(e,t,n,r){Jk(e,t,n,r,!1)},one(e,t,n,r){Jk(e,t,n,r,!0)},off(e,t,n,r){if(typeof t!="string"||!e)return;const[i,s,a]=xV(t,n,r),c=a!==t,l=PV(e),h=l[a]||{},d=t.startsWith(".");if(typeof s<"u"){if(!Object.keys(h).length)return;bE(e,l,a,s,i?n:null);return}if(d)for(const v of Object.keys(l))b2(e,l,v,t.slice(1));for(const[v,m]of Object.entries(h)){const y=v.replace(m2,"");(!c||t.includes(y))&&bE(e,l,a,m.callable,m.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const r=OV(),i=MV(t),s=t!==i;let a=null,c=!0,l=!0,h=!1;s&&r&&(a=r.Event(t,n),r(e).trigger(a),c=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented());const d=NI(new Event(t,{bubbles:c,cancelable:!0}),n);return h&&d.preventDefault(),l&&e.dispatchEvent(d),d.defaultPrevented&&a&&a.preventDefault(),d}};function NI(e,t={}){for(const[n,r]of Object.entries(t))try{e[n]=r}catch{Object.defineProperty(e,n,{configurable:!0,get(){return r}})}return e}function Zk(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function Vb(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const _o={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${Vb(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Vb(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of n){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=Zk(e.dataset[r])}return t},getDataAttribute(e,t){return Zk(e.getAttribute(`data-bs-${Vb(t)}`))}};class Bh{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const r=yo(n)?_o.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...yo(n)?_o.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[r,i]of Object.entries(n)){const s=t[r],a=yo(s)?"element":l2(s);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}}}const w2="5.3.3";class bi extends Bh{constructor(t,n){super(),t=ds(t),t&&(this._element=t,this._config=this._getConfig(n),Mb.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Mb.remove(this._element,this.constructor.DATA_KEY),ne.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,r=!0){RV(t,n,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Mb.get(ds(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return w2}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const jb=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return t?t.split(",").map(n=>AV(n)).join(","):null},Te={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!ps(n)&&nl(n))},getSelectorFromElement(e){const t=jb(e);return t&&Te.findOne(t)?t:null},getElementFromSelector(e){const t=jb(e);return t?Te.findOne(t):null},getMultipleElementsFromSelector(e){const t=jb(e);return t?Te.find(t):[]}},pg=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;ne.on(document,n,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),ps(this))return;const s=Te.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(s)[t]()})},E2="alert",T2="bs.alert",FV=`.${T2}`,I2=`close${FV}`,S2=`closed${FV}`,A2="fade",C2="show";class vg extends bi{static get NAME(){return E2}close(){if(ne.trigger(this._element,I2).defaultPrevented)return;this._element.classList.remove(C2);const n=this._element.classList.contains(A2);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),ne.trigger(this._element,S2),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=vg.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}pg(vg,"close");Yr(vg);const N2="button",O2="bs.button",R2=`.${O2}`,k2=".data-api",D2="active",eD='[data-bs-toggle="button"]',P2=`click${R2}${k2}`;class mg extends bi{static get NAME(){return N2}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(D2))}static jQueryInterface(t){return this.each(function(){const n=mg.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}ne.on(document,P2,eD,e=>{e.preventDefault();const t=e.target.closest(eD);mg.getOrCreateInstance(t).toggle()});Yr(mg);const L2="swipe",rl=".bs.swipe",x2=`touchstart${rl}`,M2=`touchmove${rl}`,F2=`touchend${rl}`,U2=`pointerdown${rl}`,V2=`pointerup${rl}`,j2="touch",$2="pen",B2="pointer-event",H2=40,W2={endCallback:null,leftCallback:null,rightCallback:null},q2={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class xv extends Bh{constructor(t,n){super(),this._element=t,!(!t||!xv.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return W2}static get DefaultType(){return q2}static get NAME(){return L2}dispose(){ne.off(this._element,rl)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),or(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=H2)return;const n=t/this._deltaX;this._deltaX=0,n&&or(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ne.on(this._element,U2,t=>this._start(t)),ne.on(this._element,V2,t=>this._end(t)),this._element.classList.add(B2)):(ne.on(this._element,x2,t=>this._start(t)),ne.on(this._element,M2,t=>this._move(t)),ne.on(this._element,F2,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===$2||t.pointerType===j2)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const G2="carousel",K2="bs.carousel",Cs=`.${K2}`,UV=".data-api",Y2="ArrowLeft",z2="ArrowRight",Q2=500,Jl="next",Du="prev",Vu="left",xp="right",X2=`slide${Cs}`,$b=`slid${Cs}`,J2=`keydown${Cs}`,Z2=`mouseenter${Cs}`,eee=`mouseleave${Cs}`,tee=`dragstart${Cs}`,nee=`load${Cs}${UV}`,ree=`click${Cs}${UV}`,VV="carousel",dp="active",iee="slide",oee="carousel-item-end",see="carousel-item-start",aee="carousel-item-next",uee="carousel-item-prev",jV=".active",$V=".carousel-item",cee=jV+$V,lee=".carousel-item img",fee=".carousel-indicators",hee="[data-bs-slide], [data-bs-slide-to]",dee='[data-bs-ride="carousel"]',pee={[Y2]:xp,[z2]:Vu},vee={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},mee={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Hh extends bi{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Te.findOne(fee,this._element),this._addEventListeners(),this._config.ride===VV&&this.cycle()}static get Default(){return vee}static get DefaultType(){return mee}static get NAME(){return G2}next(){this._slide(Jl)}nextWhenVisible(){!document.hidden&&nl(this._element)&&this.next()}prev(){this._slide(Du)}pause(){this._isSliding&&CV(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ne.one(this._element,$b,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){ne.one(this._element,$b,()=>this.to(t));return}const r=this._getItemIndex(this._getActive());if(r===t)return;const i=t>r?Jl:Du;this._slide(i,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&ne.on(this._element,J2,t=>this._keydown(t)),this._config.pause==="hover"&&(ne.on(this._element,Z2,()=>this.pause()),ne.on(this._element,eee,()=>this._maybeEnableCycle())),this._config.touch&&xv.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of Te.find(lee,this._element))ne.on(r,tee,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(Vu)),rightCallback:()=>this._slide(this._directionToOrder(xp)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Q2+this._config.interval))}};this._swipeHelper=new xv(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=pee[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=Te.findOne(jV,this._indicatorsElement);n.classList.remove(dp),n.removeAttribute("aria-current");const r=Te.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add(dp),r.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const r=this._getActive(),i=t===Jl,s=n||CI(this._getItems(),r,i,this._config.wrap);if(s===r)return;const a=this._getItemIndex(s),c=y=>ne.trigger(this._element,y,{relatedTarget:s,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:a});if(c(X2).defaultPrevented||!r||!s)return;const h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;const d=i?see:oee,v=i?aee:uee;s.classList.add(v),$h(s),r.classList.add(d),s.classList.add(d);const m=()=>{s.classList.remove(d,v),s.classList.add(dp),r.classList.remove(dp,v,d),this._isSliding=!1,c($b)};this._queueCallback(m,r,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(iee)}_getActive(){return Te.findOne(cee,this._element)}_getItems(){return Te.find($V,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return qr()?t===Vu?Du:Jl:t===Vu?Jl:Du}_orderToDirection(t){return qr()?t===Du?Vu:xp:t===Du?xp:Vu}static jQueryInterface(t){return this.each(function(){const n=Hh.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ne.on(document,ree,hee,function(e){const t=Te.getElementFromSelector(this);if(!t||!t.classList.contains(VV))return;e.preventDefault();const n=Hh.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");if(r){n.to(r),n._maybeEnableCycle();return}if(_o.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});ne.on(window,nee,()=>{const e=Te.find(dee);for(const t of e)Hh.getOrCreateInstance(t)});Yr(Hh);const gee="collapse",yee="bs.collapse",Wh=`.${yee}`,_ee=".data-api",bee=`show${Wh}`,wee=`shown${Wh}`,Eee=`hide${Wh}`,Tee=`hidden${Wh}`,Iee=`click${Wh}${_ee}`,Bb="show",Wu="collapse",pp="collapsing",See="collapsed",Aee=`:scope .${Wu} .${Wu}`,Cee="collapse-horizontal",Nee="width",Oee="height",Ree=".collapse.show, .collapse.collapsing",wE='[data-bs-toggle="collapse"]',kee={parent:null,toggle:!0},Dee={parent:"(null|element)",toggle:"boolean"};class rh extends bi{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const r=Te.find(wE);for(const i of r){const s=Te.getSelectorFromElement(i),a=Te.find(s).filter(c=>c===this._element);s!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return kee}static get DefaultType(){return Dee}static get NAME(){return gee}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Ree).filter(c=>c!==this._element).map(c=>rh.getOrCreateInstance(c,{toggle:!1}))),t.length&&t[0]._isTransitioning||ne.trigger(this._element,bee).defaultPrevented)return;for(const c of t)c.hide();const r=this._getDimension();this._element.classList.remove(Wu),this._element.classList.add(pp),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(pp),this._element.classList.add(Wu,Bb),this._element.style[r]="",ne.trigger(this._element,wee)},a=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||ne.trigger(this._element,Eee).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,$h(this._element),this._element.classList.add(pp),this._element.classList.remove(Wu,Bb);for(const i of this._triggerArray){const s=Te.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(pp),this._element.classList.add(Wu),ne.trigger(this._element,Tee)};this._element.style[n]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Bb)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=ds(t.parent),t}_getDimension(){return this._element.classList.contains(Cee)?Nee:Oee}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(wE);for(const n of t){const r=Te.getElementFromSelector(n);r&&this._addAriaAndCollapsedClass([n],this._isShown(r))}}_getFirstLevelChildren(t){const n=Te.find(Aee,this._config.parent);return Te.find(t,this._config.parent).filter(r=>!n.includes(r))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const r of t)r.classList.toggle(See,!n),r.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const r=rh.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}ne.on(document,Iee,wE,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of Te.getMultipleElementsFromSelector(this))rh.getOrCreateInstance(t,{toggle:!1}).toggle()});Yr(rh);const tD="dropdown",Pee="bs.dropdown",tu=`.${Pee}`,OI=".data-api",Lee="Escape",nD="Tab",xee="ArrowUp",rD="ArrowDown",Mee=2,Fee=`hide${tu}`,Uee=`hidden${tu}`,Vee=`show${tu}`,jee=`shown${tu}`,BV=`click${tu}${OI}`,HV=`keydown${tu}${OI}`,$ee=`keyup${tu}${OI}`,ju="show",Bee="dropup",Hee="dropend",Wee="dropstart",qee="dropup-center",Gee="dropdown-center",va='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Kee=`${va}.${ju}`,Mp=".dropdown-menu",Yee=".navbar",zee=".navbar-nav",Qee=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Xee=qr()?"top-end":"top-start",Jee=qr()?"top-start":"top-end",Zee=qr()?"bottom-end":"bottom-start",ete=qr()?"bottom-start":"bottom-end",tte=qr()?"left-start":"right-start",nte=qr()?"right-start":"left-start",rte="top",ite="bottom",ote={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ste={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ji extends bi{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Te.next(this._element,Mp)[0]||Te.prev(this._element,Mp)[0]||Te.findOne(Mp,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ote}static get DefaultType(){return ste}static get NAME(){return tD}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ps(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!ne.trigger(this._element,Vee,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(zee))for(const r of[].concat(...document.body.children))ne.on(r,"mouseover",Lv);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ju),this._element.classList.add(ju),ne.trigger(this._element,jee,t)}}hide(){if(ps(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!ne.trigger(this._element,Fee,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))ne.off(r,"mouseover",Lv);this._popper&&this._popper.destroy(),this._menu.classList.remove(ju),this._element.classList.remove(ju),this._element.setAttribute("aria-expanded","false"),_o.removeDataAttribute(this._menu,"popper"),ne.trigger(this._element,Uee,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!yo(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${tD.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof SV>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:yo(this._config.reference)?t=ds(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=AI(t,this._menu,n)}_isShown(){return this._menu.classList.contains(ju)}_getPlacement(){const t=this._parent;if(t.classList.contains(Hee))return tte;if(t.classList.contains(Wee))return nte;if(t.classList.contains(qee))return rte;if(t.classList.contains(Gee))return ite;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Bee)?n?Jee:Xee:n?ete:Zee}_detectNavbar(){return this._element.closest(Yee)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(_o.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...or(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const r=Te.find(Qee,this._menu).filter(i=>nl(i));r.length&&CI(r,n,t===rD,!r.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=ji.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===Mee||t.type==="keyup"&&t.key!==nD)return;const n=Te.find(Kee);for(const r of n){const i=ji.getInstance(r);if(!i||i._config.autoClose===!1)continue;const s=t.composedPath(),a=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(t.target)&&(t.type==="keyup"&&t.key===nD||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const c={relatedTarget:i._element};t.type==="click"&&(c.clickEvent=t),i._completeHide(c)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),r=t.key===Lee,i=[xee,rD].includes(t.key);if(!i&&!r||n&&!r)return;t.preventDefault();const s=this.matches(va)?this:Te.prev(this,va)[0]||Te.next(this,va)[0]||Te.findOne(va,t.delegateTarget.parentNode),a=ji.getOrCreateInstance(s);if(i){t.stopPropagation(),a.show(),a._selectMenuItem(t);return}a._isShown()&&(t.stopPropagation(),a.hide(),s.focus())}}ne.on(document,HV,va,ji.dataApiKeydownHandler);ne.on(document,HV,Mp,ji.dataApiKeydownHandler);ne.on(document,BV,ji.clearMenus);ne.on(document,$ee,ji.clearMenus);ne.on(document,BV,va,function(e){e.preventDefault(),ji.getOrCreateInstance(this).toggle()});Yr(ji);const WV="backdrop",ate="fade",iD="show",oD=`mousedown.bs.${WV}`,ute={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},cte={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class qV extends Bh{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return ute}static get DefaultType(){return cte}static get NAME(){return WV}show(t){if(!this._config.isVisible){or(t);return}this._append();const n=this._getElement();this._config.isAnimated&&$h(n),n.classList.add(iD),this._emulateAnimation(()=>{or(t)})}hide(t){if(!this._config.isVisible){or(t);return}this._getElement().classList.remove(iD),this._emulateAnimation(()=>{this.dispose(),or(t)})}dispose(){this._isAppended&&(ne.off(this._element,oD),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(ate),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=ds(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),ne.on(t,oD,()=>{or(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){RV(t,this._getElement(),this._config.isAnimated)}}const lte="focustrap",fte="bs.focustrap",Mv=`.${fte}`,hte=`focusin${Mv}`,dte=`keydown.tab${Mv}`,pte="Tab",vte="forward",sD="backward",mte={autofocus:!0,trapElement:null},gte={autofocus:"boolean",trapElement:"element"};class GV extends Bh{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return mte}static get DefaultType(){return gte}static get NAME(){return lte}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ne.off(document,Mv),ne.on(document,hte,t=>this._handleFocusin(t)),ne.on(document,dte,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ne.off(document,Mv))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const r=Te.focusableChildren(n);r.length===0?n.focus():this._lastTabNavDirection===sD?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===pte&&(this._lastTabNavDirection=t.shiftKey?sD:vte)}}const aD=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",uD=".sticky-top",vp="padding-right",cD="margin-right";class EE{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,vp,n=>n+t),this._setElementAttributes(aD,vp,n=>n+t),this._setElementAttributes(uD,cD,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,vp),this._resetElementAttributes(aD,vp),this._resetElementAttributes(uD,cD)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,r){const i=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,n);const c=window.getComputedStyle(a).getPropertyValue(n);a.style.setProperty(n,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(t,s)}_saveInitialAttribute(t,n){const r=t.style.getPropertyValue(n);r&&_o.setDataAttribute(t,n,r)}_resetElementAttributes(t,n){const r=i=>{const s=_o.getDataAttribute(i,n);if(s===null){i.style.removeProperty(n);return}_o.removeDataAttribute(i,n),i.style.setProperty(n,s)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,n){if(yo(t)){n(t);return}for(const r of Te.find(t,this._element))n(r)}}const yte="modal",_te="bs.modal",Gr=`.${_te}`,bte=".data-api",wte="Escape",Ete=`hide${Gr}`,Tte=`hidePrevented${Gr}`,KV=`hidden${Gr}`,YV=`show${Gr}`,Ite=`shown${Gr}`,Ste=`resize${Gr}`,Ate=`click.dismiss${Gr}`,Cte=`mousedown.dismiss${Gr}`,Nte=`keydown.dismiss${Gr}`,Ote=`click${Gr}${bte}`,lD="modal-open",Rte="fade",fD="show",Hb="modal-static",kte=".modal.show",Dte=".modal-dialog",Pte=".modal-body",Lte='[data-bs-toggle="modal"]',xte={backdrop:!0,focus:!0,keyboard:!0},Mte={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Pc extends bi{constructor(t,n){super(t,n),this._dialog=Te.findOne(Dte,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new EE,this._addEventListeners()}static get Default(){return xte}static get DefaultType(){return Mte}static get NAME(){return yte}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||ne.trigger(this._element,YV,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(lD),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||ne.trigger(this._element,Ete).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(fD),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ne.off(window,Gr),ne.off(this._dialog,Gr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new qV({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new GV({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Te.findOne(Pte,this._dialog);n&&(n.scrollTop=0),$h(this._element),this._element.classList.add(fD);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ne.trigger(this._element,Ite,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){ne.on(this._element,Nte,t=>{if(t.key===wte){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ne.on(window,Ste,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ne.on(this._element,Cte,t=>{ne.one(this._element,Ate,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(lD),this._resetAdjustments(),this._scrollBar.reset(),ne.trigger(this._element,KV)})}_isAnimated(){return this._element.classList.contains(Rte)}_triggerBackdropTransition(){if(ne.trigger(this._element,Tte).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Hb)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(Hb),this._queueCallback(()=>{this._element.classList.remove(Hb),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),r=n>0;if(r&&!t){const i=qr()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!r&&t){const i=qr()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const r=Pc.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](n)}})}}ne.on(document,Ote,Lte,function(e){const t=Te.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),ne.one(t,YV,i=>{i.defaultPrevented||ne.one(t,KV,()=>{nl(this)&&this.focus()})});const n=Te.findOne(kte);n&&Pc.getInstance(n).hide(),Pc.getOrCreateInstance(t).toggle(this)});pg(Pc);Yr(Pc);const Fte="offcanvas",Ute="bs.offcanvas",Co=`.${Ute}`,zV=".data-api",Vte=`load${Co}${zV}`,jte="Escape",hD="show",dD="showing",pD="hiding",$te="offcanvas-backdrop",QV=".offcanvas.show",Bte=`show${Co}`,Hte=`shown${Co}`,Wte=`hide${Co}`,vD=`hidePrevented${Co}`,XV=`hidden${Co}`,qte=`resize${Co}`,Gte=`click${Co}${zV}`,Kte=`keydown.dismiss${Co}`,Yte='[data-bs-toggle="offcanvas"]',zte={backdrop:!0,keyboard:!0,scroll:!1},Qte={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class vs extends bi{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return zte}static get DefaultType(){return Qte}static get NAME(){return Fte}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||ne.trigger(this._element,Bte,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new EE().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(dD);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(hD),this._element.classList.remove(dD),ne.trigger(this._element,Hte,{relatedTarget:t})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||ne.trigger(this._element,Wte).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(pD),this._backdrop.hide();const n=()=>{this._element.classList.remove(hD,pD),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new EE().reset(),ne.trigger(this._element,XV)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){ne.trigger(this._element,vD);return}this.hide()},n=!!this._config.backdrop;return new qV({className:$te,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new GV({trapElement:this._element})}_addEventListeners(){ne.on(this._element,Kte,t=>{if(t.key===jte){if(this._config.keyboard){this.hide();return}ne.trigger(this._element,vD)}})}static jQueryInterface(t){return this.each(function(){const n=vs.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}ne.on(document,Gte,Yte,function(e){const t=Te.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),ps(this))return;ne.one(t,XV,()=>{nl(this)&&this.focus()});const n=Te.findOne(QV);n&&n!==t&&vs.getInstance(n).hide(),vs.getOrCreateInstance(t).toggle(this)});ne.on(window,Vte,()=>{for(const e of Te.find(QV))vs.getOrCreateInstance(e).show()});ne.on(window,qte,()=>{for(const e of Te.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&vs.getOrCreateInstance(e).hide()});pg(vs);Yr(vs);const Xte=/^aria-[\w-]*$/i,JV={"*":["class","dir","id","lang","role",Xte],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Jte=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Zte=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ene=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?Jte.has(n)?!!Zte.test(e.nodeValue):!0:t.filter(r=>r instanceof RegExp).some(r=>r.test(n))};function tne(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const i=new window.DOMParser().parseFromString(e,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(const a of s){const c=a.nodeName.toLowerCase();if(!Object.keys(t).includes(c)){a.remove();continue}const l=[].concat(...a.attributes),h=[].concat(t["*"]||[],t[c]||[]);for(const d of l)ene(d,h)||a.removeAttribute(d.nodeName)}return i.body.innerHTML}const nne="TemplateFactory",rne={allowList:JV,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ine={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},one={entry:"(string|element|function|null)",selector:"(string|element)"};class sne extends Bh{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return rne}static get DefaultType(){return ine}static get NAME(){return nne}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[i,s]of Object.entries(this._config.content))this._setContent(t,s,i);const n=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&n.classList.add(...r.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,r]of Object.entries(t))super._typeCheckConfig({selector:n,entry:r},one)}_setContent(t,n,r){const i=Te.findOne(r,t);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(yo(n)){this._putElementInTemplate(ds(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(t){return this._config.sanitize?tne(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return or(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const ane="tooltip",une=new Set(["sanitize","allowList","sanitizeFn"]),Wb="fade",cne="modal",mp="show",lne=".tooltip-inner",mD=`.${cne}`,gD="hide.bs.modal",Zl="hover",qb="focus",fne="click",hne="manual",dne="hide",pne="hidden",vne="show",mne="shown",gne="inserted",yne="click",_ne="focusin",bne="focusout",wne="mouseenter",Ene="mouseleave",Tne={AUTO:"auto",TOP:"top",RIGHT:qr()?"left":"right",BOTTOM:"bottom",LEFT:qr()?"right":"left"},Ine={allowList:JV,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Sne={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class il extends bi{constructor(t,n){if(typeof SV>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ine}static get DefaultType(){return Sne}static get NAME(){return ane}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ne.off(this._element.closest(mD),gD,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=ne.trigger(this._element,this.constructor.eventName(vne)),r=(NV(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),ne.trigger(this._element,this.constructor.eventName(gne))),this._popper=this._createPopper(i),i.classList.add(mp),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))ne.on(c,"mouseover",Lv);const a=()=>{ne.trigger(this._element,this.constructor.eventName(mne)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ne.trigger(this._element,this.constructor.eventName(dne)).defaultPrevented)return;if(this._getTipElement().classList.remove(mp),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ne.off(i,"mouseover",Lv);this._activeTrigger[fne]=!1,this._activeTrigger[qb]=!1,this._activeTrigger[Zl]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ne.trigger(this._element,this.constructor.eventName(pne)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(Wb,mp),n.classList.add(`bs-${this.constructor.NAME}-auto`);const r=f2(this.constructor.NAME).toString();return n.setAttribute("id",r),this._isAnimated()&&n.classList.add(Wb),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new sne({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[lne]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Wb)}_isShown(){return this.tip&&this.tip.classList.contains(mp)}_createPopper(t){const n=or(this._config.placement,[this,t,this._element]),r=Tne[n.toUpperCase()];return AI(this._element,t,this._getPopperConfig(r))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return or(t,[this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...n,...or(this._config.popperConfig,[n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")ne.on(this._element,this.constructor.eventName(yne),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(n!==hne){const r=n===Zl?this.constructor.eventName(wne):this.constructor.eventName(_ne),i=n===Zl?this.constructor.eventName(Ene):this.constructor.eventName(bne);ne.on(this._element,r,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?qb:Zl]=!0,a._enter()}),ne.on(this._element,i,this._config.selector,s=>{const a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?qb:Zl]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ne.on(this._element.closest(mD),gD,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=_o.getDataAttributes(this._element);for(const r of Object.keys(n))une.has(r)&&delete n[r];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:ds(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,r]of Object.entries(this._config))this.constructor.Default[n]!==r&&(t[n]=r);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=il.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Yr(il);const Ane="popover",Cne=".popover-header",Nne=".popover-body",One={...il.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Rne={...il.DefaultType,content:"(null|string|element|function)"};class RI extends il{static get Default(){return One}static get DefaultType(){return Rne}static get NAME(){return Ane}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Cne]:this._getTitle(),[Nne]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=RI.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Yr(RI);const kne="scrollspy",Dne="bs.scrollspy",kI=`.${Dne}`,Pne=".data-api",Lne=`activate${kI}`,yD=`click${kI}`,xne=`load${kI}${Pne}`,Mne="dropdown-item",Pu="active",Fne='[data-bs-spy="scroll"]',Gb="[href]",Une=".nav, .list-group",_D=".nav-link",Vne=".nav-item",jne=".list-group-item",$ne=`${_D}, ${Vne} > ${_D}, ${jne}`,Bne=".dropdown",Hne=".dropdown-toggle",Wne={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},qne={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class gg extends bi{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Wne}static get DefaultType(){return qne}static get NAME(){return kne}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=ds(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ne.off(this._config.target,yD),ne.on(this._config.target,yD,Gb,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const r=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=a=>this._targetLinks.get(`#${a.target.id}`),r=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(n(a))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(a));continue}const c=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&c){if(r(a),!i)return;continue}!s&&!c&&r(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Te.find(Gb,this._config.target);for(const n of t){if(!n.hash||ps(n))continue;const r=Te.findOne(decodeURI(n.hash),this._element);nl(r)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,r))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Pu),this._activateParents(t),ne.trigger(this._element,Lne,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Mne)){Te.findOne(Hne,t.closest(Bne)).classList.add(Pu);return}for(const n of Te.parents(t,Une))for(const r of Te.prev(n,$ne))r.classList.add(Pu)}_clearActiveClass(t){t.classList.remove(Pu);const n=Te.find(`${Gb}.${Pu}`,t);for(const r of n)r.classList.remove(Pu)}static jQueryInterface(t){return this.each(function(){const n=gg.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ne.on(window,xne,()=>{for(const e of Te.find(Fne))gg.getOrCreateInstance(e)});Yr(gg);const Gne="tab",Kne="bs.tab",nu=`.${Kne}`,Yne=`hide${nu}`,zne=`hidden${nu}`,Qne=`show${nu}`,Xne=`shown${nu}`,Jne=`click${nu}`,Zne=`keydown${nu}`,ere=`load${nu}`,tre="ArrowLeft",bD="ArrowRight",nre="ArrowUp",wD="ArrowDown",Kb="Home",ED="End",ma="active",TD="fade",Yb="show",rre="dropdown",ZV=".dropdown-toggle",ire=".dropdown-menu",zb=`:not(${ZV})`,ore='.list-group, .nav, [role="tablist"]',sre=".nav-item, .list-group-item",are=`.nav-link${zb}, .list-group-item${zb}, [role="tab"]${zb}`,ej='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Qb=`${are}, ${ej}`,ure=`.${ma}[data-bs-toggle="tab"], .${ma}[data-bs-toggle="pill"], .${ma}[data-bs-toggle="list"]`;class Lc extends bi{constructor(t){super(t),this._parent=this._element.closest(ore),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ne.on(this._element,Zne,n=>this._keydown(n)))}static get NAME(){return Gne}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),r=n?ne.trigger(n,Yne,{relatedTarget:t}):null;ne.trigger(t,Qne,{relatedTarget:n}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(ma),this._activate(Te.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Yb);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),ne.trigger(t,Xne,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(TD))}_deactivate(t,n){if(!t)return;t.classList.remove(ma),t.blur(),this._deactivate(Te.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Yb);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),ne.trigger(t,zne,{relatedTarget:n})};this._queueCallback(r,t,t.classList.contains(TD))}_keydown(t){if(![tre,bD,nre,wD,Kb,ED].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(i=>!ps(i));let r;if([Kb,ED].includes(t.key))r=n[t.key===Kb?0:n.length-1];else{const i=[bD,wD].includes(t.key);r=CI(n,t.target,i,!0)}r&&(r.focus({preventScroll:!0}),Lc.getOrCreateInstance(r).show())}_getChildren(){return Te.find(Qb,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const r of n)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",n),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=Te.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const r=this._getOuterElement(t);if(!r.classList.contains(rre))return;const i=(s,a)=>{const c=Te.findOne(s,r);c&&c.classList.toggle(a,n)};i(ZV,ma),i(ire,Yb),r.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,r){t.hasAttribute(n)||t.setAttribute(n,r)}_elemIsActive(t){return t.classList.contains(ma)}_getInnerElement(t){return t.matches(Qb)?t:Te.findOne(Qb,t)}_getOuterElement(t){return t.closest(sre)||t}static jQueryInterface(t){return this.each(function(){const n=Lc.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ne.on(document,Jne,ej,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!ps(this)&&Lc.getOrCreateInstance(this).show()});ne.on(window,ere,()=>{for(const e of Te.find(ure))Lc.getOrCreateInstance(e)});Yr(Lc);const cre="toast",lre="bs.toast",Ns=`.${lre}`,fre=`mouseover${Ns}`,hre=`mouseout${Ns}`,dre=`focusin${Ns}`,pre=`focusout${Ns}`,vre=`hide${Ns}`,mre=`hidden${Ns}`,gre=`show${Ns}`,yre=`shown${Ns}`,_re="fade",ID="hide",gp="show",yp="showing",bre={animation:"boolean",autohide:"boolean",delay:"number"},wre={animation:!0,autohide:!0,delay:5e3};class yg extends bi{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return wre}static get DefaultType(){return bre}static get NAME(){return cre}show(){if(ne.trigger(this._element,gre).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(_re);const n=()=>{this._element.classList.remove(yp),ne.trigger(this._element,yre),this._maybeScheduleHide()};this._element.classList.remove(ID),$h(this._element),this._element.classList.add(gp,yp),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||ne.trigger(this._element,vre).defaultPrevented)return;const n=()=>{this._element.classList.add(ID),this._element.classList.remove(yp,gp),ne.trigger(this._element,mre)};this._element.classList.add(yp),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(gp),super.dispose()}isShown(){return this._element.classList.contains(gp)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){ne.on(this._element,fre,t=>this._onInteraction(t,!0)),ne.on(this._element,hre,t=>this._onInteraction(t,!1)),ne.on(this._element,dre,t=>this._onInteraction(t,!0)),ne.on(this._element,pre,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=yg.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}pg(yg);Yr(yg);/*!
  * shared v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Fv=typeof window<"u",Os=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Ere=(e,t,n)=>Tre({l:e,k:t,s:n}),Tre=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),en=e=>typeof e=="number"&&isFinite(e),Ire=e=>nj(e)==="[object Date]",ms=e=>nj(e)==="[object RegExp]",_g=e=>xe(e)&&Object.keys(e).length===0,wn=Object.assign;let SD;const ao=()=>SD||(SD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function AD(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Sre=Object.prototype.hasOwnProperty;function Uv(e,t){return Sre.call(e,t)}const St=Array.isArray,_t=e=>typeof e=="function",le=e=>typeof e=="string",He=e=>typeof e=="boolean",ct=e=>e!==null&&typeof e=="object",Are=e=>ct(e)&&_t(e.then)&&_t(e.catch),tj=Object.prototype.toString,nj=e=>tj.call(e),xe=e=>{if(!ct(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},Cre=e=>e==null?"":St(e)||xe(e)&&e.toString===tj?JSON.stringify(e,null,2):String(e);function Nre(e,t=""){return e.reduce((n,r,i)=>i===0?n+r:n+t+r,"")}function bg(e){let t=e;return()=>++t}function Ore(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const _p=e=>!ct(e)||St(e);function Fp(e,t){if(_p(e)||_p(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:i}=n.pop();Object.keys(r).forEach(s=>{_p(r[s])||_p(i[s])?i[s]=r[s]:n.push({src:r[s],des:i[s]})})}}/*!
  * message-compiler v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function Rre(e,t,n){return{line:e,column:t,offset:n}}function Vv(e,t,n){return{start:e,end:t}}const kre=/\{([0-9a-zA-Z]+)\}/g;function rj(e,...t){return t.length===1&&Dre(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(kre,(n,r)=>t.hasOwnProperty(r)?t[r]:"")}const ij=Object.assign,CD=e=>typeof e=="string",Dre=e=>e!==null&&typeof e=="object";function oj(e,t=""){return e.reduce((n,r,i)=>i===0?n+r:n+t+r,"")}const DI={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},Pre={[DI.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Lre(e,t,...n){const r=rj(Pre[e],...n||[]),i={message:String(r),code:e};return t&&(i.location=t),i}const Oe={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},xre={[Oe.EXPECTED_TOKEN]:"Expected token: '{0}'",[Oe.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Oe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Oe.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Oe.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Oe.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Oe.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Oe.EMPTY_PLACEHOLDER]:"Empty placeholder",[Oe.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Oe.INVALID_LINKED_FORMAT]:"Invalid linked format",[Oe.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Oe.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Oe.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Oe.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Oe.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Oe.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function ol(e,t,n={}){const{domain:r,messages:i,args:s}=n,a=rj((i||xre)[e]||"",...s||[]),c=new SyntaxError(String(a));return c.code=e,t&&(c.location=t),c.domain=r,c}function Mre(e){throw e}const io=" ",Fre="\r",jn=`
`,Ure="\u2028",Vre="\u2029";function jre(e){const t=e;let n=0,r=1,i=1,s=0;const a=j=>t[j]===Fre&&t[j+1]===jn,c=j=>t[j]===jn,l=j=>t[j]===Vre,h=j=>t[j]===Ure,d=j=>a(j)||c(j)||l(j)||h(j),v=()=>n,m=()=>r,y=()=>i,b=()=>s,E=j=>a(j)||l(j)||h(j)?jn:t[j],T=()=>E(n),N=()=>E(n+s);function L(){return s=0,d(n)&&(r++,i=0),a(n)&&n++,n++,i++,t[n]}function A(){return a(n+s)&&s++,s++,t[n+s]}function D(){n=0,r=1,i=1,s=0}function F(j=0){s=j}function R(){const j=n+s;for(;j!==n;)L();s=0}return{index:v,line:m,column:y,peekOffset:b,charAt:E,currentChar:T,currentPeek:N,next:L,peek:A,reset:D,resetPeek:F,skipToPeek:R}}const Ho=void 0,$re=".",ND="'",Bre="tokenizer";function Hre(e,t={}){const n=t.location!==!1,r=jre(e),i=()=>r.index(),s=()=>Rre(r.line(),r.column(),r.index()),a=s(),c=i(),l={currentType:14,offset:c,startLoc:a,endLoc:a,lastType:14,lastOffset:c,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},h=()=>l,{onError:d}=t;function v(S,C,x,...K){const oe=h();if(C.column+=x,C.offset+=x,d){const J=n?Vv(oe.startLoc,C):null,U=ol(S,J,{domain:Bre,args:K});d(U)}}function m(S,C,x){S.endLoc=s(),S.currentType=C;const K={type:C};return n&&(K.loc=Vv(S.startLoc,S.endLoc)),x!=null&&(K.value=x),K}const y=S=>m(S,14);function b(S,C){return S.currentChar()===C?(S.next(),C):(v(Oe.EXPECTED_TOKEN,s(),0,C),"")}function E(S){let C="";for(;S.currentPeek()===io||S.currentPeek()===jn;)C+=S.currentPeek(),S.peek();return C}function T(S){const C=E(S);return S.skipToPeek(),C}function N(S){if(S===Ho)return!1;const C=S.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C===95}function L(S){if(S===Ho)return!1;const C=S.charCodeAt(0);return C>=48&&C<=57}function A(S,C){const{currentType:x}=C;if(x!==2)return!1;E(S);const K=N(S.currentPeek());return S.resetPeek(),K}function D(S,C){const{currentType:x}=C;if(x!==2)return!1;E(S);const K=S.currentPeek()==="-"?S.peek():S.currentPeek(),oe=L(K);return S.resetPeek(),oe}function F(S,C){const{currentType:x}=C;if(x!==2)return!1;E(S);const K=S.currentPeek()===ND;return S.resetPeek(),K}function R(S,C){const{currentType:x}=C;if(x!==8)return!1;E(S);const K=S.currentPeek()===".";return S.resetPeek(),K}function j(S,C){const{currentType:x}=C;if(x!==9)return!1;E(S);const K=N(S.currentPeek());return S.resetPeek(),K}function H(S,C){const{currentType:x}=C;if(!(x===8||x===12))return!1;E(S);const K=S.currentPeek()===":";return S.resetPeek(),K}function Q(S,C){const{currentType:x}=C;if(x!==10)return!1;const K=()=>{const J=S.currentPeek();return J==="{"?N(S.peek()):J==="@"||J==="%"||J==="|"||J===":"||J==="."||J===io||!J?!1:J===jn?(S.peek(),K()):ge(S,!1)},oe=K();return S.resetPeek(),oe}function P(S){E(S);const C=S.currentPeek()==="|";return S.resetPeek(),C}function De(S){const C=E(S),x=S.currentPeek()==="%"&&S.peek()==="{";return S.resetPeek(),{isModulo:x,hasSpace:C.length>0}}function ge(S,C=!0){const x=(oe=!1,J="",U=!1)=>{const V=S.currentPeek();return V==="{"?J==="%"?!1:oe:V==="@"||!V?J==="%"?!0:oe:V==="%"?(S.peek(),x(oe,"%",!0)):V==="|"?J==="%"||U?!0:!(J===io||J===jn):V===io?(S.peek(),x(!0,io,U)):V===jn?(S.peek(),x(!0,jn,U)):!0},K=x();return C&&S.resetPeek(),K}function Pe(S,C){const x=S.currentChar();return x===Ho?Ho:C(x)?(S.next(),x):null}function kt(S){const C=S.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===95||C===36}function gt(S){return Pe(S,kt)}function Se(S){const C=S.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===95||C===36||C===45}function Ae(S){return Pe(S,Se)}function we(S){const C=S.charCodeAt(0);return C>=48&&C<=57}function vt(S){return Pe(S,we)}function yt(S){const C=S.charCodeAt(0);return C>=48&&C<=57||C>=65&&C<=70||C>=97&&C<=102}function st(S){return Pe(S,yt)}function nt(S){let C="",x="";for(;C=vt(S);)x+=C;return x}function Wt(S){T(S);const C=S.currentChar();return C!=="%"&&v(Oe.EXPECTED_TOKEN,s(),0,C),S.next(),"%"}function Dt(S){let C="";for(;;){const x=S.currentChar();if(x==="{"||x==="}"||x==="@"||x==="|"||!x)break;if(x==="%")if(ge(S))C+=x,S.next();else break;else if(x===io||x===jn)if(ge(S))C+=x,S.next();else{if(P(S))break;C+=x,S.next()}else C+=x,S.next()}return C}function Vt(S){T(S);let C="",x="";for(;C=Ae(S);)x+=C;return S.currentChar()===Ho&&v(Oe.UNTERMINATED_CLOSING_BRACE,s(),0),x}function dt(S){T(S);let C="";return S.currentChar()==="-"?(S.next(),C+=`-${nt(S)}`):C+=nt(S),S.currentChar()===Ho&&v(Oe.UNTERMINATED_CLOSING_BRACE,s(),0),C}function Y(S){return S!==ND&&S!==jn}function ee(S){T(S),b(S,"'");let C="",x="";for(;C=Pe(S,Y);)C==="\\"?x+=ae(S):x+=C;const K=S.currentChar();return K===jn||K===Ho?(v(Oe.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),K===jn&&(S.next(),b(S,"'")),x):(b(S,"'"),x)}function ae(S){const C=S.currentChar();switch(C){case"\\":case"'":return S.next(),`\\${C}`;case"u":return he(S,C,4);case"U":return he(S,C,6);default:return v(Oe.UNKNOWN_ESCAPE_SEQUENCE,s(),0,C),""}}function he(S,C,x){b(S,C);let K="";for(let oe=0;oe<x;oe++){const J=st(S);if(!J){v(Oe.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${C}${K}${S.currentChar()}`);break}K+=J}return`\\${C}${K}`}function Me(S){return S!=="{"&&S!=="}"&&S!==io&&S!==jn}function Qe(S){T(S);let C="",x="";for(;C=Pe(S,Me);)x+=C;return x}function O(S){let C="",x="";for(;C=gt(S);)x+=C;return x}function I(S){const C=x=>{const K=S.currentChar();return K==="{"||K==="%"||K==="@"||K==="|"||K==="("||K===")"||!K||K===io?x:(x+=K,S.next(),C(x))};return C("")}function M(S){T(S);const C=b(S,"|");return T(S),C}function z(S,C){let x=null;switch(S.currentChar()){case"{":return C.braceNest>=1&&v(Oe.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),S.next(),x=m(C,2,"{"),T(S),C.braceNest++,x;case"}":return C.braceNest>0&&C.currentType===2&&v(Oe.EMPTY_PLACEHOLDER,s(),0),S.next(),x=m(C,3,"}"),C.braceNest--,C.braceNest>0&&T(S),C.inLinked&&C.braceNest===0&&(C.inLinked=!1),x;case"@":return C.braceNest>0&&v(Oe.UNTERMINATED_CLOSING_BRACE,s(),0),x=q(S,C)||y(C),C.braceNest=0,x;default:{let oe=!0,J=!0,U=!0;if(P(S))return C.braceNest>0&&v(Oe.UNTERMINATED_CLOSING_BRACE,s(),0),x=m(C,1,M(S)),C.braceNest=0,C.inLinked=!1,x;if(C.braceNest>0&&(C.currentType===5||C.currentType===6||C.currentType===7))return v(Oe.UNTERMINATED_CLOSING_BRACE,s(),0),C.braceNest=0,X(S,C);if(oe=A(S,C))return x=m(C,5,Vt(S)),T(S),x;if(J=D(S,C))return x=m(C,6,dt(S)),T(S),x;if(U=F(S,C))return x=m(C,7,ee(S)),T(S),x;if(!oe&&!J&&!U)return x=m(C,13,Qe(S)),v(Oe.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,x.value),T(S),x;break}}return x}function q(S,C){const{currentType:x}=C;let K=null;const oe=S.currentChar();switch((x===8||x===9||x===12||x===10)&&(oe===jn||oe===io)&&v(Oe.INVALID_LINKED_FORMAT,s(),0),oe){case"@":return S.next(),K=m(C,8,"@"),C.inLinked=!0,K;case".":return T(S),S.next(),m(C,9,".");case":":return T(S),S.next(),m(C,10,":");default:return P(S)?(K=m(C,1,M(S)),C.braceNest=0,C.inLinked=!1,K):R(S,C)||H(S,C)?(T(S),q(S,C)):j(S,C)?(T(S),m(C,12,O(S))):Q(S,C)?(T(S),oe==="{"?z(S,C)||K:m(C,11,I(S))):(x===8&&v(Oe.INVALID_LINKED_FORMAT,s(),0),C.braceNest=0,C.inLinked=!1,X(S,C))}}function X(S,C){let x={type:14};if(C.braceNest>0)return z(S,C)||y(C);if(C.inLinked)return q(S,C)||y(C);switch(S.currentChar()){case"{":return z(S,C)||y(C);case"}":return v(Oe.UNBALANCED_CLOSING_BRACE,s(),0),S.next(),m(C,3,"}");case"@":return q(S,C)||y(C);default:{if(P(S))return x=m(C,1,M(S)),C.braceNest=0,C.inLinked=!1,x;const{isModulo:oe,hasSpace:J}=De(S);if(oe)return J?m(C,0,Dt(S)):m(C,4,Wt(S));if(ge(S))return m(C,0,Dt(S));break}}return x}function ue(){const{currentType:S,offset:C,startLoc:x,endLoc:K}=l;return l.lastType=S,l.lastOffset=C,l.lastStartLoc=x,l.lastEndLoc=K,l.offset=i(),l.startLoc=s(),r.currentChar()===Ho?m(l,14):X(r,l)}return{nextToken:ue,currentOffset:i,currentPosition:s,context:h}}const Wre="parser",qre=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Gre(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function Kre(e={}){const t=e.location!==!1,{onError:n,onWarn:r}=e;function i(A,D,F,R,...j){const H=A.currentPosition();if(H.offset+=R,H.column+=R,n){const Q=t?Vv(F,H):null,P=ol(D,Q,{domain:Wre,args:j});n(P)}}function s(A,D,F,R,...j){const H=A.currentPosition();if(H.offset+=R,H.column+=R,r){const Q=t?Vv(F,H):null;r(Lre(D,Q,j))}}function a(A,D,F){const R={type:A};return t&&(R.start=D,R.end=D,R.loc={start:F,end:F}),R}function c(A,D,F,R){t&&(A.end=D,A.loc&&(A.loc.end=F))}function l(A,D){const F=A.context(),R=a(3,F.offset,F.startLoc);return R.value=D,c(R,A.currentOffset(),A.currentPosition()),R}function h(A,D){const F=A.context(),{lastOffset:R,lastStartLoc:j}=F,H=a(5,R,j);return H.index=parseInt(D,10),A.nextToken(),c(H,A.currentOffset(),A.currentPosition()),H}function d(A,D,F){const R=A.context(),{lastOffset:j,lastStartLoc:H}=R,Q=a(4,j,H);return Q.key=D,F===!0&&(Q.modulo=!0),A.nextToken(),c(Q,A.currentOffset(),A.currentPosition()),Q}function v(A,D){const F=A.context(),{lastOffset:R,lastStartLoc:j}=F,H=a(9,R,j);return H.value=D.replace(qre,Gre),A.nextToken(),c(H,A.currentOffset(),A.currentPosition()),H}function m(A){const D=A.nextToken(),F=A.context(),{lastOffset:R,lastStartLoc:j}=F,H=a(8,R,j);return D.type!==12?(i(A,Oe.UNEXPECTED_EMPTY_LINKED_MODIFIER,F.lastStartLoc,0),H.value="",c(H,R,j),{nextConsumeToken:D,node:H}):(D.value==null&&i(A,Oe.UNEXPECTED_LEXICAL_ANALYSIS,F.lastStartLoc,0,ii(D)),H.value=D.value||"",c(H,A.currentOffset(),A.currentPosition()),{node:H})}function y(A,D){const F=A.context(),R=a(7,F.offset,F.startLoc);return R.value=D,c(R,A.currentOffset(),A.currentPosition()),R}function b(A){const D=A.context(),F=a(6,D.offset,D.startLoc);let R=A.nextToken();if(R.type===9){const j=m(A);F.modifier=j.node,R=j.nextConsumeToken||A.nextToken()}switch(R.type!==10&&i(A,Oe.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ii(R)),R=A.nextToken(),R.type===2&&(R=A.nextToken()),R.type){case 11:R.value==null&&i(A,Oe.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ii(R)),F.key=y(A,R.value||"");break;case 5:R.value==null&&i(A,Oe.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ii(R)),F.key=d(A,R.value||"");break;case 6:R.value==null&&i(A,Oe.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ii(R)),F.key=h(A,R.value||"");break;case 7:R.value==null&&i(A,Oe.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ii(R)),F.key=v(A,R.value||"");break;default:{i(A,Oe.UNEXPECTED_EMPTY_LINKED_KEY,D.lastStartLoc,0);const j=A.context(),H=a(7,j.offset,j.startLoc);return H.value="",c(H,j.offset,j.startLoc),F.key=H,c(F,j.offset,j.startLoc),{nextConsumeToken:R,node:F}}}return c(F,A.currentOffset(),A.currentPosition()),{node:F}}function E(A){const D=A.context(),F=D.currentType===1?A.currentOffset():D.offset,R=D.currentType===1?D.endLoc:D.startLoc,j=a(2,F,R);j.items=[];let H=null,Q=null;do{const ge=H||A.nextToken();switch(H=null,ge.type){case 0:ge.value==null&&i(A,Oe.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ii(ge)),j.items.push(l(A,ge.value||""));break;case 6:ge.value==null&&i(A,Oe.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ii(ge)),j.items.push(h(A,ge.value||""));break;case 4:Q=!0;break;case 5:ge.value==null&&i(A,Oe.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ii(ge)),j.items.push(d(A,ge.value||"",!!Q)),Q&&(s(A,DI.USE_MODULO_SYNTAX,D.lastStartLoc,0,ii(ge)),Q=null);break;case 7:ge.value==null&&i(A,Oe.UNEXPECTED_LEXICAL_ANALYSIS,D.lastStartLoc,0,ii(ge)),j.items.push(v(A,ge.value||""));break;case 8:{const Pe=b(A);j.items.push(Pe.node),H=Pe.nextConsumeToken||null;break}}}while(D.currentType!==14&&D.currentType!==1);const P=D.currentType===1?D.lastOffset:A.currentOffset(),De=D.currentType===1?D.lastEndLoc:A.currentPosition();return c(j,P,De),j}function T(A,D,F,R){const j=A.context();let H=R.items.length===0;const Q=a(1,D,F);Q.cases=[],Q.cases.push(R);do{const P=E(A);H||(H=P.items.length===0),Q.cases.push(P)}while(j.currentType!==14);return H&&i(A,Oe.MUST_HAVE_MESSAGES_IN_PLURAL,F,0),c(Q,A.currentOffset(),A.currentPosition()),Q}function N(A){const D=A.context(),{offset:F,startLoc:R}=D,j=E(A);return D.currentType===14?j:T(A,F,R,j)}function L(A){const D=Hre(A,ij({},e)),F=D.context(),R=a(0,F.offset,F.startLoc);return t&&R.loc&&(R.loc.source=A),R.body=N(D),e.onCacheKey&&(R.cacheKey=e.onCacheKey(A)),F.currentType!==14&&i(D,Oe.UNEXPECTED_LEXICAL_ANALYSIS,F.lastStartLoc,0,A[F.offset]||""),c(R,D.currentOffset(),D.currentPosition()),R}return{parse:L}}function ii(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function Yre(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function OD(e,t){for(let n=0;n<e.length;n++)PI(e[n],t)}function PI(e,t){switch(e.type){case 1:OD(e.cases,t),t.helper("plural");break;case 2:OD(e.items,t);break;case 6:{PI(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function zre(e,t={}){const n=Yre(e);n.helper("normalize"),e.body&&PI(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function Qre(e){const t=e.body;return t.type===2?RD(t):t.cases.forEach(n=>RD(n)),e}function RD(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=oj(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const Xre="minifier";function $u(e){switch(e.t=e.type,e.type){case 0:{const t=e;$u(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)$u(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)$u(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;$u(t.key),t.k=t.key,delete t.key,t.modifier&&($u(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw ol(Oe.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Xre,args:[e.type]})}delete e.type}const Jre="parser";function Zre(e,t){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:s}=t,a=t.location!==!1,c={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};a&&e.loc&&(c.source=e.loc.source);const l=()=>c;function h(T,N){c.code+=T}function d(T,N=!0){const L=N?i:"";h(s?L+"  ".repeat(T):L)}function v(T=!0){const N=++c.indentLevel;T&&d(N)}function m(T=!0){const N=--c.indentLevel;T&&d(N)}function y(){d(c.indentLevel)}return{context:l,push:h,indent:v,deindent:m,newline:y,helper:T=>`_${T}`,needIndent:()=>c.needIndent}}function eie(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),xc(e,t.key),t.modifier?(e.push(", "),xc(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function tie(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const i=t.items.length;for(let s=0;s<i&&(xc(e,t.items[s]),s!==i-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function nie(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const i=t.cases.length;for(let s=0;s<i&&(xc(e,t.cases[s]),s!==i-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function rie(e,t){t.body?xc(e,t.body):e.push("null")}function xc(e,t){const{helper:n}=e;switch(t.type){case 0:rie(e,t);break;case 1:nie(e,t);break;case 2:tie(e,t);break;case 6:eie(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw ol(Oe.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Jre,args:[t.type]})}}const iie=(e,t={})=>{const n=CD(t.mode)?t.mode:"normal",r=CD(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,a=t.needIndent?t.needIndent:n!=="arrow",c=e.helpers||[],l=Zre(e,{mode:n,filename:r,sourceMap:i,breakLineCode:s,needIndent:a});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(a),c.length>0&&(l.push(`const { ${oj(c.map(v=>`${v}: _${v}`),", ")} } = ctx`),l.newline()),l.push("return "),xc(l,e),l.deindent(a),l.push("}"),delete e.helpers;const{code:h,map:d}=l.context();return{ast:e,code:h,map:d?d.toJSON():void 0}};function oie(e,t={}){const n=ij({},t),r=!!n.jit,i=!!n.minify,s=n.optimize==null?!0:n.optimize,c=Kre(n).parse(e);return r?(s&&Qre(c),i&&$u(c),{ast:c,code:""}):(zre(c,n),iie(c,n))}/*!
  * core-base v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function sie(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ao().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ao().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ao().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Rs=[];Rs[0]={w:[0],i:[3,0],"[":[4],o:[7]};Rs[1]={w:[1],".":[2],"[":[4],o:[7]};Rs[2]={w:[2],i:[3,0],0:[3,0]};Rs[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Rs[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Rs[5]={"'":[4,0],o:8,l:[5,0]};Rs[6]={'"':[4,0],o:8,l:[6,0]};const aie=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function uie(e){return aie.test(e)}function cie(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function lie(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function fie(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:uie(t)?cie(t):"*"+t}function hie(e){const t=[];let n=-1,r=0,i=0,s,a,c,l,h,d,v;const m=[];m[0]=()=>{a===void 0?a=c:a+=c},m[1]=()=>{a!==void 0&&(t.push(a),a=void 0)},m[2]=()=>{m[0](),i++},m[3]=()=>{if(i>0)i--,r=4,m[0]();else{if(i=0,a===void 0||(a=fie(a),a===!1))return!1;m[1]()}};function y(){const b=e[n+1];if(r===5&&b==="'"||r===6&&b==='"')return n++,c="\\"+b,m[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&y())){if(l=lie(s),v=Rs[r],h=v[l]||v.l||8,h===8||(r=h[0],h[1]!==void 0&&(d=m[h[1]],d&&(c=s,d()===!1))))return;if(r===7)return t}}const kD=new Map;function die(e,t){return ct(e)?e[t]:null}function pie(e,t){if(!ct(e))return null;let n=kD.get(t);if(n||(n=hie(t),n&&kD.set(t,n)),!n)return null;const r=n.length;let i=e,s=0;for(;s<r;){const a=i[n[s]];if(a===void 0||_t(i))return null;i=a,s++}return i}const vie=e=>e,mie=e=>"",gie="text",yie=e=>e.length===0?"":Nre(e),_ie=Cre;function DD(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function bie(e){const t=en(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(en(e.named.count)||en(e.named.n))?en(e.named.count)?e.named.count:en(e.named.n)?e.named.n:t:t}function wie(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Eie(e={}){const t=e.locale,n=bie(e),r=ct(e.pluralRules)&&le(t)&&_t(e.pluralRules[t])?e.pluralRules[t]:DD,i=ct(e.pluralRules)&&le(t)&&_t(e.pluralRules[t])?DD:void 0,s=N=>N[r(n,N.length,i)],a=e.list||[],c=N=>a[N],l=e.named||{};en(e.pluralIndex)&&wie(n,l);const h=N=>l[N];function d(N){const L=_t(e.messages)?e.messages(N):ct(e.messages)?e.messages[N]:!1;return L||(e.parent?e.parent.message(N):mie)}const v=N=>e.modifiers?e.modifiers[N]:vie,m=xe(e.processor)&&_t(e.processor.normalize)?e.processor.normalize:yie,y=xe(e.processor)&&_t(e.processor.interpolate)?e.processor.interpolate:_ie,b=xe(e.processor)&&le(e.processor.type)?e.processor.type:gie,T={list:c,named:h,plural:s,linked:(N,...L)=>{const[A,D]=L;let F="text",R="";L.length===1?ct(A)?(R=A.modifier||R,F=A.type||F):le(A)&&(R=A||R):L.length===2&&(le(A)&&(R=A||R),le(D)&&(F=D||F));const j=d(N)(T),H=F==="vnode"&&St(j)&&R?j[0]:j;return R?v(R)(H,F):H},message:d,type:b,interpolate:y,normalize:m,values:wn({},a,l)};return T}let ih=null;function Tie(e){ih=e}function Iie(e,t,n){ih&&ih.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const Sie=Aie("function:translate");function Aie(e){return t=>ih&&ih.emit(e,t)}const sj=DI.__EXTEND_POINT__,ea=bg(sj),Cie={NOT_FOUND_KEY:sj,FALLBACK_TO_TRANSLATE:ea(),CANNOT_FORMAT_NUMBER:ea(),FALLBACK_TO_NUMBER_FORMAT:ea(),CANNOT_FORMAT_DATE:ea(),FALLBACK_TO_DATE_FORMAT:ea(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:ea(),__EXTEND_POINT__:ea()},aj=Oe.__EXTEND_POINT__,ta=bg(aj),li={INVALID_ARGUMENT:aj,INVALID_DATE_ARGUMENT:ta(),INVALID_ISO_DATE_ARGUMENT:ta(),NOT_SUPPORT_NON_STRING_MESSAGE:ta(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:ta(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:ta(),NOT_SUPPORT_LOCALE_TYPE:ta(),__EXTEND_POINT__:ta()};function Li(e){return ol(e,null,void 0)}function LI(e,t){return t.locale!=null?PD(t.locale):PD(e.locale)}let Xb;function PD(e){if(le(e))return e;if(_t(e)){if(e.resolvedOnce&&Xb!=null)return Xb;if(e.constructor.name==="Function"){const t=e();if(Are(t))throw Li(li.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Xb=t}else throw Li(li.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Li(li.NOT_SUPPORT_LOCALE_TYPE)}function Nie(e,t,n){return[...new Set([n,...St(t)?t:ct(t)?Object.keys(t):le(t)?[t]:[n]])]}function uj(e,t,n){const r=le(n)?n:Mc,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(r);if(!s){s=[];let a=[n];for(;St(a);)a=LD(s,a,t);const c=St(t)||!xe(t)?t:t.default?t.default:null;a=le(c)?[c]:c,St(a)&&LD(s,a,!1),i.__localeChainCache.set(r,s)}return s}function LD(e,t,n){let r=!0;for(let i=0;i<t.length&&He(r);i++){const s=t[i];le(s)&&(r=Oie(e,t[i],n))}return r}function Oie(e,t,n){let r;const i=t.split("-");do{const s=i.join("-");r=Rie(e,s,n),i.splice(-1,1)}while(i.length&&r===!0);return r}function Rie(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const i=t.replace(/!/g,"");e.push(i),(St(n)||xe(n))&&n[i]&&(r=n[i])}return r}const kie="9.14.0",wg=-1,Mc="en-US",xD="",MD=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Die(){return{upper:(e,t)=>t==="text"&&le(e)?e.toUpperCase():t==="vnode"&&ct(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&le(e)?e.toLowerCase():t==="vnode"&&ct(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&le(e)?MD(e):t==="vnode"&&ct(e)&&"__v_isVNode"in e?MD(e.children):e}}let cj;function FD(e){cj=e}let lj;function Pie(e){lj=e}let fj;function Lie(e){fj=e}let hj=null;const xie=e=>{hj=e},Mie=()=>hj;let dj=null;const UD=e=>{dj=e},Fie=()=>dj;let VD=0;function Uie(e={}){const t=_t(e.onWarn)?e.onWarn:Ore,n=le(e.version)?e.version:kie,r=le(e.locale)||_t(e.locale)?e.locale:Mc,i=_t(r)?Mc:r,s=St(e.fallbackLocale)||xe(e.fallbackLocale)||le(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i,a=xe(e.messages)?e.messages:{[i]:{}},c=xe(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},l=xe(e.numberFormats)?e.numberFormats:{[i]:{}},h=wn({},e.modifiers||{},Die()),d=e.pluralRules||{},v=_t(e.missing)?e.missing:null,m=He(e.missingWarn)||ms(e.missingWarn)?e.missingWarn:!0,y=He(e.fallbackWarn)||ms(e.fallbackWarn)?e.fallbackWarn:!0,b=!!e.fallbackFormat,E=!!e.unresolving,T=_t(e.postTranslation)?e.postTranslation:null,N=xe(e.processor)?e.processor:null,L=He(e.warnHtmlMessage)?e.warnHtmlMessage:!0,A=!!e.escapeParameter,D=_t(e.messageCompiler)?e.messageCompiler:cj,F=_t(e.messageResolver)?e.messageResolver:lj||die,R=_t(e.localeFallbacker)?e.localeFallbacker:fj||Nie,j=ct(e.fallbackContext)?e.fallbackContext:void 0,H=e,Q=ct(H.__datetimeFormatters)?H.__datetimeFormatters:new Map,P=ct(H.__numberFormatters)?H.__numberFormatters:new Map,De=ct(H.__meta)?H.__meta:{};VD++;const ge={version:n,cid:VD,locale:r,fallbackLocale:s,messages:a,modifiers:h,pluralRules:d,missing:v,missingWarn:m,fallbackWarn:y,fallbackFormat:b,unresolving:E,postTranslation:T,processor:N,warnHtmlMessage:L,escapeParameter:A,messageCompiler:D,messageResolver:F,localeFallbacker:R,fallbackContext:j,onWarn:t,__meta:De};return ge.datetimeFormats=c,ge.numberFormats=l,ge.__datetimeFormatters=Q,ge.__numberFormatters=P,__INTLIFY_PROD_DEVTOOLS__&&Iie(ge,n,De),ge}function xI(e,t,n,r,i){const{missing:s,onWarn:a}=e;if(s!==null){const c=s(e,n,t,i);return le(c)?c:t}else return t}function ef(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function Vie(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function jie(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let r=n+1;r<t.length;r++)if(Vie(e,t[r]))return!0;return!1}function Jb(e){return n=>$ie(n,e)}function $ie(e,t){const n=t.b||t.body;if((n.t||n.type)===1){const r=n,i=r.c||r.cases;return e.plural(i.reduce((s,a)=>[...s,jD(e,a)],[]))}else return jD(e,n)}function jD(e,t){const n=t.s||t.static;if(n)return e.type==="text"?n:e.normalize([n]);{const r=(t.i||t.items).reduce((i,s)=>[...i,TE(e,s)],[]);return e.normalize(r)}}function TE(e,t){const n=t.t||t.type;switch(n){case 3:{const r=t;return r.v||r.value}case 9:{const r=t;return r.v||r.value}case 4:{const r=t;return e.interpolate(e.named(r.k||r.key))}case 5:{const r=t;return e.interpolate(e.list(r.i!=null?r.i:r.index))}case 6:{const r=t,i=r.m||r.modifier;return e.linked(TE(e,r.k||r.key),i?TE(e,i):void 0,e.type)}case 7:{const r=t;return r.v||r.value}case 8:{const r=t;return r.v||r.value}default:throw new Error(`unhandled node type on format message part: ${n}`)}}const pj=e=>e;let qu=Object.create(null);const Fc=e=>ct(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function vj(e,t={}){let n=!1;const r=t.onError||Mre;return t.onError=i=>{n=!0,r(i)},{...oie(e,t),detectError:n}}const Bie=(e,t)=>{if(!le(e))throw Li(li.NOT_SUPPORT_NON_STRING_MESSAGE);{He(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||pj)(e),i=qu[r];if(i)return i;const{code:s,detectError:a}=vj(e,t),c=new Function(`return ${s}`)();return a?c:qu[r]=c}};function Hie(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&le(e)){He(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||pj)(e),i=qu[r];if(i)return i;const{ast:s,detectError:a}=vj(e,{...t,location:!1,jit:!0}),c=Jb(s);return a?c:qu[r]=c}else{const n=e.cacheKey;if(n){const r=qu[n];return r||(qu[n]=Jb(e))}else return Jb(e)}}const $D=()=>"",Mr=e=>_t(e);function BD(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:s,fallbackLocale:a,messages:c}=e,[l,h]=IE(...t),d=He(h.missingWarn)?h.missingWarn:e.missingWarn,v=He(h.fallbackWarn)?h.fallbackWarn:e.fallbackWarn,m=He(h.escapeParameter)?h.escapeParameter:e.escapeParameter,y=!!h.resolvedMessage,b=le(h.default)||He(h.default)?He(h.default)?s?l:()=>l:h.default:n?s?l:()=>l:"",E=n||b!=="",T=LI(e,h);m&&Wie(h);let[N,L,A]=y?[l,T,c[T]||{}]:mj(e,l,T,a,v,d),D=N,F=l;if(!y&&!(le(D)||Fc(D)||Mr(D))&&E&&(D=b,F=D),!y&&(!(le(D)||Fc(D)||Mr(D))||!le(L)))return i?wg:l;let R=!1;const j=()=>{R=!0},H=Mr(D)?D:gj(e,l,L,D,F,j);if(R)return D;const Q=Kie(e,L,A,h),P=Eie(Q),De=qie(e,H,P),ge=r?r(De,l):De;if(__INTLIFY_PROD_DEVTOOLS__){const Pe={timestamp:Date.now(),key:le(l)?l:Mr(D)?D.key:"",locale:L||(Mr(D)?D.locale:""),format:le(D)?D:Mr(D)?D.source:"",message:ge};Pe.meta=wn({},e.__meta,Mie()||{}),Sie(Pe)}return ge}function Wie(e){St(e.list)?e.list=e.list.map(t=>le(t)?AD(t):t):ct(e.named)&&Object.keys(e.named).forEach(t=>{le(e.named[t])&&(e.named[t]=AD(e.named[t]))})}function mj(e,t,n,r,i,s){const{messages:a,onWarn:c,messageResolver:l,localeFallbacker:h}=e,d=h(e,r,n);let v={},m,y=null;const b="translate";for(let E=0;E<d.length&&(m=d[E],v=a[m]||{},(y=l(v,t))===null&&(y=v[t]),!(le(y)||Fc(y)||Mr(y)));E++)if(!jie(m,d)){const T=xI(e,t,m,s,b);T!==t&&(y=T)}return[y,m,v]}function gj(e,t,n,r,i,s){const{messageCompiler:a,warnHtmlMessage:c}=e;if(Mr(r)){const h=r;return h.locale=h.locale||n,h.key=h.key||t,h}if(a==null){const h=()=>r;return h.locale=n,h.key=t,h}const l=a(r,Gie(e,n,i,r,c,s));return l.locale=n,l.key=t,l.source=r,l}function qie(e,t,n){return t(n)}function IE(...e){const[t,n,r]=e,i={};if(!le(t)&&!en(t)&&!Mr(t)&&!Fc(t))throw Li(li.INVALID_ARGUMENT);const s=en(t)?String(t):(Mr(t),t);return en(n)?i.plural=n:le(n)?i.default=n:xe(n)&&!_g(n)?i.named=n:St(n)&&(i.list=n),en(r)?i.plural=r:le(r)?i.default=r:xe(r)&&wn(i,r),[s,i]}function Gie(e,t,n,r,i,s){return{locale:t,key:n,warnHtmlMessage:i,onError:a=>{throw s&&s(a),a},onCacheKey:a=>Ere(t,n,a)}}function Kie(e,t,n,r){const{modifiers:i,pluralRules:s,messageResolver:a,fallbackLocale:c,fallbackWarn:l,missingWarn:h,fallbackContext:d}=e,m={locale:t,modifiers:i,pluralRules:s,messages:y=>{let b=a(n,y);if(b==null&&d){const[,,E]=mj(d,y,t,c,l,h);b=a(E,y)}if(le(b)||Fc(b)){let E=!1;const N=gj(e,y,t,b,y,()=>{E=!0});return E?$D:N}else return Mr(b)?b:$D}};return e.processor&&(m.processor=e.processor),r.list&&(m.list=r.list),r.named&&(m.named=r.named),en(r.plural)&&(m.pluralIndex=r.plural),m}function HD(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=e,{__datetimeFormatters:c}=e,[l,h,d,v]=SE(...t),m=He(d.missingWarn)?d.missingWarn:e.missingWarn;He(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;const y=!!d.part,b=LI(e,d),E=a(e,i,b);if(!le(l)||l==="")return new Intl.DateTimeFormat(b,v).format(h);let T={},N,L=null;const A="datetime format";for(let R=0;R<E.length&&(N=E[R],T=n[N]||{},L=T[l],!xe(L));R++)xI(e,l,N,m,A);if(!xe(L)||!le(N))return r?wg:l;let D=`${N}__${l}`;_g(v)||(D=`${D}__${JSON.stringify(v)}`);let F=c.get(D);return F||(F=new Intl.DateTimeFormat(N,wn({},L,v)),c.set(D,F)),y?F.formatToParts(h):F.format(h)}const yj=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function SE(...e){const[t,n,r,i]=e,s={};let a={},c;if(le(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Li(li.INVALID_ISO_DATE_ARGUMENT);const h=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();c=new Date(h);try{c.toISOString()}catch{throw Li(li.INVALID_ISO_DATE_ARGUMENT)}}else if(Ire(t)){if(isNaN(t.getTime()))throw Li(li.INVALID_DATE_ARGUMENT);c=t}else if(en(t))c=t;else throw Li(li.INVALID_ARGUMENT);return le(n)?s.key=n:xe(n)&&Object.keys(n).forEach(l=>{yj.includes(l)?a[l]=n[l]:s[l]=n[l]}),le(r)?s.locale=r:xe(r)&&(a=r),xe(i)&&(a=i),[s.key||"",c,s,a]}function WD(e,t,n){const r=e;for(const i in n){const s=`${t}__${i}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function qD(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:a}=e,{__numberFormatters:c}=e,[l,h,d,v]=AE(...t),m=He(d.missingWarn)?d.missingWarn:e.missingWarn;He(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn;const y=!!d.part,b=LI(e,d),E=a(e,i,b);if(!le(l)||l==="")return new Intl.NumberFormat(b,v).format(h);let T={},N,L=null;const A="number format";for(let R=0;R<E.length&&(N=E[R],T=n[N]||{},L=T[l],!xe(L));R++)xI(e,l,N,m,A);if(!xe(L)||!le(N))return r?wg:l;let D=`${N}__${l}`;_g(v)||(D=`${D}__${JSON.stringify(v)}`);let F=c.get(D);return F||(F=new Intl.NumberFormat(N,wn({},L,v)),c.set(D,F)),y?F.formatToParts(h):F.format(h)}const _j=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function AE(...e){const[t,n,r,i]=e,s={};let a={};if(!en(t))throw Li(li.INVALID_ARGUMENT);const c=t;return le(n)?s.key=n:xe(n)&&Object.keys(n).forEach(l=>{_j.includes(l)?a[l]=n[l]:s[l]=n[l]}),le(r)?s.locale=r:xe(r)&&(a=r),xe(i)&&(a=i),[s.key||"",c,s,a]}function GD(e,t,n){const r=e;for(const i in n){const s=`${t}__${i}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}sie();/*!
  * vue-i18n v9.14.0
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Yie="9.14.0";function zie(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ao().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ao().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ao().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ao().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ao().__INTLIFY_PROD_DEVTOOLS__=!1)}const bj=Cie.__EXTEND_POINT__,oo=bg(bj);oo(),oo(),oo(),oo(),oo(),oo(),oo(),oo(),oo();const wj=li.__EXTEND_POINT__,nr=bg(wj),on={UNEXPECTED_RETURN_TYPE:wj,INVALID_ARGUMENT:nr(),MUST_BE_CALL_SETUP_TOP:nr(),NOT_INSTALLED:nr(),NOT_AVAILABLE_IN_LEGACY_MODE:nr(),REQUIRED_VALUE:nr(),INVALID_VALUE:nr(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:nr(),NOT_INSTALLED_WITH_PROVIDE:nr(),UNEXPECTED_ERROR:nr(),NOT_COMPATIBLE_LEGACY_VUE_I18N:nr(),BRIDGE_SUPPORT_VUE_2_ONLY:nr(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:nr(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:nr(),__EXTEND_POINT__:nr()};function fn(e,...t){return ol(e,null,void 0)}const CE=Os("__translateVNode"),NE=Os("__datetimeParts"),OE=Os("__numberParts"),Ej=Os("__setPluralRules"),Tj=Os("__injectWithOption"),RE=Os("__dispose");function oh(e){if(!ct(e))return e;for(const t in e)if(Uv(e,t))if(!t.includes("."))ct(e[t])&&oh(e[t]);else{const n=t.split("."),r=n.length-1;let i=e,s=!1;for(let a=0;a<r;a++){if(n[a]in i||(i[n[a]]={}),!ct(i[n[a]])){s=!0;break}i=i[n[a]]}s||(i[n[r]]=e[t],delete e[t]),ct(i[n[r]])&&oh(i[n[r]])}return e}function Eg(e,t){const{messages:n,__i18n:r,messageResolver:i,flatJson:s}=t,a=xe(n)?n:St(r)?{}:{[e]:{}};if(St(r)&&r.forEach(c=>{if("locale"in c&&"resource"in c){const{locale:l,resource:h}=c;l?(a[l]=a[l]||{},Fp(h,a[l])):Fp(h,a)}else le(c)&&Fp(JSON.parse(c),a)}),i==null&&s)for(const c in a)Uv(a,c)&&oh(a[c]);return a}function Ij(e){return e.type}function Sj(e,t,n){let r=ct(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=Eg(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(ct(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(a=>{e.mergeDateTimeFormat(a,t.datetimeFormats[a])})}if(ct(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(a=>{e.mergeNumberFormat(a,t.numberFormats[a])})}}}function KD(e){return ar(ch,null,e,0)}const YD="__INTLIFY_META__",zD=()=>[],Qie=()=>!1;let QD=0;function XD(e){return(t,n,r,i)=>e(n,r,Of()||void 0,i)}const Xie=()=>{const e=Of();let t=null;return e&&(t=Ij(e)[YD])?{[YD]:t}:null};function MI(e={},t){const{__root:n,__injectWithOption:r}=e,i=n===void 0,s=e.flatJson,a=Fv?ia:HE,c=!!e.translateExistCompatible;let l=He(e.inheritLocale)?e.inheritLocale:!0;const h=a(n&&l?n.locale.value:le(e.locale)?e.locale:Mc),d=a(n&&l?n.fallbackLocale.value:le(e.fallbackLocale)||St(e.fallbackLocale)||xe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:h.value),v=a(Eg(h.value,e)),m=a(xe(e.datetimeFormats)?e.datetimeFormats:{[h.value]:{}}),y=a(xe(e.numberFormats)?e.numberFormats:{[h.value]:{}});let b=n?n.missingWarn:He(e.missingWarn)||ms(e.missingWarn)?e.missingWarn:!0,E=n?n.fallbackWarn:He(e.fallbackWarn)||ms(e.fallbackWarn)?e.fallbackWarn:!0,T=n?n.fallbackRoot:He(e.fallbackRoot)?e.fallbackRoot:!0,N=!!e.fallbackFormat,L=_t(e.missing)?e.missing:null,A=_t(e.missing)?XD(e.missing):null,D=_t(e.postTranslation)?e.postTranslation:null,F=n?n.warnHtmlMessage:He(e.warnHtmlMessage)?e.warnHtmlMessage:!0,R=!!e.escapeParameter;const j=n?n.modifiers:xe(e.modifiers)?e.modifiers:{};let H=e.pluralRules||n&&n.pluralRules,Q;Q=(()=>{i&&UD(null);const U={version:Yie,locale:h.value,fallbackLocale:d.value,messages:v.value,modifiers:j,pluralRules:H,missing:A===null?void 0:A,missingWarn:b,fallbackWarn:E,fallbackFormat:N,unresolving:!0,postTranslation:D===null?void 0:D,warnHtmlMessage:F,escapeParameter:R,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};U.datetimeFormats=m.value,U.numberFormats=y.value,U.__datetimeFormatters=xe(Q)?Q.__datetimeFormatters:void 0,U.__numberFormatters=xe(Q)?Q.__numberFormatters:void 0;const V=Uie(U);return i&&UD(V),V})(),ef(Q,h.value,d.value);function De(){return[h.value,d.value,v.value,m.value,y.value]}const ge=Ut({get:()=>h.value,set:U=>{h.value=U,Q.locale=h.value}}),Pe=Ut({get:()=>d.value,set:U=>{d.value=U,Q.fallbackLocale=d.value,ef(Q,h.value,U)}}),kt=Ut(()=>v.value),gt=Ut(()=>m.value),Se=Ut(()=>y.value);function Ae(){return _t(D)?D:null}function we(U){D=U,Q.postTranslation=U}function vt(){return L}function yt(U){U!==null&&(A=XD(U)),L=U,Q.missing=A}const st=(U,V,me,ye,at,Xt)=>{De();let Xe;try{__INTLIFY_PROD_DEVTOOLS__,i||(Q.fallbackContext=n?Fie():void 0),Xe=U(Q)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(Q.fallbackContext=void 0)}if(me!=="translate exists"&&en(Xe)&&Xe===wg||me==="translate exists"&&!Xe){const[ks,Xn]=V();return n&&T?ye(n):at(ks)}else{if(Xt(Xe))return Xe;throw fn(on.UNEXPECTED_RETURN_TYPE)}};function nt(...U){return st(V=>Reflect.apply(BD,null,[V,...U]),()=>IE(...U),"translate",V=>Reflect.apply(V.t,V,[...U]),V=>V,V=>le(V))}function Wt(...U){const[V,me,ye]=U;if(ye&&!ct(ye))throw fn(on.INVALID_ARGUMENT);return nt(V,me,wn({resolvedMessage:!0},ye||{}))}function Dt(...U){return st(V=>Reflect.apply(HD,null,[V,...U]),()=>SE(...U),"datetime format",V=>Reflect.apply(V.d,V,[...U]),()=>xD,V=>le(V))}function Vt(...U){return st(V=>Reflect.apply(qD,null,[V,...U]),()=>AE(...U),"number format",V=>Reflect.apply(V.n,V,[...U]),()=>xD,V=>le(V))}function dt(U){return U.map(V=>le(V)||en(V)||He(V)?KD(String(V)):V)}const ee={normalize:dt,interpolate:U=>U,type:"vnode"};function ae(...U){return st(V=>{let me;const ye=V;try{ye.processor=ee,me=Reflect.apply(BD,null,[ye,...U])}finally{ye.processor=null}return me},()=>IE(...U),"translate",V=>V[CE](...U),V=>[KD(V)],V=>St(V))}function he(...U){return st(V=>Reflect.apply(qD,null,[V,...U]),()=>AE(...U),"number format",V=>V[OE](...U),zD,V=>le(V)||St(V))}function Me(...U){return st(V=>Reflect.apply(HD,null,[V,...U]),()=>SE(...U),"datetime format",V=>V[NE](...U),zD,V=>le(V)||St(V))}function Qe(U){H=U,Q.pluralRules=H}function O(U,V){return st(()=>{if(!U)return!1;const me=le(V)?V:h.value,ye=z(me),at=Q.messageResolver(ye,U);return c?at!=null:Fc(at)||Mr(at)||le(at)},()=>[U],"translate exists",me=>Reflect.apply(me.te,me,[U,V]),Qie,me=>He(me))}function I(U){let V=null;const me=uj(Q,d.value,h.value);for(let ye=0;ye<me.length;ye++){const at=v.value[me[ye]]||{},Xt=Q.messageResolver(at,U);if(Xt!=null){V=Xt;break}}return V}function M(U){const V=I(U);return V??(n?n.tm(U)||{}:{})}function z(U){return v.value[U]||{}}function q(U,V){if(s){const me={[U]:V};for(const ye in me)Uv(me,ye)&&oh(me[ye]);V=me[U]}v.value[U]=V,Q.messages=v.value}function X(U,V){v.value[U]=v.value[U]||{};const me={[U]:V};if(s)for(const ye in me)Uv(me,ye)&&oh(me[ye]);V=me[U],Fp(V,v.value[U]),Q.messages=v.value}function ue(U){return m.value[U]||{}}function S(U,V){m.value[U]=V,Q.datetimeFormats=m.value,WD(Q,U,V)}function C(U,V){m.value[U]=wn(m.value[U]||{},V),Q.datetimeFormats=m.value,WD(Q,U,V)}function x(U){return y.value[U]||{}}function K(U,V){y.value[U]=V,Q.numberFormats=y.value,GD(Q,U,V)}function oe(U,V){y.value[U]=wn(y.value[U]||{},V),Q.numberFormats=y.value,GD(Q,U,V)}QD++,n&&Fv&&(ho(n.locale,U=>{l&&(h.value=U,Q.locale=U,ef(Q,h.value,d.value))}),ho(n.fallbackLocale,U=>{l&&(d.value=U,Q.fallbackLocale=U,ef(Q,h.value,d.value))}));const J={id:QD,locale:ge,fallbackLocale:Pe,get inheritLocale(){return l},set inheritLocale(U){l=U,U&&n&&(h.value=n.locale.value,d.value=n.fallbackLocale.value,ef(Q,h.value,d.value))},get availableLocales(){return Object.keys(v.value).sort()},messages:kt,get modifiers(){return j},get pluralRules(){return H||{}},get isGlobal(){return i},get missingWarn(){return b},set missingWarn(U){b=U,Q.missingWarn=b},get fallbackWarn(){return E},set fallbackWarn(U){E=U,Q.fallbackWarn=E},get fallbackRoot(){return T},set fallbackRoot(U){T=U},get fallbackFormat(){return N},set fallbackFormat(U){N=U,Q.fallbackFormat=N},get warnHtmlMessage(){return F},set warnHtmlMessage(U){F=U,Q.warnHtmlMessage=U},get escapeParameter(){return R},set escapeParameter(U){R=U,Q.escapeParameter=U},t:nt,getLocaleMessage:z,setLocaleMessage:q,mergeLocaleMessage:X,getPostTranslationHandler:Ae,setPostTranslationHandler:we,getMissingHandler:vt,setMissingHandler:yt,[Ej]:Qe};return J.datetimeFormats=gt,J.numberFormats=Se,J.rt=Wt,J.te=O,J.tm=M,J.d=Dt,J.n=Vt,J.getDateTimeFormat=ue,J.setDateTimeFormat=S,J.mergeDateTimeFormat=C,J.getNumberFormat=x,J.setNumberFormat=K,J.mergeNumberFormat=oe,J[Tj]=r,J[CE]=ae,J[NE]=Me,J[OE]=he,J}function Jie(e){const t=le(e.locale)?e.locale:Mc,n=le(e.fallbackLocale)||St(e.fallbackLocale)||xe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=_t(e.missing)?e.missing:void 0,i=He(e.silentTranslationWarn)||ms(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=He(e.silentFallbackWarn)||ms(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,a=He(e.fallbackRoot)?e.fallbackRoot:!0,c=!!e.formatFallbackMessages,l=xe(e.modifiers)?e.modifiers:{},h=e.pluralizationRules,d=_t(e.postTranslation)?e.postTranslation:void 0,v=le(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,m=!!e.escapeParameterHtml,y=He(e.sync)?e.sync:!0;let b=e.messages;if(xe(e.sharedMessages)){const R=e.sharedMessages;b=Object.keys(R).reduce((H,Q)=>{const P=H[Q]||(H[Q]={});return wn(P,R[Q]),H},b||{})}const{__i18n:E,__root:T,__injectWithOption:N}=e,L=e.datetimeFormats,A=e.numberFormats,D=e.flatJson,F=e.translateExistCompatible;return{locale:t,fallbackLocale:n,messages:b,flatJson:D,datetimeFormats:L,numberFormats:A,missing:r,missingWarn:i,fallbackWarn:s,fallbackRoot:a,fallbackFormat:c,modifiers:l,pluralRules:h,postTranslation:d,warnHtmlMessage:v,escapeParameter:m,messageResolver:e.messageResolver,inheritLocale:y,translateExistCompatible:F,__i18n:E,__root:T,__injectWithOption:N}}function kE(e={},t){{const n=MI(Jie(e)),{__extender:r}=e,i={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return He(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=He(s)?!s:s},get silentFallbackWarn(){return He(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=He(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[a,c,l]=s,h={};let d=null,v=null;if(!le(a))throw fn(on.INVALID_ARGUMENT);const m=a;return le(c)?h.locale=c:St(c)?d=c:xe(c)&&(v=c),St(l)?d=l:xe(l)&&(v=l),Reflect.apply(n.t,n,[m,d||v||{},h])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[a,c,l]=s,h={plural:1};let d=null,v=null;if(!le(a))throw fn(on.INVALID_ARGUMENT);const m=a;return le(c)?h.locale=c:en(c)?h.plural=c:St(c)?d=c:xe(c)&&(v=c),le(l)?h.locale=l:St(l)?d=l:xe(l)&&(v=l),Reflect.apply(n.t,n,[m,d||v||{},h])},te(s,a){return n.te(s,a)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,a){n.setLocaleMessage(s,a)},mergeLocaleMessage(s,a){n.mergeLocaleMessage(s,a)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,a){n.setDateTimeFormat(s,a)},mergeDateTimeFormat(s,a){n.mergeDateTimeFormat(s,a)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,a){n.setNumberFormat(s,a)},mergeNumberFormat(s,a){n.mergeNumberFormat(s,a)},getChoiceIndex(s,a){return-1}};return i.__extender=r,i}}const FI={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Zie({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,i)=>[...r,...i.type===ui?i.children:[i]],[]):t.reduce((n,r)=>{const i=e[r];return i&&(n[r]=i()),n},{})}function Aj(e){return ui}const eoe=uh({name:"i18n-t",props:wn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>en(e)||!isNaN(e)}},FI),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||UI({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(v=>v!=="_"),a={};e.locale&&(a.locale=e.locale),e.plural!==void 0&&(a.plural=le(e.plural)?+e.plural:e.plural);const c=Zie(t,s),l=i[CE](e.keypath,c,a),h=wn({},r),d=le(e.tag)||ct(e.tag)?e.tag:Aj();return em(d,h,l)}}}),JD=eoe;function toe(e){return St(e)&&!le(e[0])}function Cj(e,t,n,r){const{slots:i,attrs:s}=t;return()=>{const a={part:!0};let c={};e.locale&&(a.locale=e.locale),le(e.format)?a.key=e.format:ct(e.format)&&(le(e.format.key)&&(a.key=e.format.key),c=Object.keys(e.format).reduce((m,y)=>n.includes(y)?wn({},m,{[y]:e.format[y]}):m,{}));const l=r(e.value,a,c);let h=[a.key];St(l)?h=l.map((m,y)=>{const b=i[m.type],E=b?b({[m.type]:m.value,index:y,parts:l}):[m.value];return toe(E)&&(E[0].key=`${m.type}-${y}`),E}):le(l)&&(h=[l]);const d=wn({},s),v=le(e.tag)||ct(e.tag)?e.tag:Aj();return em(v,d,h)}}const noe=uh({name:"i18n-n",props:wn({value:{type:Number,required:!0},format:{type:[String,Object]}},FI),setup(e,t){const n=e.i18n||UI({useScope:e.scope,__useComponent:!0});return Cj(e,t,_j,(...r)=>n[OE](...r))}}),ZD=noe,roe=uh({name:"i18n-d",props:wn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},FI),setup(e,t){const n=e.i18n||UI({useScope:e.scope,__useComponent:!0});return Cj(e,t,yj,(...r)=>n[NE](...r))}}),eP=roe;function ioe(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function ooe(e){const t=a=>{const{instance:c,modifiers:l,value:h}=a;if(!c||!c.$)throw fn(on.UNEXPECTED_ERROR);const d=ioe(e,c.$),v=tP(h);return[Reflect.apply(d.t,d,[...nP(v)]),d]};return{created:(a,c)=>{const[l,h]=t(c);Fv&&e.global===h&&(a.__i18nWatcher=ho(h.locale,()=>{c.instance&&c.instance.$forceUpdate()})),a.__composer=h,a.textContent=l},unmounted:a=>{Fv&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:c})=>{if(a.__composer){const l=a.__composer,h=tP(c);a.textContent=Reflect.apply(l.t,l,[...nP(h)])}},getSSRProps:a=>{const[c]=t(a);return{textContent:c}}}}function tP(e){if(le(e))return{path:e};if(xe(e)){if(!("path"in e))throw fn(on.REQUIRED_VALUE,"path");return e}else throw fn(on.INVALID_VALUE)}function nP(e){const{path:t,locale:n,args:r,choice:i,plural:s}=e,a={},c=r||{};return le(n)&&(a.locale=n),en(i)&&(a.plural=i),en(s)&&(a.plural=s),[t,c,a]}function soe(e,t,...n){const r=xe(n[0])?n[0]:{},i=!!r.useI18nComponentName;(He(r.globalInstall)?r.globalInstall:!0)&&([i?"i18n":JD.name,"I18nT"].forEach(a=>e.component(a,JD)),[ZD.name,"I18nN"].forEach(a=>e.component(a,ZD)),[eP.name,"I18nD"].forEach(a=>e.component(a,eP))),e.directive("t",ooe(t))}function aoe(e,t,n){return{beforeCreate(){const r=Of();if(!r)throw fn(on.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=t,this===this.$root)this.$i18n=rP(e,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=kE(s);const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=rP(e,i);else{this.$i18n=kE({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&Sj(t,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,a)=>this.$i18n.te(s,a),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Of();if(!r)throw fn(on.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(r),delete this.$i18n}}}function rP(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Ej](t.pluralizationRules||e.pluralizationRules);const n=Eg(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const uoe=Os("global-vue-i18n");function Loe(e={},t){const n=__VUE_I18N_LEGACY_API__&&He(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=He(e.globalInjection)?e.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&n?!!e.allowComposition:!0,s=new Map,[a,c]=coe(e,n),l=Os("");function h(m){return s.get(m)||null}function d(m,y){s.set(m,y)}function v(m){s.delete(m)}{const m={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return i},async install(y,...b){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,m),xe(b[0])){const N=b[0];m.__composerExtend=N.__composerExtend,m.__vueI18nExtend=N.__vueI18nExtend}let E=null;!n&&r&&(E=yoe(y,m.global)),__VUE_I18N_FULL_INSTALL__&&soe(y,m,...b),__VUE_I18N_LEGACY_API__&&n&&y.mixin(aoe(c,c.__composer,m));const T=y.unmount;y.unmount=()=>{E&&E(),m.dispose(),T()}},get global(){return c},dispose(){a.stop()},__instances:s,__getInstance:h,__setInstance:d,__deleteInstance:v};return m}}function UI(e={}){const t=Of();if(t==null)throw fn(on.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw fn(on.NOT_INSTALLED);const n=loe(t),r=hoe(n),i=Ij(t),s=foe(e,i);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!e.__useComponent){if(!n.allowComposition)throw fn(on.NOT_AVAILABLE_IN_LEGACY_MODE);return moe(t,s,r,e)}if(s==="global")return Sj(r,e,i),r;if(s==="parent"){let l=doe(n,t,e.__useComponent);return l==null&&(l=r),l}const a=n;let c=a.__getInstance(t);if(c==null){const l=wn({},e);"__i18n"in i&&(l.__i18n=i.__i18n),r&&(l.__root=r),c=MI(l),a.__composerExtend&&(c[RE]=a.__composerExtend(c)),voe(a,t,c),a.__setInstance(t,c)}return c}function coe(e,t,n){const r=vP();{const i=__VUE_I18N_LEGACY_API__&&t?r.run(()=>kE(e)):r.run(()=>MI(e));if(i==null)throw fn(on.UNEXPECTED_ERROR);return[r,i]}}function loe(e){{const t=xi(e.isCE?uoe:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw fn(e.isCE?on.NOT_INSTALLED_WITH_PROVIDE:on.UNEXPECTED_ERROR);return t}}function foe(e,t){return _g(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function hoe(e){return e.mode==="composition"?e.global:e.global.__composer}function doe(e,t,n=!1){let r=null;const i=t.root;let s=poe(t,n);for(;s!=null;){const a=e;if(e.mode==="composition")r=a.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const c=a.__getInstance(s);c!=null&&(r=c.__composer,n&&r&&!r[Tj]&&(r=null))}if(r!=null||i===s)break;s=s.parent}return r}function poe(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function voe(e,t,n){BP(()=>{},t),KE(()=>{const r=n;e.__deleteInstance(t);const i=r[RE];i&&(i(),delete r[RE])},t)}function moe(e,t,n,r={}){const i=t==="local",s=HE(null);if(i&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw fn(on.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const a=He(r.inheritLocale)?r.inheritLocale:!le(r.locale),c=ia(!i||a?n.locale.value:le(r.locale)?r.locale:Mc),l=ia(!i||a?n.fallbackLocale.value:le(r.fallbackLocale)||St(r.fallbackLocale)||xe(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:c.value),h=ia(Eg(c.value,r)),d=ia(xe(r.datetimeFormats)?r.datetimeFormats:{[c.value]:{}}),v=ia(xe(r.numberFormats)?r.numberFormats:{[c.value]:{}}),m=i?n.missingWarn:He(r.missingWarn)||ms(r.missingWarn)?r.missingWarn:!0,y=i?n.fallbackWarn:He(r.fallbackWarn)||ms(r.fallbackWarn)?r.fallbackWarn:!0,b=i?n.fallbackRoot:He(r.fallbackRoot)?r.fallbackRoot:!0,E=!!r.fallbackFormat,T=_t(r.missing)?r.missing:null,N=_t(r.postTranslation)?r.postTranslation:null,L=i?n.warnHtmlMessage:He(r.warnHtmlMessage)?r.warnHtmlMessage:!0,A=!!r.escapeParameter,D=i?n.modifiers:xe(r.modifiers)?r.modifiers:{},F=r.pluralRules||i&&n.pluralRules;function R(){return[c.value,l.value,h.value,d.value,v.value]}const j=Ut({get:()=>s.value?s.value.locale.value:c.value,set:I=>{s.value&&(s.value.locale.value=I),c.value=I}}),H=Ut({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:I=>{s.value&&(s.value.fallbackLocale.value=I),l.value=I}}),Q=Ut(()=>s.value?s.value.messages.value:h.value),P=Ut(()=>d.value),De=Ut(()=>v.value);function ge(){return s.value?s.value.getPostTranslationHandler():N}function Pe(I){s.value&&s.value.setPostTranslationHandler(I)}function kt(){return s.value?s.value.getMissingHandler():T}function gt(I){s.value&&s.value.setMissingHandler(I)}function Se(I){return R(),I()}function Ae(...I){return s.value?Se(()=>Reflect.apply(s.value.t,null,[...I])):Se(()=>"")}function we(...I){return s.value?Reflect.apply(s.value.rt,null,[...I]):""}function vt(...I){return s.value?Se(()=>Reflect.apply(s.value.d,null,[...I])):Se(()=>"")}function yt(...I){return s.value?Se(()=>Reflect.apply(s.value.n,null,[...I])):Se(()=>"")}function st(I){return s.value?s.value.tm(I):{}}function nt(I,M){return s.value?s.value.te(I,M):!1}function Wt(I){return s.value?s.value.getLocaleMessage(I):{}}function Dt(I,M){s.value&&(s.value.setLocaleMessage(I,M),h.value[I]=M)}function Vt(I,M){s.value&&s.value.mergeLocaleMessage(I,M)}function dt(I){return s.value?s.value.getDateTimeFormat(I):{}}function Y(I,M){s.value&&(s.value.setDateTimeFormat(I,M),d.value[I]=M)}function ee(I,M){s.value&&s.value.mergeDateTimeFormat(I,M)}function ae(I){return s.value?s.value.getNumberFormat(I):{}}function he(I,M){s.value&&(s.value.setNumberFormat(I,M),v.value[I]=M)}function Me(I,M){s.value&&s.value.mergeNumberFormat(I,M)}const Qe={get id(){return s.value?s.value.id:-1},locale:j,fallbackLocale:H,messages:Q,datetimeFormats:P,numberFormats:De,get inheritLocale(){return s.value?s.value.inheritLocale:a},set inheritLocale(I){s.value&&(s.value.inheritLocale=I)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(h.value)},get modifiers(){return s.value?s.value.modifiers:D},get pluralRules(){return s.value?s.value.pluralRules:F},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:m},set missingWarn(I){s.value&&(s.value.missingWarn=I)},get fallbackWarn(){return s.value?s.value.fallbackWarn:y},set fallbackWarn(I){s.value&&(s.value.missingWarn=I)},get fallbackRoot(){return s.value?s.value.fallbackRoot:b},set fallbackRoot(I){s.value&&(s.value.fallbackRoot=I)},get fallbackFormat(){return s.value?s.value.fallbackFormat:E},set fallbackFormat(I){s.value&&(s.value.fallbackFormat=I)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:L},set warnHtmlMessage(I){s.value&&(s.value.warnHtmlMessage=I)},get escapeParameter(){return s.value?s.value.escapeParameter:A},set escapeParameter(I){s.value&&(s.value.escapeParameter=I)},t:Ae,getPostTranslationHandler:ge,setPostTranslationHandler:Pe,getMissingHandler:kt,setMissingHandler:gt,rt:we,d:vt,n:yt,tm:st,te:nt,getLocaleMessage:Wt,setLocaleMessage:Dt,mergeLocaleMessage:Vt,getDateTimeFormat:dt,setDateTimeFormat:Y,mergeDateTimeFormat:ee,getNumberFormat:ae,setNumberFormat:he,mergeNumberFormat:Me};function O(I){I.locale.value=c.value,I.fallbackLocale.value=l.value,Object.keys(h.value).forEach(M=>{I.mergeLocaleMessage(M,h.value[M])}),Object.keys(d.value).forEach(M=>{I.mergeDateTimeFormat(M,d.value[M])}),Object.keys(v.value).forEach(M=>{I.mergeNumberFormat(M,v.value[M])}),I.escapeParameter=A,I.fallbackFormat=E,I.fallbackRoot=b,I.fallbackWarn=y,I.missingWarn=m,I.warnHtmlMessage=L}return $P(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw fn(on.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const I=s.value=e.proxy.$i18n.__composer;t==="global"?(c.value=I.locale.value,l.value=I.fallbackLocale.value,h.value=I.messages.value,d.value=I.datetimeFormats.value,v.value=I.numberFormats.value):i&&O(I)}),Qe}const goe=["locale","fallbackLocale","availableLocales"],iP=["t","rt","d","n","tm","te"];function yoe(e,t){const n=Object.create(null);return goe.forEach(i=>{const s=Object.getOwnPropertyDescriptor(t,i);if(!s)throw fn(on.UNEXPECTED_ERROR);const a=Pn(s.value)?{get(){return s.value.value},set(c){s.value.value=c}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,i,a)}),e.config.globalProperties.$i18n=n,iP.forEach(i=>{const s=Object.getOwnPropertyDescriptor(t,i);if(!s||!s.value)throw fn(on.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${i}`,s)}),()=>{delete e.config.globalProperties.$i18n,iP.forEach(i=>{delete e.config.globalProperties[`$${i}`]})}}zie();__INTLIFY_JIT_COMPILATION__?FD(Hie):FD(Bie);Pie(pie);Lie(uj);if(__INTLIFY_PROD_DEVTOOLS__){const e=ao();e.__INTLIFY__=!0,Tie(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}export{Eoe as A,dq as B,boe as C,Yu as D,qv as E,ui as F,Doe as G,koe as H,Poe as I,Ce as J,Loe as K,Roe as L,NP as a,ah as b,tG as c,Coe as d,cL as e,Ioe as f,Of as g,_oe as h,rG as i,Soe as j,Noe as k,Aoe as l,aG as m,qE as n,BP as o,ar as p,oG as q,ia as r,Toe as s,PW as t,uh as u,Ooe as v,ho as w,Ut as x,_q as y,woe as z};
